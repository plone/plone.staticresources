!function(){function e(){}var r,t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},n=t._,o=Array.prototype,a=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,i=o.push,l=o.slice,f=a.toString,u=a.hasOwnProperty,c=Array.isArray,p=Object.keys,d=Object.create,h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};function y(o,i,t){if(void 0===i)return o;switch(null==t?3:t){case 1:return function(t){return o.call(i,t)};case 3:return function(t,e,n){return o.call(i,t,e,n)};case 4:return function(t,e,n,r){return o.call(i,t,e,n,r)}}return function(){return o.apply(i,arguments)}}function g(t,e,n){return h.iteratee!==r?h.iteratee(t,e):null==t?h.identity:h.isFunction(t)?y(t,e,n):h.isObject(t)&&!h.isArray(t)?h.matcher(t):h.property(t)}function v(o,i){return i=null==i?o.length-1:+i,function(){for(var t=Math.max(arguments.length-i,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+i];switch(i){case 0:return o.call(this,e);case 1:return o.call(this,arguments[0],e);case 2:return o.call(this,arguments[0],arguments[1],e)}for(var r=Array(i+1),n=0;n<i;n++)r[n]=arguments[n];return r[i]=e,o.apply(this,r)}}function m(t){return h.isObject(t)?d?d(t):(e.prototype=t,t=new e,e.prototype=null,t):{}}function w(e){return function(t){return null==t?void 0:t[e]}}function b(t,e){return null!=t&&u.call(t,e)}function x(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function j(t){return"number"==typeof(t=E(t))&&0<=t&&t<=A}"undefined"==typeof exports||exports.nodeType?t._=h:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=h),exports._=h),h.VERSION="1.9.1",h.iteratee=r=function(t,e){return g(t,e,1/0)};var A=Math.pow(2,53)-1,E=w("length");h.each=h.forEach=function(t,e,n){if(e=y(e,n),j(t))for(o=0,i=t.length;o<i;o++)e(t[o],o,t);else for(var r=h.keys(t),o=0,i=r.length;o<i;o++)e(t[r[o]],r[o],t);return t},h.map=h.collect=function(t,e,n){e=g(e,n);for(var r=!j(t)&&h.keys(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var u=r?r[a]:a;i[a]=e(t[u],u,t)}return i};var _=function(l){return function(t,e,n,r){var o=3<=arguments.length;return function(t,e,n,r){var o=!j(t)&&h.keys(t),i=(o||t).length,a=0<l?0:i-1;for(r||(n=t[o?o[a]:a],a+=l);0<=a&&a<i;a+=l){var u=o?o[a]:a;n=e(n,t[u],u,t)}return n}(t,y(e,r,4),n,o)}};h.reduce=h.foldl=h.inject=_(1),h.reduceRight=h.foldr=_(-1),h.find=h.detect=function(t,e,n){n=(j(t)?h.findIndex:h.findKey)(t,e,n);if(void 0!==n&&-1!==n)return t[n]},h.filter=h.select=function(t,r,e){var o=[];return r=g(r,e),h.each(t,function(t,e,n){r(t,e,n)&&o.push(t)}),o},h.reject=function(t,e,n){return h.filter(t,h.negate(g(e)),n)},h.every=h.all=function(t,e,n){e=g(e,n);for(var r=!j(t)&&h.keys(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0},h.some=h.any=function(t,e,n){e=g(e,n);for(var r=!j(t)&&h.keys(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1},h.contains=h.includes=h.include=function(t,e,n,r){return j(t)||(t=h.values(t)),"number"==typeof n&&!r||(n=0),0<=h.indexOf(t,e,n)},h.invoke=v(function(t,n,r){var o,i;return h.isFunction(n)?i=n:h.isArray(n)&&(o=n.slice(0,-1),n=n[n.length-1]),h.map(t,function(t){var e=i;if(!e){if(o&&o.length&&(t=x(t,o)),null==t)return;e=t[n]}return null==e?e:e.apply(t,r)})}),h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matcher(e))},h.findWhere=function(t,e){return h.find(t,h.matcher(e))},h.max=function(t,r,e){var n,o,i=-1/0,a=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var u=0,l=(t=j(t)?t:h.values(t)).length;u<l;u++)null!=(n=t[u])&&i<n&&(i=n);else r=g(r,e),h.each(t,function(t,e,n){o=r(t,e,n),(a<o||o===-1/0&&i===-1/0)&&(i=t,a=o)});return i},h.min=function(t,r,e){var n,o,i=1/0,a=1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var u=0,l=(t=j(t)?t:h.values(t)).length;u<l;u++)null!=(n=t[u])&&n<i&&(i=n);else r=g(r,e),h.each(t,function(t,e,n){((o=r(t,e,n))<a||o===1/0&&i===1/0)&&(i=t,a=o)});return i},h.shuffle=function(t){return h.sample(t,1/0)},h.sample=function(t,e,n){if(null==e||n)return j(t)||(t=h.values(t)),t[h.random(t.length-1)];var r=j(t)?h.clone(t):h.values(t),t=E(r);e=Math.max(Math.min(e,t),0);for(var o=t-1,i=0;i<e;i++){var a=h.random(i,o),u=r[i];r[i]=r[a],r[a]=u}return r.slice(0,e)},h.sortBy=function(t,r,e){var o=0;return r=g(r,e),h.pluck(h.map(t,function(t,e,n){return{value:t,index:o++,criteria:r(t,e,n)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var O=function(i,e){return function(n,r,t){var o=e?[[],[]]:{};return r=g(r,t),h.each(n,function(t,e){e=r(t,e,n);i(o,t,e)}),o}};h.groupBy=O(function(t,e,n){b(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=O(function(t,e,n){t[n]=e}),h.countBy=O(function(t,e,n){b(t,n)?t[n]++:t[n]=1});var k=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(t){return t?h.isArray(t)?l.call(t):h.isString(t)?t.match(k):j(t)?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:(j(t)?t:h.keys(t)).length},h.partition=O(function(t,e,n){t[n?0:1].push(e)},!0),h.first=h.head=h.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:h.initial(t,t.length-e)},h.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:h.rest(t,Math.max(0,t.length-e))},h.rest=h.tail=h.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,Boolean)};var T=function(t,e,n,r){for(var o=(r=r||[]).length,i=0,a=E(t);i<a;i++){var u=t[i];if(j(u)&&(h.isArray(u)||h.isArguments(u)))if(e)for(var l=0,c=u.length;l<c;)r[o++]=u[l++];else T(u,e,n,r),o=r.length;else n||(r[o++]=u)}return r};function S(t,e,n,r,o){return r instanceof e?(n=m(t.prototype),o=t.apply(n,o),h.isObject(o)?o:n):t.apply(n,o)}function I(t,e){var n=L.length,r=t.constructor,o=h.isFunction(r)&&r.prototype||a,i="constructor";for(b(t,i)&&!h.contains(e,i)&&e.push(i);n--;)(i=L[n])in t&&t[i]!==o[i]&&!h.contains(e,i)&&e.push(i)}h.flatten=function(t,e){return T(t,e,!1)},h.without=v(function(t,e){return h.difference(t,e)}),h.uniq=h.unique=function(t,e,n,r){h.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=g(n,r));for(var o=[],i=[],a=0,u=E(t);a<u;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?(a&&i===c||o.push(l),i=c):n?h.contains(i,c)||(i.push(c),o.push(l)):h.contains(o,l)||o.push(l)}return o},h.union=v(function(t){return h.uniq(T(t,!0,!0))}),h.intersection=function(t){for(var e=[],n=arguments.length,r=0,o=E(t);r<o;r++){var i=t[r];if(!h.contains(e,i)){for(var a=1;a<n&&h.contains(arguments[a],i);a++);a===n&&e.push(i)}}return e},h.difference=v(function(t,e){return e=T(e,!0,!0),h.filter(t,function(t){return!h.contains(e,t)})}),h.unzip=function(t){for(var e=t&&h.max(t,E).length||0,n=Array(e),r=0;r<e;r++)n[r]=h.pluck(t,r);return n},h.zip=v(h.unzip),h.object=function(t,e){for(var n={},r=0,o=E(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},_=function(i){return function(t,e,n){e=g(e,n);for(var r=E(t),o=0<i?0:r-1;0<=o&&o<r;o+=i)if(e(t[o],o,t))return o;return-1}},h.findIndex=_(1),h.findLastIndex=_(-1),h.sortedIndex=function(t,e,n,r){for(var o=(n=g(n,r,1))(e),i=0,a=E(t);i<a;){var u=Math.floor((i+a)/2);n(t[u])<o?i=u+1:a=u}return i},O=function(i,a,u){return function(t,e,n){var r=0,o=E(t);if("number"==typeof n)0<i?r=0<=n?n:Math.max(n+o,r):o=0<=n?Math.min(n+1,o):n+o+1;else if(u&&n&&o)return t[n=u(t,e)]===e?n:-1;if(e!=e)return 0<=(n=a(l.call(t,r,o),h.isNaN))?n+r:-1;for(n=0<i?r:o-1;0<=n&&n<o;n+=i)if(t[n]===e)return n;return-1}},h.indexOf=O(1,h.findIndex,h.sortedIndex),h.lastIndexOf=O(-1,h.findLastIndex),h.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||(e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},h.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(l.call(t,r,r+=e));return n},h.bind=v(function(e,n,r){if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");var o=v(function(t){return S(e,o,n,this,r.concat(t))});return o}),h.partial=v(function(o,i){var a=h.partial.placeholder,u=function(){for(var t=0,e=i.length,n=Array(e),r=0;r<e;r++)n[r]=i[r]===a?arguments[t++]:i[r];for(;t<arguments.length;)n.push(arguments[t++]);return S(o,u,this,this,n)};return u}),(h.partial.placeholder=h).bindAll=v(function(t,e){var n=(e=T(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=h.bind(t[r],t)}}),h.memoize=function(r,o){var i=function(t){var e=i.cache,n=""+(o?o.apply(this,arguments):t);return b(e,n)||(e[n]=r.apply(this,arguments)),e[n]};return i.cache={},i},h.delay=v(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(n,r,o){var i,a,u,l,c=0;o=o||{};function s(){c=!1===o.leading?0:h.now(),i=null,l=n.apply(a,u),i||(a=u=null)}function t(){var t=h.now();c||!1!==o.leading||(c=t);var e=r-(t-c);return a=this,u=arguments,e<=0||r<e?(i&&(clearTimeout(i),i=null),c=t,l=n.apply(a,u),i||(a=u=null)):i||!1===o.trailing||(i=setTimeout(s,e)),l}return t.cancel=function(){clearTimeout(i),c=0,i=a=u=null},t},h.debounce=function(n,r,o){function i(t,e){a=null,e&&(u=n.apply(t,e))}var a,u,t=v(function(t){var e;return a&&clearTimeout(a),o?(e=!a,a=setTimeout(i,r),e&&(u=n.apply(this,t))):a=h.delay(i,r,this,t),u});return t.cancel=function(){clearTimeout(a),a=null},t},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},h.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},h.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},h.once=h.partial(h.before,2),h.restArguments=v;var F,M,N=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function P(t,e,n){return e in n}h.keys=function(t){if(!h.isObject(t))return[];if(p)return p(t);var e,n=[];for(e in t)b(t,e)&&n.push(e);return N&&I(t,n),n},h.allKeys=function(t){if(!h.isObject(t))return[];var e,n=[];for(e in t)n.push(e);return N&&I(t,n),n},h.values=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r},h.mapObject=function(t,e,n){e=g(e,n);for(var r=h.keys(t),o=r.length,i={},a=0;a<o;a++){var u=r[a];i[u]=e(t[u],u,t)}return i},h.pairs=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},h.invert=function(t){for(var e={},n=h.keys(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e},h.functions=h.methods=function(t){var e,n=[];for(e in t)h.isFunction(t[e])&&n.push(e);return n.sort()},_=function(l,c){return function(t){var e=arguments.length;if(c&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],o=l(r),i=o.length,a=0;a<i;a++){var u=o[a];c&&void 0!==t[u]||(t[u]=r[u])}return t}},h.extend=_(h.allKeys),h.extendOwn=h.assign=_(h.keys),h.findKey=function(t,e,n){e=g(e,n);for(var r,o=h.keys(t),i=0,a=o.length;i<a;i++)if(e(t[r=o[i]],r,t))return r},h.pick=v(function(t,e){var n={},r=e[0];if(null==t)return n;h.isFunction(r)?(1<e.length&&(r=y(r,e[1])),e=h.allKeys(t)):(r=P,e=T(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],u=t[a];r(u,a,t)&&(n[a]=u)}return n}),h.omit=v(function(t,n){var e,r=n[0];return h.isFunction(r)?(r=h.negate(r),1<n.length&&(e=n[1])):(n=h.map(T(n,!1,!1),String),r=function(t,e){return!h.contains(n,e)}),h.pick(t,r,e)}),h.defaults=_(h.allKeys,!0),h.create=function(t,e){t=m(t);return e&&h.extendOwn(t,e),t},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t},h.isMatch=function(t,e){var n=h.keys(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0},F=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"==o||"object"==o||"object"==typeof e)&&M(t,e,n,r)},M=function(t,e,n,r){t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var o=f.call(t);if(o!==f.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(e)}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,o=e.constructor;if(a!==o&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),i){if((u=t.length)!==e.length)return!1;for(;u--;)if(!F(t[u],e[u],n,r))return!1}else{var l,c=h.keys(t),u=c.length;if(h.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!b(e,l)||!F(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0},h.isEqual=function(t,e){return F(t,e)},h.isEmpty=function(t){return null==t||(j(t)&&(h.isArray(t)||h.isString(t)||h.isArguments(t))?0===t.length:0===h.keys(t).length)},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=c||function(t){return"[object Array]"===f.call(t)},h.isObject=function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){h["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return b(t,"callee")}),O=t.document&&t.document.childNodes,"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof O&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return!h.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&isNaN(t)},h.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){if(!h.isArray(e))return b(t,e);for(var n=e.length,r=0;r<n;r++){var o=e[r];if(null==t||!u.call(t,o))return!1;t=t[o]}return!!n},h.noConflict=function(){return t._=n,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(e){return h.isArray(e)?function(t){return x(t,e)}:w(e)},h.propertyOf=function(e){return null==e?function(){}:function(t){return h.isArray(t)?x(e,t):e[t]}},h.matcher=h.matches=function(e){return e=h.extendOwn({},e),function(t){return h.isMatch(t,e)}},h.times=function(t,e,n){var r=Array(Math.max(0,t));e=y(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()},_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=h.invert(_),O=function(e){function n(t){return e[t]}var t="(?:"+h.keys(e).join("|")+")",r=RegExp(t),o=RegExp(t,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,n):t}},h.escape=O(_),h.unescape=O(c),h.result=function(t,e,n){h.isArray(e)||(e=[e]);var r=e.length;if(!r)return h.isFunction(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=h.isFunction(i)?i.call(t):i}return t};var R=0;function C(t){return"\\"+B[t]}h.uniqueId=function(t){var e=++R+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g;function D(t,e){return t._chain?h(e).chain():e}h.template=function(i,t,e){!t&&e&&(t=e),t=h.defaults({},t,h.templateSettings);var n,r=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),a=0,u="__p+='";i.replace(r,function(t,e,n,r,o){return u+=i.slice(a,o).replace(W,C),a=o+t.length,e?u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?u+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(u+="';\n"+r+"\n__p+='"),t}),u+="';\n",t.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{n=new Function(t.variable||"obj","_",u)}catch(t){throw t.source=u,t}e=function(t){return n.call(this,t,h)},r=t.variable||"obj";return e.source="function("+r+"){\n"+u+"}",e},h.chain=function(t){t=h(t);return t._chain=!0,t},h.mixin=function(n){return h.each(h.functions(n),function(t){var e=h[t]=n[t];h.prototype[t]=function(){var t=[this._wrapped];return i.apply(t,arguments),D(this,e.apply(h,t))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=o[e];h.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],D(this,t)}}),h.each(["concat","join","slice"],function(t){var e=o[t];h.prototype[t]=function(){return D(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}(),function(){var t,n;Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){}function n(){return o.apply(this instanceof e&&t?this:t,r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),o=this;return e.prototype=this.prototype,n.prototype=new e,n});var r={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function e(){}function o(){}function i(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=r.WARN)}function a(t){n=t}e.prototype={output:function(t,e,n){void 0!==window.console&&void 0!==console.log&&(t&&n.unshift(t+":"),n=n.join(" "),console.info,e<=r.DEBUG?(n="[DEBUG] "+n,console.log(n)):e<=r.INFO?console.info(n):e<=r.WARN?console.warn(n):console.error(n))}},o.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=r.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):(e<=r.INFO?console.info:e<=r.WARN?console.warn:console.error).apply(console,n)}},i.prototype={getLogger:function(t){for(var e=t.split("."),n=this,r=this.name?[this.name]:[];e.length;){var o=e.shift();r.push(o),o in n._loggers||(n._loggers[o]=new i(r.join("."),n)),n=n._loggers[o]}return n},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in r&&(this._level=r[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),n.output(this.name,t,e))},debug:function(){this.log(r.DEBUG,arguments)},info:function(){this.log(r.INFO,arguments)},warn:function(){this.log(r.WARN,arguments)},error:function(){this.log(r.ERROR,arguments)},fatal:function(){this.log(r.FATAL,arguments)}},window.console&&window.console.log&&"function"==typeof window.console.log.apply?a(new o):a(new e),t=new i;for(var u,l=/loglevel(|-[^=]+)=([^&]+)/g;null!==(u=l.exec(window.location.search));)(""===u[1]?t:t.getLogger(u[1].slice(1))).setLevel(u[2].toUpperCase());var c={Level:r,getLogger:t.getLogger.bind(t),setEnabled:t.setEnabled.bind(t),isEnabled:t.isEnabled.bind(t),setLevel:t.setLevel.bind(t),getLevel:t.getLevel.bind(t),debug:t.debug.bind(t),info:t.info.bind(t),warn:t.warn.bind(t),error:t.error.bind(t),fatal:t.fatal.bind(t),getWriter:function(){return n},setWriter:a};"function"==typeof define?define("logging",[],function(){return c}):window.logging=c}(),define("pat-logger",["logging"],function(t){return t.getLogger("patterns")}),function(t){"function"==typeof define&&define.amd?define("jquery.browser",["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";function e(t){void 0===t&&(t=window.navigator.userAgent),t=t.toLowerCase();var e,n,r=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||0<=t.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],o=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[],t={},o={browser:r[5]||r[3]||r[1]||"",version:r[2]||r[4]||"0",versionNumber:r[4]||r[2]||"0",platform:o[0]||""};return o.browser&&(t[o.browser]=!0,t.version=o.version,t.versionNumber=parseInt(o.versionNumber,10)),o.platform&&(t[o.platform]=!0),(t.android||t.bb||t.blackberry||t.ipad||t.iphone||t.ipod||t.kindle||t.playbook||t.silk||t["windows phone"])&&(t.mobile=!0),(t.cros||t.mac||t.linux||t.win)&&(t.desktop=!0),(t.chrome||t.opr||t.safari)&&(t.webkit=!0),(t.rv||t.iemobile)&&(o.browser="msie",t.msie=!0),t.edge&&(delete t.edge,o.browser="msedge",t.msedge=!0),t.safari&&t.blackberry&&(e="blackberry",t[o.browser=e]=!0),t.safari&&t.playbook&&(e="playbook",t[o.browser=e]=!0),t.bb&&(n="blackberry",t[o.browser=n]=!0),t.opr&&(o.browser="opera",t.opera=!0),t.safari&&t.android&&(n="android",t[o.browser=n]=!0),t.safari&&t.kindle&&(o.browser="kindle",t.kindle=!0),t.safari&&t.silk&&(o.browser="silk",t.silk=!0),t.name=o.browser,t.platform=o.platform,t}return window.jQBrowser=e(window.navigator.userAgent),window.jQBrowser.uaMatch=e,t&&(t.browser=window.jQBrowser),window.jQBrowser}),define("pat-utils",["jquery","underscore","jquery.browser"],function(i,a,e){i.fn.safeClone=function(){var t=this.clone();return void 0!==e.msie&&t.findInclusive(":input[placeholder]").each(function(t,e){e=i(e);e.attr("placeholder")===e.val()&&e.val("")}),t},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var o,i=Object(this),a=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(n=e),r=0;r<a;)r in i&&(o=i[r],t.call(n,o,r,i)),r++});function u(t){var e=typeof t;return"function"==e||"object"==e&&!!t}var l={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}};return isElementInViewport=function(t,e,n){if(t===[])return!1;t instanceof i&&(t=t[0]);var r=t.getBoundingClientRect(),t=[r.top,r.bottom,r.left,r.right];return!a.every(t,function(t){if(0===t)return!0})&&(e?(void 0===n&&(n=0),r.top<=0+n&&r.bottom>=0+n):0<=r.top&&0<=r.left&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))},{jqueryPlugin:function(n){return function(t,e){return 0===this.length?this:("object"==typeof t&&(e=t,t=void 0),("function"==typeof n?function(e,n,r){return this.each(function(){var t=i(this),t=e.init(t,r);if(n)return void 0===t[n]?(i.error("Method "+n+" does not exist on jQuery."+e.name),!1):"_"===n.charAt(0)?(i.error("Method "+n+" is private on jQuery."+e.name),!1):void t[n].apply(t,[r])}),this}:function(t,e,n){var r=this;if(e){if(t[e])return t[e].apply(r,[r].concat([n]));i.error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(r,[r].concat([n]));return r}).call(this,n,t,e))}},debounce:function(n,r){var o;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){o=null,n.apply(t,e)},r)}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:u,extend:function(t){if(!u(t))return t;for(var e,n,r=1,o=arguments.length;r<o;r++)for(n in e=arguments[r])hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},rebaseURL:function(t,e){return t=new URL(t,window.location).href,-1!==e.indexOf("://")||"/"===e[0]||0===e.indexOf("data:")?e:t.slice(0,t.lastIndexOf("/")+1)+e},findLabel:function(t){for(var e,n=t.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return t.id&&(e=i('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=i('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},elementInViewport:function(t){var e=t.getBoundingClientRect(),n=document.documentElement,t=window.innerWidth||n.clientWidth,n=window.innerHeight||n.clientHeight;return!(e.right<0||e.bottom<0||e.left>t||e.top>n)},removeWildcardClass:function(t,e){var o;-1===e.indexOf("*")?t.removeClass(e):(o=(o=e.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&")).replace(/[*]/g,".*"),o=new RegExp("^"+o+"$"),t.filter("[class]").each(function(){for(var t=i(this),e=t.attr("class").split(/\s+/),n=[],r=0;r<e.length;r++)o.test(e[r])||n.push(e[r]);n.length?t.attr("class",n.join(" ")):t.removeAttr("class")}))},hideOrShow:function(t,e,n,r){var o,i="css"===n.transition||"none"===n.transition?null:n.effect.duration;function a(){t.removeClass("in-progress").addClass(e?"visible":"hidden").trigger("pat-update",{pattern:r,transition:"complete"})}t.removeClass("visible hidden in-progress"),i?(o=l[n.transition],t.addClass("in-progress").trigger("pat-update",{pattern:r,transition:"start"}),t[e?o.show:o.hide]({duration:i,easing:n.effect.easing,complete:a})):("css"!==n.transition&&t[e?"show":"hide"](),a())},addURLQueryParameter:function(t,e,n){var r=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),o=(i=t.toString().split("#"))[0],t=i[1],i=o,i=r.test(o)?o.replace(r,"$1"+e+"="+n):/\?.+$/.test(o)?o+"&"+e+"="+n:o+"?"+e+"="+n;return t&&(i+="#"+t),i},removeDuplicateObjects:function(t){return a.reduce(t,function(t,e){var n=!1;return a.each(t,function(t){n=a.keys(t).length===a.keys(e).length&&!a.chain(t).omit(function(t,e){return this[e]===t}.bind(e)).keys().value().length}),n||t.push(e),t},[])},mergeStack:function(t,r){for(var o=[],e=0;e<r;e++)o.push({});return a.each(t,function(t){for(var e=t.length-1,n=0;n<r;n++)o[n]=i.extend(o[n]||{},t[e<n?e:n])}),o},isElementInViewport:isElementInViewport,hasValue:function(t){return"INPUT"===t.tagName?"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value:"SELECT"===t.tagName?-1!==t.selectedIndex:"TEXTAREA"===t.tagName&&""!==t.value},parseTime:function(t){if(!(t=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(t)))throw new Error("Invalid time");var e=parseFloat(t[1]);switch(t[2]){case"s":return Math.round(1e3*e);case"m":return Math.round(1e3*e*60);case"ms":default:return Math.round(e)}},findRelatives:function(t){var e=i(t),n=i(t),r=i();return n=(n=n.add(e.closest("label"))).add(e.closest("fieldset")),t.id&&(r=i("label[for='"+t.id+"']")),r.length||((e=e.closest("form")).length||(e=i(document.body)),r=e.find("label[for='"+t.name+"']")),n=n.add(r)},getCSSValue:function(t,e,n){return e=window.getComputedStyle(t).getPropertyValue(e),n&&(e=parseFloat(e)||0),e}}}),define("pat-compat",[],function(){var o,i,a,u;Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=arguments[1],o=0;o<n;o++)if(o in e&&!t.call(r,e[o],o,e))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r,o=[],i=arguments[1],a=0;a<n;a++)a in e&&(r=e[a],t.call(i,r,a,e)&&o.push(r));return o}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var o,i=Object(this),a=i.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),r=0;r<a;)r in i&&(o=i[r],t.call(n,o,r,i)),r++}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0==n)return-1;var r=0;if(0<arguments.length&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(0<r||-1)*Math.floor(Math.abs(r)))),n<=r)return-1;for(var o=0<=r?r:Math.max(n-Math.abs(r),0);o<n;o++)if(o in e&&e[o]===t)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0==n)return-1;var r=n;1<arguments.length&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(0<r||-1)*Math.floor(Math.abs(r))));for(var o=0<=r?Math.min(r,n-1):n-Math.abs(r);0<=o;o--)if(o in e&&e[o]===t)return o;return-1}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,o;if(null===this)throw new TypeError(" this is null or not defined");var i,a=Object(this),u=a.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),r=new Array(u),o=0;o<u;)o in a&&(i=a[o],i=t.call(n,i,o,a),r[o]=i),o++;return r}),Array.prototype.reduce||(Array.prototype.reduce=function(t,e){if(null==this)throw new TypeError("Object is null or undefined");var n,r=0,o=this.length>>0;if("function"!=typeof t)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0==o)throw new TypeError("Array length is 0 and no second argument");n=this[0],r=1}else n=e;for(;r<o;)r in this&&(n=t.call(void 0,n,this[r],r,this)),++r;return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;if(0==n&&1===arguments.length)throw new TypeError;var r,o=n-1;if(2<=arguments.length)r=arguments[1];else for(;;){if(o in this){r=this[o--];break}if(--o<0)throw new TypeError}for(;0<=o;)o in e&&(r=t.call(void 0,r,e[o],o,e)),o--;return r}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=arguments[1],o=0;o<n;o++)if(o in e&&t.call(r,e[o],o,e))return!0;return!1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){}function n(){return o.apply(this instanceof e&&t?this:t,r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),o=this;return e.prototype=this.prototype,n.prototype=new e,n}),Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),u=(a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on non-object");var e,n=[];for(e in t)o.call(t,e)&&n.push(e);if(i)for(var r=0;r<u;r++)o.call(t,a[r])&&n.push(a[r]);return n}))}),define("pat-jquery-ext",["jquery"],function(l){var r={init:function(e){var n={time:3,initialTime:8,exceptionAreas:[]};return this.each(function(){var t=l(this);t.data("timeout")||(e&&l.extend(n,e),t.data("timeout",{lastEvent:new Date,trueTime:n.time,time:n.initialTime,untouched:!0,inExceptionArea:!1}),t.on("mouseover.timeout",r.mouseMoved),t.on("mouseenter.timeout",r.mouseMoved),l(n.exceptionAreas).each(function(){t.find(this).live("mouseover.timeout",{parent:t},r.enteredException).live("mouseleave.timeout",{parent:t},r.leftException)}),0<n.initialTime?t.timeout("startTimer"):t.addClass("timeout"))})},enteredException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!0,t.data.parent.data("timeout",e),t.data.parent.trigger("mouseover")},leftException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!1,t.data.parent.data("timeout",e)},destroy:function(){return this.each(function(){var t=l(this),e=t.data("timeout");l(window).off(".timeout"),e.timeout.remove(),t.removeData("timeout")})},mouseMoved:function(){var t=l(this),e=t.data("timeout");t.hasClass("timeout")?(t.removeClass("timeout"),t.timeout("startTimer")):e.untouched&&(e.untouched=!1,e.time=e.trueTime),e.lastEvent=new Date,t.data("timeout",e)},startTimer:function(){var n=l(this),t=n.data("timeout"),r=function(){var t,e=n.data("timeout");e&&e.lastEvent&&(e.inExceptionArea?setTimeout(r,Math.floor(1e3*e.time)):(t=new Date,0<(e=Math.floor(1e3*e.time)-(t-e.lastEvent))?setTimeout(r,100+e):n.addClass("timeout")))};setTimeout(r,Math.floor(1e3*t.time))}};l.fn.timeout=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void l.error("Method "+t+" does not exist on jQuery.timeout"):r.init.apply(this,arguments)},l.extend(l.expr[":"],{scrollable:function(t){return"scroll"===l(t).css("overflow")||"scroll"===l(t).css("overflowX")||"scroll"===l(t).css("overflowY")||(t.clientHeight<t.scrollHeight&&(-1!==l.inArray(l(t).css("overflowY"),["scroll","auto"])||-1!==l.inArray(l(t).css("overflow"),["scroll","auto"]))||t.clientWidth<t.scrollWidth&&(-1!==l.inArray(l(t).css("overflowX"),["scroll","auto"])||-1!==l.inArray(l(t).css("overflow"),["scroll","auto"])))}}),l.fn.makeVisibleInScroll=function(t){var a=null;return"string"==typeof t?a=l("#"+t):t&&(a=l(t)),this.each(function(){var t=l(this),e=a||(0<(e=t.parents(":scrollable")).length?l(e[0]):l(window)),n=t.position().top,r=t.height()+n,o=e.scrollTop(),i=e.height()+o;n<o?e.scrollTop(n):r>i-e.height()/2&&e.scrollTop(n-(e.height()-t.height())/2)})},l.fn.safeOffset=function(){var t,e=this[0],n={top:0,left:0};return e&&e.nodeType?(t=(e.ownerDocument||document).documentElement,jQuery.contains(t,e)?jQuery.fn.offset.apply(this,arguments):n):n},l.fn.setPositionAbsolute=function(i,a,u){return this.each(function(){var t=l(this),e=l(this).width(),n=i.safeOffset(),r=i.width(),o=i.height(),r=n.left+r-e+u,o=n.top+o+a;t.css({"z-index":1,position:"absolute",marginLeft:0,marginTop:0,left:r+"px",top:o+"px",width:e}),t.remove().appendTo("body").show()})},l.fn.positionAncestor=function(o){var i=0,a=0;return this.each(function(){var t=l(this).closest(o);if(t.length&&"static"!==t.css("position")){var e=l(this),n=e.safeOffset().left-parseInt(e.css("marginLeft"),10),r=e.safeOffset().top-parseInt(e.css("marginTop"),10),e=t.safeOffset().left+parseInt(t.css("borderLeftWidth"),10),t=t.safeOffset().top+parseInt(t.css("borderTopWidth"),10);return i=n-e,a=r-t,!1}}),{left:i,top:a}},String.prototype.startsWith||(String.prototype.startsWith=function(t){return null!==this.match("^"+t)}),String.prototype.endsWith||(String.prototype.endsWith=function(t){return null!==this.match(t+"$")}),l.simplePlaceholder={placeholder_class:null,hide_placeholder:function(){var t=l(this);t.val()===t.attr("placeholder")&&t.val("").removeClass(l.simplePlaceholder.placeholder_class)},show_placeholder:function(){var t=l(this);""===t.val()&&t.val(t.attr("placeholder")).addClass(l.simplePlaceholder.placeholder_class)},prevent_placeholder_submit:function(){return l(this).find(".simple-placeholder").each(function(){var t=l(this);t.val()===t.attr("placeholder")&&t.val("")}),!0}},l.fn.simplePlaceholder=function(t){var e;return void 0===document.createElement("input").placeholder&&(e={placeholder_class:"placeholding"},t&&l.extend(e,t),l.simplePlaceholder.placeholder_class=e.placeholder_class,this.each(function(){var t=l(this);t.focus(l.simplePlaceholder.hide_placeholder),t.blur(l.simplePlaceholder.show_placeholder),""===t.val()&&(t.val(t.attr("placeholder")),t.addClass(l.simplePlaceholder.placeholder_class)),t.addClass("simple-placeholder"),l(this.form).submit(l.simplePlaceholder.prevent_placeholder_submit)})),this},l.fn.findInclusive=function(t){return this.find("*").addBack().filter(t)},l.fn.slideIn=function(t,e,n){return this.animate({width:"show"},t,e,n)},l.fn.slideOut=function(t,e,n){return this.animate({width:"hide"},t,e,n)},l.expr[":"].Contains=function(t,e,n){return 0<=l(t).text().toUpperCase().indexOf(n[3].toUpperCase())},l.fn.scopedFind=function(t){return t.startsWith("#")?l(t):this.find(t)}}),define("pat-registry",["jquery","underscore","pat-logger","pat-utils","pat-compat","pat-jquery-ext"],function(i,o,a,r){for(var t,u=a.getLogger("registry"),e=/patterns-disable=([^&]+)/g,n=/patterns-dont-catch/g,l=!1,c={};null!==(t=e.exec(window.location.search));)c[t[1]]=!0,u.info("Pattern disabled via url config:",t[1]);for(;null!==(t=n.exec(window.location.search));)l=!0,u.info("I will not catch init exceptions");var s={patterns:{},initialized:!1,init:function(){i(document).ready(function(){u.info("loaded: "+Object.keys(s.patterns).sort().join(", ")),s.scan(document.body),s.initialized=!0,u.info("finished initial scan.")})},clear:function(){this.patterns={}},transformPattern:function(e,t){if(c[e])u.debug("Skipping disabled pattern:",e);else{var n=s.patterns[e];if(n.transform)try{n.transform(i(t))}catch(t){if(l)throw t;u.error("Transform error for pattern"+e,t)}}},initPattern:function(t,e,n){var r=i(e),o=s.patterns[t];if(o.init&&(plog=a.getLogger("pat."+t),r.is(o.trigger))){plog.debug("Initialising:",r);try{o.init(r,null,n),plog.debug("done.")}catch(t){if(l)throw t;plog.error("Caught error:",t)}}},orderPatterns:function(t){return o.contains(t,"validation")&&o.contains(t,"inject")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t},scan:function(t,n,r){var e=[];(n=this.orderPatterns(n||Object.keys(s.patterns))).forEach(o.partial(this.transformPattern,o,t)),n=o.each(n,function(t){t=s.patterns[t];t.trigger&&e.unshift(t.trigger)}),i(t).findInclusive(e.join(",")).filter(function(){return 0===i(this).parents("pre").length}).filter(":not(.cant-touch-this)").toArray().reduceRight(function(t,e){n.forEach(o.partial(this.initPattern,o,e,r))}.bind(this),null),i("body").addClass("patterns-loaded")},register:function(t,e){var n;return(e=e||t.name)?s.patterns[e]?(u.error("Already have a pattern called: "+e),!1):((s.patterns[e]=t).jquery_plugin&&(n=("pat-"+e).replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()}),i.fn[n]=r.jqueryPlugin(t),i.fn[n.replace(/^pat/,"pattern")]=i.fn[n]),u.debug("Registered pattern:",e,t),s.initialized&&s.scan(document.body,[e]),!0):(u.error("Pattern lacks a name:",t),!1)}};return s}),define("pat-mockup-parser",["jquery"],function(a){"use strict";return{getOptions:function t(e,n,r){r=r||{},0===e.length||a.nodeName(e[0],"body")||(r=t(e.parent(),n,r));var o,i={};return 0!==e.length&&(i=e.data("pat-"+n))&&"string"==typeof i&&(o={},a.each(i.split(";"),function(t,e){(e=e.split(":")).reverse();var n=(n=e.pop()).replace(/^\s+|\s+$/g,"");e.reverse();e=(e=e.join(":")).replace(/^\s+|\s+$/g,"");o[n]=e}),i=o),a.extend(!0,{},r,i)}}}),define("pat-base",["jquery","pat-registry","pat-mockup-parser","pat-logger"],function(o,a,u,l){"use strict";function i(t,e,n){var r=this.prototype.name,o=l.getLogger("pat."+r),i=t.data("pattern-"+r);if(void 0===i&&a.patterns[r]){try{e="mockup"===this.prototype.parser?u.getOptions(t,r,e):e,i=new a.patterns[r](t,e,n)}catch(t){o.error("Failed while initializing '"+r+"' pattern.",t)}t.data("pattern-"+r,i)}return i}function c(t,e,n){this.$el=t,this.options=o.extend(!0,{},this.defaults||{},e||{}),this.init(t,e,n),this.emit("init")}var s=l.getLogger("Patternslib Base");return c.prototype={constructor:c,on:function(t,e){this.$el.on(t+"."+this.name+".patterns",e)},emit:function(t,e){void 0===e&&(e=[]),this.$el.trigger(t+"."+this.name+".patterns",e)}},c.extend=function(t){var e,n=this;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");(e=t.hasOwnProperty("constructor")?t.constructor:function(){n.apply(this,arguments)}).extend=c.extend,e.init=i,e.jquery_plugin=!0,e.trigger=t.trigger;function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,o.extend(!0,e.prototype,t),e.__super__=n.prototype,t.name?t.trigger?a.register(e,t.name):s.warn("The pattern '"+t.name+"' does not have a trigger attribute, it will not be registered."):s.warn("This pattern without a name attribute will not be registered!"),e},c}),window.jQuery&&define("jquery",[],function(){"use strict";return window.jQuery.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),window.jQuery}),require(["jquery","pat-registry","pat-base","pat-logger","pat-mockup-parser"],function(o,t){"use strict";window.parent!==window&&"IFRAME"!==window.frameElement.nodeName||o(document).ready(function(){o("body").addClass("pat-plone"),t.initialized||t.init()}),o(document).ready(function(){!0!=("selected"===o("#form-widgets-use_cookie_negotiation > input").value)?o("#formfield-form-widgets-authenticated_users_only").hide():o("#formfield-form-widgets-authenticated_users_only").show()}),o(document).ready(function(){function t(t){var e=o("#form-widgets-highpixeldensity_scales option:selected").attr("value"),n=o('div[data-fieldname="form.widgets.quality_2x"]'),r=o('div[data-fieldname="form.widgets.quality_3x"]');"disabled"==e?(n.fadeOut(),r.fadeOut()):"2x"==e?(n.fadeIn(),r.fadeOut()):"3x"==e&&(n.fadeIn(),r.fadeIn())}o("#ImagingSettings")&&(o('div[data-fieldname="form.widgets.quality_2x"]').hide(),o('div[data-fieldname="form.widgets.quality_3x"]').hide(),t(),o("#form-widgets-highpixeldensity_scales").change(t))})}),define("/home/_thet/data/dev/plone/buildout.coredev-60/src/plone.staticresources/src/plone/staticresources/static/plone-base.js",function(){});
//# sourceMappingURL=plone-base-compiled.min.js.map