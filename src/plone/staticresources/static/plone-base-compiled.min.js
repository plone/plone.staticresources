!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},e=t._,n=Array.prototype,r=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,o=n.push,a=n.slice,u=r.toString,l=r.hasOwnProperty,c=Array.isArray,s=Object.keys,f=Object.create,p=function(){},h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};"undefined"==typeof exports||exports.nodeType?t._=h:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=h),exports._=h),h.VERSION="1.9.1";var d,v=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},y=function(t,e,n){return h.iteratee!==d?h.iteratee(t,e):null==t?h.identity:h.isFunction(t)?v(t,e,n):h.isObject(t)&&!h.isArray(t)?h.matcher(t):h.property(t)};h.iteratee=d=function(t,e){return y(t,e,1/0)};var g=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},m=function(t){if(!h.isObject(t))return{};if(f)return f(t);p.prototype=t;var e=new p;return p.prototype=null,e},w=function(t){return function(e){return null==e?void 0:e[t]}},b=function(t,e){return null!=t&&l.call(t,e)},x=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},j=Math.pow(2,53)-1,A=w("length"),E=function(t){var e=A(t);return"number"==typeof e&&e>=0&&e<=j};h.each=h.forEach=function(t,e,n){e=v(e,n);var r,i;if(E(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=h.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},h.map=h.collect=function(t,e,n){e=y(e,n);for(var r=!E(t)&&h.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=e(t[u],u,t)}return o};var _=function(t){var e=function(e,n,r,i){var o=!E(e)&&h.keys(e),a=(o||e).length,u=t>0?0:a-1;for(i||(r=e[o?o[u]:u],u+=t);u>=0&&u<a;u+=t){var l=o?o[u]:u;r=n(r,e[l],l,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,v(n,i,4),r,o)}};h.reduce=h.foldl=h.inject=_(1),h.reduceRight=h.foldr=_(-1),h.find=h.detect=function(t,e,n){var r=(E(t)?h.findIndex:h.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},h.filter=h.select=function(t,e,n){var r=[];return e=y(e,n),h.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},h.reject=function(t,e,n){return h.filter(t,h.negate(y(e)),n)},h.every=h.all=function(t,e,n){e=y(e,n);for(var r=!E(t)&&h.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},h.some=h.any=function(t,e,n){e=y(e,n);for(var r=!E(t)&&h.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},h.contains=h.includes=h.include=function(t,e,n,r){return E(t)||(t=h.values(t)),("number"!=typeof n||r)&&(n=0),h.indexOf(t,e,n)>=0},h.invoke=g(function(t,e,n){var r,i;return h.isFunction(e)?i=e:h.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),h.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=x(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matcher(e))},h.findWhere=function(t,e){return h.find(t,h.matcher(e))},h.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,l=(t=E(t)?t:h.values(t)).length;u<l;u++)null!=(r=t[u])&&r>o&&(o=r);else e=y(e,n),h.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},h.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,l=(t=E(t)?t:h.values(t)).length;u<l;u++)null!=(r=t[u])&&r<o&&(o=r);else e=y(e,n),h.each(t,function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},h.shuffle=function(t){return h.sample(t,1/0)},h.sample=function(t,e,n){if(null==e||n)return E(t)||(t=h.values(t)),t[h.random(t.length-1)];var r=E(t)?h.clone(t):h.values(t),i=A(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var u=h.random(a,o),l=r[a];r[a]=r[u],r[u]=l}return r.slice(0,e)},h.sortBy=function(t,e,n){var r=0;return e=y(e,n),h.pluck(h.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var O=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=y(r,i),h.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};h.groupBy=O(function(t,e,n){b(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=O(function(t,e,n){t[n]=e}),h.countBy=O(function(t,e,n){b(t,n)?t[n]++:t[n]=1});var k=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(t){return t?h.isArray(t)?a.call(t):h.isString(t)?t.match(k):E(t)?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:E(t)?t.length:h.keys(t).length},h.partition=O(function(t,e,n){t[n?0:1].push(e)},!0),h.first=h.head=h.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:h.initial(t,t.length-e)},h.initial=function(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:h.rest(t,Math.max(0,t.length-e))},h.rest=h.tail=h.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,Boolean)};var T=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,a=A(t);o<a;o++){var u=t[o];if(E(u)&&(h.isArray(u)||h.isArguments(u)))if(e)for(var l=0,c=u.length;l<c;)r[i++]=u[l++];else T(u,e,n,r),i=r.length;else n||(r[i++]=u)}return r};h.flatten=function(t,e){return T(t,e,!1)},h.without=g(function(t,e){return h.difference(t,e)}),h.uniq=h.unique=function(t,e,n,r){h.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=y(n,r));for(var i=[],o=[],a=0,u=A(t);a<u;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?(a&&o===c||i.push(l),o=c):n?h.contains(o,c)||(o.push(c),i.push(l)):h.contains(i,l)||i.push(l)}return i},h.union=g(function(t){return h.uniq(T(t,!0,!0))}),h.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=A(t);r<i;r++){var o=t[r];if(!h.contains(e,o)){var a;for(a=1;a<n&&h.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},h.difference=g(function(t,e){return e=T(e,!0,!0),h.filter(t,function(t){return!h.contains(e,t)})}),h.unzip=function(t){for(var e=t&&h.max(t,A).length||0,n=Array(e),r=0;r<e;r++)n[r]=h.pluck(t,r);return n},h.zip=g(h.unzip),h.object=function(t,e){for(var n={},r=0,i=A(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var I=function(t){return function(e,n,r){n=y(n,r);for(var i=A(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};h.findIndex=I(1),h.findLastIndex=I(-1),h.sortedIndex=function(t,e,n,r){for(var i=(n=y(n,r,1))(e),o=0,a=A(t);o<a;){var u=Math.floor((o+a)/2);n(t[u])<i?o=u+1:a=u}return o};var F=function(t,e,n){return function(r,i,o){var u=0,l=A(r);if("number"==typeof o)t>0?u=o>=0?o:Math.max(o+l,u):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return(o=e(a.call(r,u,l),h.isNaN))>=0?o+u:-1;for(o=t>0?u:l-1;o>=0&&o<l;o+=t)if(r[o]===i)return o;return-1}};h.indexOf=F(1,h.findIndex,h.sortedIndex),h.lastIndexOf=F(-1,h.findLastIndex),h.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},h.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(a.call(t,r,r+=e));return n};var S=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=m(t.prototype),a=t.apply(o,i);return h.isObject(a)?a:o};h.bind=g(function(t,e,n){if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");var r=g(function(i){return S(t,r,e,this,n.concat(i))});return r}),h.partial=g(function(t,e){var n=h.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),u=0;u<o;u++)a[u]=e[u]===n?arguments[i++]:e[u];for(;i<arguments.length;)a.push(arguments[i++]);return S(t,r,this,this,a)};return r}),h.partial.placeholder=h,h.bindAll=g(function(t,e){var n=(e=T(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=h.bind(t[r],t)}}),h.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return b(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},h.delay=g(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(t,e,n){var r,i,o,a,u=0;n||(n={});var l=function(){u=!1===n.leading?0:h.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=h.now();u||!1!==n.leading||(u=c);var s=e-(c-u);return i=this,o=arguments,s<=0||s>e?(r&&(clearTimeout(r),r=null),u=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,s)),a};return c.cancel=function(){clearTimeout(r),u=0,r=i=o=null},c},h.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=g(function(a){if(r&&clearTimeout(r),n){var u=!r;r=setTimeout(o,e),u&&(i=t.apply(this,a))}else r=h.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},h.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},h.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},h.once=h.partial(h.before,2),h.restArguments=g;var M=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(t,e){var n=N.length,i=t.constructor,o=h.isFunction(i)&&i.prototype||r,a="constructor";for(b(t,a)&&!h.contains(e,a)&&e.push(a);n--;)(a=N[n])in t&&t[a]!==o[a]&&!h.contains(e,a)&&e.push(a)};h.keys=function(t){if(!h.isObject(t))return[];if(s)return s(t);var e=[];for(var n in t)b(t,n)&&e.push(n);return M&&R(t,e),e},h.allKeys=function(t){if(!h.isObject(t))return[];var e=[];for(var n in t)e.push(n);return M&&R(t,e),e},h.values=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},h.mapObject=function(t,e,n){e=y(e,n);for(var r=h.keys(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=e(t[u],u,t)}return o},h.pairs=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},h.invert=function(t){for(var e={},n=h.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()};var L=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,l=0;l<u;l++){var c=a[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}};h.extend=L(h.allKeys),h.extendOwn=h.assign=L(h.keys),h.findKey=function(t,e,n){e=y(e,n);for(var r,i=h.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r};var P=function(t,e,n){return e in n};h.pick=g(function(t,e){var n={},r=e[0];if(null==t)return n;h.isFunction(r)?(e.length>1&&(r=v(r,e[1])),e=h.allKeys(t)):(r=P,e=T(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],u=t[a];r(u,a,t)&&(n[a]=u)}return n}),h.omit=g(function(t,e){var n,r=e[0];return h.isFunction(r)?(r=h.negate(r),e.length>1&&(n=e[1])):(e=h.map(T(e,!1,!1),String),r=function(t,n){return!h.contains(e,n)}),h.pick(t,r,n)}),h.defaults=L(h.allKeys,!0),h.create=function(t,e){var n=m(t);return e&&h.extendOwn(n,e),n},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t},h.isMatch=function(t,e){var n=h.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var q,B;q=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&B(t,e,n,r)},B=function(t,e,n,r){t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var o=u.call(t);if(o!==u.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return i.valueOf.call(t)===i.valueOf.call(e)}var a="[object Array]"===o;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(h.isFunction(l)&&l instanceof l&&h.isFunction(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),a){if((s=t.length)!==e.length)return!1;for(;s--;)if(!q(t[s],e[s],n,r))return!1}else{var f,p=h.keys(t);if(s=p.length,h.keys(e).length!==s)return!1;for(;s--;)if(f=p[s],!b(e,f)||!q(t[f],e[f],n,r))return!1}return n.pop(),r.pop(),!0},h.isEqual=function(t,e){return q(t,e)},h.isEmpty=function(t){return null==t||(E(t)&&(h.isArray(t)||h.isString(t)||h.isArguments(t))?0===t.length:0===h.keys(t).length)},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=c||function(t){return"[object Array]"===u.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){h["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return b(t,"callee")});var C=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof C&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return!h.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&isNaN(t)},h.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){if(!h.isArray(e))return b(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!l.call(t,i))return!1;t=t[i]}return!!n},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(t){return h.isArray(t)?function(e){return x(e,t)}:w(t)},h.propertyOf=function(t){return null==t?function(){}:function(e){return h.isArray(e)?x(t,e):t[e]}},h.matcher=h.matches=function(t){return t=h.extendOwn({},t),function(e){return h.isMatch(e,t)}},h.times=function(t,e,n){var r=Array(Math.max(0,t));e=v(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=h.invert(W),U=function(t){var e=function(e){return t[e]},n="(?:"+h.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};h.escape=U(W),h.unescape=U(D),h.result=function(t,e,n){h.isArray(e)||(e=[e]);var r=e.length;if(!r)return h.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=h.isFunction(o)?o.call(t):o}return t};var $=0;h.uniqueId=function(t){var e=++$+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,Q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+Q[t]};h.template=function(t,e,n){!e&&n&&(e=n),e=h.defaults({},e,h.templateSettings);var r=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,u){return o+=t.slice(i,u).replace(G,H),i=u+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var u=function(t){return a.call(this,t,h)},l=e.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},h.chain=function(t){var e=h(t);return e._chain=!0,e};var K=function(t,e){return t._chain?h(e).chain():e};h.mixin=function(t){return h.each(h.functions(t),function(e){var n=h[e]=t[e];h.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),K(this,n.apply(h,t))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];h.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],K(this,n)}}),h.each(["concat","join","slice"],function(t){var e=n[t];h.prototype[t]=function(){return K(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}(),function(){function t(){}function e(){}function n(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=a.WARN)}function r(t){o=t}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var i,o,a={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};t.prototype={output:function(t,e,n){if(void 0!==window.console&&void 0!==console.log){t&&n.unshift(t+":");var r=n.join(" ");if(void 0===typeof console.info){var i;i=e<=a.DEBUG?"DEBUG":e<=a.INFO?"INFO":e<=a.WARN?"WARN":e<=a.ERROR?"ERROR":"FATAL",console.log("["+i+"] "+r)}else e<=a.DEBUG?(r="[DEBUG] "+r,console.log(r)):e<=a.INFO?console.info(r):e<=a.WARN?console.warn(r):console.error(r)}}},e.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=a.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):e<=a.INFO?console.info.apply(console,n):e<=a.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},n.prototype={getLogger:function(t){for(var e=t.split("."),r=this,i=this.name?[this.name]:[];e.length;){var o=e.shift();i.push(o),o in r._loggers||(r._loggers[o]=new n(i.join("."),r)),r=r._loggers[o]}return r},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in a&&(this._level=a[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),o.output(this.name,t,e))},debug:function(){this.log(a.DEBUG,arguments)},info:function(){this.log(a.INFO,arguments)},warn:function(){this.log(a.WARN,arguments)},error:function(){this.log(a.ERROR,arguments)},fatal:function(){this.log(a.FATAL,arguments)}},r(window.console&&window.console.log&&"function"==typeof window.console.log.apply?new e:new t),i=new n;for(var u,l=/loglevel(|-[^=]+)=([^&]+)/g;null!==(u=l.exec(window.location.search));)(""===u[1]?i:i.getLogger(u[1].slice(1))).setLevel(u[2].toUpperCase());var c={Level:a,getLogger:i.getLogger.bind(i),setEnabled:i.setEnabled.bind(i),isEnabled:i.isEnabled.bind(i),setLevel:i.setLevel.bind(i),getLevel:i.getLevel.bind(i),debug:i.debug.bind(i),info:i.info.bind(i),warn:i.warn.bind(i),error:i.error.bind(i),fatal:i.fatal.bind(i),getWriter:function(){return o},setWriter:r};"function"==typeof define?define("logging",[],function(){return c}):window.logging=c}(),define("pat-logger",["logging"],function(t){return t.getLogger("patterns")}),function(t){"function"==typeof define&&define.amd?define("jquery.browser",["jquery"],function(e){return t(e)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";function e(t){void 0===t&&(t=window.navigator.userAgent),t=t.toLowerCase();var e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[],r={},i={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",versionNumber:e[4]||e[2]||"0",platform:n[0]||""};if(i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(r[i.platform]=!0),(r.android||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"])&&(r.mobile=!0),(r.cros||r.mac||r.linux||r.win)&&(r.desktop=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){i.browser="msie",r.msie=!0}if(r.edge){delete r.edge;i.browser="msedge",r.msedge=!0}if(r.safari&&r.blackberry){i.browser="blackberry",r.blackberry=!0}if(r.safari&&r.playbook){i.browser="playbook",r.playbook=!0}if(r.bb){var o="blackberry";i.browser=o,r[o]=!0}if(r.opr){i.browser="opera",r.opera=!0}if(r.safari&&r.android){i.browser="android",r.android=!0}if(r.safari&&r.kindle){i.browser="kindle",r.kindle=!0}if(r.safari&&r.silk){i.browser="silk",r.silk=!0}return r.name=i.browser,r.platform=i.platform,r}return window.jQBrowser=e(window.navigator.userAgent),window.jQBrowser.uaMatch=e,t&&(t.browser=window.jQBrowser),window.jQBrowser}),define("pat-utils",["jquery","underscore","jquery.browser"],function(t,e){function n(t){var e=typeof t;return"function"===e||"object"===e&&!!t}t.fn.safeClone=function(){var e=this.clone();return void 0!==t.browser.msie&&e.findInclusive(":input[placeholder]").each(function(e,n){var r=t(n);r.attr("placeholder")===r.val()&&r.val("")}),e},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;r<o;){var a;r in i&&(a=i[r],t.call(n,a,r,i)),r++}});var r=function(e,n,r){var i=this;return i.each(function(){var i,o=t(this);if(i=e.init(o,r),n){if(void 0===i[n])return t.error("Method "+n+" does not exist on jQuery."+e.name),!1;if("_"===n.charAt(0))return t.error("Method "+n+" is private on jQuery."+e.name),!1;i[n].apply(i,[r])}}),i},i=function(e,n,r){var i=this;if(n){if(e[n])return e[n].apply(i,[i].concat([r]));t.error("Method "+n+" does not exist on jQuery."+e.name)}else e.init.apply(i,[i].concat([r]));return i},o={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}};return isElementInViewport=function(n,r,i){if(n===[])return!1;n instanceof t&&(n=n[0]);var o=n.getBoundingClientRect(),a=[o.top,o.bottom,o.left,o.right];return!e.every(a,function(t){if(0===t)return!0})&&(r?(void 0===i&&(i=0),o.top<=0+i&&o.bottom>=0+i):o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth))},{jqueryPlugin:function(t){return function(e,n){var o=this;return 0===o.length?o:("object"==typeof e&&(n=e,e=void 0),"function"==typeof t?r.call(this,t,e,n):i.call(this,t,e,n))}},debounce:function(t,e){var n;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){n=null,t.apply(r,i)},e)}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:n,extend:function(t){if(!n(t))return t;for(var e,r,i=1,o=arguments.length;i<o;i++){e=arguments[i];for(r in e)hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},rebaseURL:function(t,e){return-1!==e.indexOf("://")||"/"===e[0]?e:t.slice(0,t.lastIndexOf("/")+1)+e},findLabel:function(e){for(var n,r=e.parentNode;r&&11!==r.nodeType;r=r.parentNode)if("LABEL"===r.tagName)return r;return e.id&&(n=t('label[for="'+e.id+'"]')),n&&0===n.length&&e.form&&(n=t('label[for="'+e.name+'"]',e.form)),n&&n.length?n[0]:null},elementInViewport:function(t){var e=t.getBoundingClientRect(),n=document.documentElement,r=window.innerWidth||n.clientWidth,i=window.innerHeight||n.clientHeight;return!(e.right<0||e.bottom<0||e.left>r||e.top>i)},removeWildcardClass:function(e,n){if(-1===n.indexOf("*"))e.removeClass(n);else{var r=n.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");r=r.replace(/[*]/g,".*"),r=new RegExp("^"+r+"$"),e.filter("[class]").each(function(){for(var e=t(this),n=e.attr("class").split(/\s+/),i=[],o=0;o<n.length;o++)r.test(n[o])||i.push(n[o]);i.length?e.attr("class",i.join(" ")):e.removeAttr("class")})}},hideOrShow:function(t,e,n,r){var i="css"===n.transition||"none"===n.transition?null:n.effect.duration;t.removeClass("visible hidden in-progress");var a=function(){t.removeClass("in-progress").addClass(e?"visible":"hidden").trigger("pat-update",{pattern:r,transition:"complete"})};if(i){var u=o[n.transition];t.addClass("in-progress").trigger("pat-update",{pattern:r,transition:"start"}),t[e?u.show:u.hide]({duration:i,easing:n.effect.easing,complete:a})}else"css"!==n.transition&&t[e?"show":"hide"](),a()},addURLQueryParameter:function(t,e,n){var r=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),i=t.toString().split("#"),o=i[0],a=i[1],u=/\?.+$/,l=o;return l=r.test(o)?o.replace(r,"$1"+e+"="+n):u.test(o)?o+"&"+e+"="+n:o+"?"+e+"="+n,a&&(l+="#"+a),l},removeDuplicateObjects:function(t){var n=function(t,e){return this[e]===t};return e.reduce(t,function(t,r){var i=!1;return e.each(t,function(t){i=e.keys(t).length===e.keys(r).length&&!e.chain(t).omit(n.bind(r)).keys().value().length}),i||t.push(r),t},[])},mergeStack:function(n,r){for(var i=[],o=0;o<r;o++)i.push({});return e.each(n,function(e){for(var n=e.length-1,o=0;o<r;o++)i[o]=t.extend(i[o]||{},e[o>n?n:o])}),i},isElementInViewport:isElementInViewport}}),define("pat-compat",[],function(){Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=arguments[1],i=0;i<n;i++)if(i in e&&!t.call(r,e[i],i,e))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=[],i=arguments[1],o=0;o<n;o++)if(o in e){var a=e[o];t.call(i,a,o,e)&&r.push(a)}return r}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),r=0;r<o;){var a;r in i&&(a=i[r],t.call(n,a,r,i)),r++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&((r=Number(arguments[1]))!==r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=n;arguments.length>1&&((r=Number(arguments[1]))!==r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var i=r>=0?Math.min(r,n-1):n-Math.abs(r);i>=0;i--)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,i;if(null===this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),r=new Array(a),i=0;i<a;){var u,l;i in o&&(u=o[i],l=t.call(n,u,i,o),r[i]=l),i++}return r}),Array.prototype.reduce||(Array.prototype.reduce=function(t){if(null===this||void 0===this)throw new TypeError("Object is null or undefined");var e,n=0,r=this.length>>0;if("function"!=typeof t)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0===r)throw new TypeError("Array length is 0 and no second argument");e=this[0],n=1}else e=arguments[1];for(;n<r;)n in this&&(e=t.call(void 0,e,this[n],n,this)),++n;return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;if(0===n&&1===arguments.length)throw new TypeError;var r,i=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(i in this){r=this[i--];break}if(--i<0)throw new TypeError}for(;i>=0;)i in e&&(r=t.call(void 0,r,e[i],i,e)),i--;return r}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=arguments[1],i=0;i<n;i++)if(i in e&&t.call(r,e[i],i,e))return!0;return!1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in i)t.call(i,a)&&o.push(a);if(e)for(var u=0;u<r;u++)t.call(i,n[u])&&o.push(n[u]);return o}}())}),define("pat-jquery-ext",["jquery"],function(t){var e={init:function(n){var r={time:3,initialTime:8,exceptionAreas:[]};return this.each(function(){var i=t(this);i.data("timeout")||(n&&t.extend(r,n),i.data("timeout",{lastEvent:new Date,trueTime:r.time,time:r.initialTime,untouched:!0,inExceptionArea:!1}),i.bind("mouseover.timeout",e.mouseMoved),i.bind("mouseenter.timeout",e.mouseMoved),t(r.exceptionAreas).each(function(){i.find(this).live("mouseover.timeout",{parent:i},e.enteredException).live("mouseleave.timeout",{parent:i},e.leftException)}),r.initialTime>0?i.timeout("startTimer"):i.addClass("timeout"))})},enteredException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!0,t.data.parent.data("timeout",e),t.data.parent.trigger("mouseover")},leftException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!1,t.data.parent.data("timeout",e)},destroy:function(){return this.each(function(){var e=t(this),n=e.data("timeout");t(window).unbind(".timeout"),n.timeout.remove(),e.removeData("timeout")})},mouseMoved:function(){var e=t(this),n=e.data("timeout");e.hasClass("timeout")?(e.removeClass("timeout"),e.timeout("startTimer")):n.untouched&&(n.untouched=!1,n.time=n.trueTime),n.lastEvent=new Date,e.data("timeout",n)},startTimer:function(){var e=t(this),n=e.data("timeout"),r=function(){var t=e.data("timeout");if(t&&t.lastEvent)if(t.inExceptionArea)setTimeout(r,Math.floor(1e3*t.time));else{var n=new Date,i=Math.floor(1e3*t.time)-(n-t.lastEvent);i>0?setTimeout(r,i+100):e.addClass("timeout")}};setTimeout(r,Math.floor(1e3*n.time))}};t.fn.timeout=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.timeout"):e.init.apply(this,arguments)},t.extend(t.expr[":"],{scrollable:function(e){return"scroll"===t(e).css("overflow")||"scroll"===t(e).css("overflowX")||"scroll"===t(e).css("overflowY")||(e.clientHeight<e.scrollHeight&&(-1!==t.inArray(t(e).css("overflowY"),["scroll","auto"])||-1!==t.inArray(t(e).css("overflow"),["scroll","auto"]))||e.clientWidth<e.scrollWidth&&(-1!==t.inArray(t(e).css("overflowX"),["scroll","auto"])||-1!==t.inArray(t(e).css("overflow"),["scroll","auto"])))}}),t.fn.makeVisibleInScroll=function(e){var n=null;return"string"==typeof e?n=t("#"+e):e&&(n=t(e)),this.each(function(){var e,r=t(this);n?e=n:(e=r.parents(":scrollable"),e=t(e.length>0?e[0]:window));var i=r.position().top,o=r.height()+i,a=e.scrollTop(),u=e.height()+a;i<a?e.scrollTop(i):o>u-e.height()/2&&e.scrollTop(i-(e.height()-r.height())/2)})},t.fn.setPositionAbsolute=function(e,n,r){return this.each(function(){var i=t(this),o=t(this).width(),a=e.offset(),u=e.width(),l=e.height(),c=a.left+u-o+r,s=a.top+l+n;i.css({"z-index":1,position:"absolute",marginLeft:0,marginTop:0,left:c+"px",top:s+"px",width:o}),i.remove().appendTo("body").show()})},t.fn.positionAncestor=function(e){var n=0,r=0;return this.each(function(){var i=t(this).closest(e);if(i.length&&"static"!==i.css("position")){var o=t(this),a=o.offset().left-parseInt(o.css("marginLeft"),10),u=o.offset().top-parseInt(o.css("marginTop"),10),l=i.offset().left+parseInt(i.css("borderLeftWidth"),10),c=i.offset().top+parseInt(i.css("borderTopWidth"),10);return n=a-l,r=u-c,!1}}),{left:n,top:r}},String.prototype.startsWith=function(t){return null!==this.match("^"+t)},String.prototype.endsWith=function(t){return null!==this.match(t+"$")},t.simplePlaceholder={placeholder_class:null,hide_placeholder:function(){var e=t(this);e.val()===e.attr("placeholder")&&e.val("").removeClass(t.simplePlaceholder.placeholder_class)},show_placeholder:function(){var e=t(this);""===e.val()&&e.val(e.attr("placeholder")).addClass(t.simplePlaceholder.placeholder_class)},prevent_placeholder_submit:function(){return t(this).find(".simple-placeholder").each(function(){var e=t(this);e.val()===e.attr("placeholder")&&e.val("")}),!0}},t.fn.simplePlaceholder=function(e){if(void 0===document.createElement("input").placeholder){var n={placeholder_class:"placeholding"};e&&t.extend(n,e),t.simplePlaceholder.placeholder_class=n.placeholder_class,this.each(function(){var e=t(this);e.focus(t.simplePlaceholder.hide_placeholder),e.blur(t.simplePlaceholder.show_placeholder),""===e.val()&&(e.val(e.attr("placeholder")),e.addClass(t.simplePlaceholder.placeholder_class)),e.addClass("simple-placeholder"),t(this.form).submit(t.simplePlaceholder.prevent_placeholder_submit)})}return this},t.fn.findInclusive=function(t){return this.find("*").addBack().filter(t)},t.fn.slideIn=function(t,e,n){return this.animate({width:"show"},t,e,n)},t.fn.slideOut=function(t,e,n){return this.animate({width:"hide"},t,e,n)},t.expr[":"].Contains=function(e,n,r){return t(e).text().toUpperCase().indexOf(r[3].toUpperCase())>=0},t.fn.scopedFind=function(e){return e.startsWith("#")?t(e):this.find(e)}}),define("pat-registry",["jquery","underscore","pat-logger","pat-utils","pat-compat","pat-jquery-ext"],function(t,e,n,r){for(var i,o=n.getLogger("registry"),a=/patterns-disable=([^&]+)/g,u=/patterns-dont-catch/g,l=!1,c={};null!==(i=a.exec(window.location.search));)c[i[1]]=!0,o.info("Pattern disabled via url config:",i[1]);for(;null!==(i=u.exec(window.location.search));)l=!0,o.info("I will not catch init exceptions");var s={patterns:{},initialized:!1,init:function(){t(document).ready(function(){o.info("loaded: "+Object.keys(s.patterns).sort().join(", ")),s.scan(document.body),s.initialized=!0,o.info("finished initial scan.")})},clear:function(){this.patterns={}},transformPattern:function(e,n){if(c[e])o.debug("Skipping disabled pattern:",e);else{var r=s.patterns[e];if(r.transform)try{r.transform(t(n))}catch(t){if(l)throw t;o.error("Transform error for pattern"+e,t)}}},initPattern:function(e,r,i){var o=t(r),a=s.patterns[e];if(a.init&&(plog=n.getLogger("pat."+e),o.is(a.trigger))){plog.debug("Initialising:",o);try{a.init(o,null,i),plog.debug("done.")}catch(t){if(l)throw t;plog.error("Caught error:",t)}}},orderPatterns:function(t){return e.contains(t,"validation")&&e.contains(t,"inject")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t},scan:function(n,r,i){var o=[];(r=this.orderPatterns(r||Object.keys(s.patterns))).forEach(e.partial(this.transformPattern,e,n)),r=e.each(r,function(t){var e=s.patterns[t];e.trigger&&o.unshift(e.trigger)}),t(n).findInclusive(o.join(",")).filter(function(){return 0===t(this).parents("pre").length}).filter(":not(.cant-touch-this)").toArray().reduceRight(function(t,n){r.forEach(e.partial(this.initPattern,e,n,i))}.bind(this),null),t("body").addClass("patterns-loaded")},register:function(e,n){var i;return(n=n||e.name)?s.patterns[n]?(o.error("Already have a pattern called: "+n),!1):(s.patterns[n]=e,e.jquery_plugin&&(i=("pat-"+n).replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()}),t.fn[i]=r.jqueryPlugin(e),t.fn[i.replace(/^pat/,"pattern")]=t.fn[i]),o.debug("Registered pattern:",n,e),s.initialized&&s.scan(document.body,[n]),!0):(o.error("Pattern lacks a name:",e),!1)}};return s}),define("pat-mockup-parser",["jquery"],function(t){"use strict";return{getOptions:function e(n,r,i){i=i||{},0===n.length||t.nodeName(n[0],"body")||(i=e(n.parent(),r,i));var o={};if(0!==n.length&&(o=n.data("pat-"+r))&&"string"==typeof o){var a={};t.each(o.split(";"),function(t,e){(e=e.split(":")).reverse();var n=e.pop();n=n.replace(/^\s+|\s+$/g,""),e.reverse();var r=e.join(":");r=r.replace(/^\s+|\s+$/g,""),a[n]=r}),o=a}return t.extend(!0,{},i,o)}}}),define("pat-base",["jquery","pat-registry","pat-mockup-parser","pat-logger"],function(t,e,n,r){"use strict";var i=r.getLogger("Patternslib Base"),o=function(t,i,o){var a=this.prototype.name,u=r.getLogger("pat."+a),l=t.data("pattern-"+a);if(void 0===l&&e.patterns[a]){try{i="mockup"===this.prototype.parser?n.getOptions(t,a,i):i,l=new e.patterns[a](t,i,o)}catch(t){u.error("Failed while initializing '"+a+"' pattern.",t)}t.data("pattern-"+a,l)}return l},a=function(e,n,r){this.$el=e,this.options=t.extend(!0,{},this.defaults||{},n||{}),this.init(e,n,r),this.emit("init")};return a.prototype={constructor:a,on:function(t,e){this.$el.on(t+"."+this.name+".patterns",e)},emit:function(t,e){void 0===e&&(e=[]),this.$el.trigger(t+"."+this.name+".patterns",e)}},a.extend=function(n){var r,u=this;if(!n)throw new Error("Pattern configuration properties required when calling Base.extend");(r=n.hasOwnProperty("constructor")?n.constructor:function(){u.apply(this,arguments)}).extend=a.extend,r.init=o,r.jquery_plugin=!0,r.trigger=n.trigger;var l=function(){this.constructor=r};return l.prototype=u.prototype,r.prototype=new l,t.extend(!0,r.prototype,n),r.__super__=u.prototype,n.name?n.trigger?e.register(r,n.name):i.warn("The pattern '"+n.name+"' does not have a trigger attribute, it will not be registered."):i.warn("This pattern without a name attribute will not be registered!"),r},a}),window.jQuery&&define("jquery",[],function(){"use strict";return window.jQuery.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),window.jQuery}),require(["jquery","pat-registry","pat-base","pat-logger","pat-mockup-parser"],function(t,e){"use strict";window.parent!==window&&"IFRAME"!==window.frameElement.nodeName||t(document).ready(function(){t("body").addClass("pat-plone"),e.initialized||e.init()}),t(document).ready(function(){!0!==("selected"===t("#form-widgets-use_cookie_negotiation > input").value)?t("#formfield-form-widgets-authenticated_users_only").hide():t("#formfield-form-widgets-authenticated_users_only").show()}),t(document).ready(function(){function e(e){var n=t("#form-widgets-highpixeldensity_scales option:selected").attr("value"),r=t('div[data-fieldname="form.widgets.quality_2x"]'),i=t('div[data-fieldname="form.widgets.quality_3x"]');"disabled"==n?(r.fadeOut(),i.fadeOut()):"2x"==n?(r.fadeIn(),i.fadeOut()):"3x"==n&&(r.fadeIn(),i.fadeIn())}t("#ImagingSettings")&&(t('div[data-fieldname="form.widgets.quality_2x"]').hide(),t('div[data-fieldname="form.widgets.quality_3x"]').hide(),e(),t("#form-widgets-highpixeldensity_scales").change(e))})}),define("/trabajo/plone/buildout.coredev/src/plone.staticresources/src/plone/staticresources/static/plone-base.js",function(){});
//# sourceMappingURL=plone-base-compiled.min.js.map