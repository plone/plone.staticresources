(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[7652],{7652:function(){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),n=new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i"),i=function(t){return/^[(\[{ \u00a0]$/.test(t)},r=function(t){return 3===t.nodeType},o=function(t){return 1===t.nodeType},f=function(t,e){if(e<0&&(e=0),r(t)){var n=t.data.length;e>n&&(e=n)}return e},u=function(t,e,n){!o(e)||e.hasChildNodes()?t.setStart(e,f(e,n)):t.setStartBefore(e)},a=function(t,e,n){!o(e)||e.hasChildNodes()?t.setEnd(e,f(e,n)):t.setEndAfter(e)},s=function(t,e){var o,f,s,l,c,d,g,h=function(t){return t.getParam("autolink_pattern",n)}(t),k=function(t){return t.getParam("default_link_target",!1)}(t);if(null===t.dom.getParent(t.selection.getNode(),"a[href]")){var C=t.selection.getRng().cloneRange();if(C.startOffset<5){if(!(c=C.endContainer.previousSibling)){if(!C.endContainer.firstChild||!C.endContainer.firstChild.nextSibling)return;c=C.endContainer.firstChild.nextSibling}if(d=c.length,u(C,c,d),a(C,c,d),C.endOffset<5)return;o=C.endOffset,f=c}else{if(f=C.endContainer,!r(f)&&f.firstChild){for(;!r(f)&&f.firstChild;)f=f.firstChild;r(f)&&(u(C,f,0),a(C,f,f.nodeValue.length))}o=1===C.endOffset?2:C.endOffset-1-e}var m,w=o;do{u(C,f,o>=2?o-2:0),a(C,f,o>=1?o-1:0),o-=1,g=C.toString()}while(!i(g)&&o-2>=0);i(C.toString())?(u(C,f,o),a(C,f,w),o+=1):0===C.startOffset?(u(C,f,0),a(C,f,w)):(u(C,f,o),a(C,f,w)),l=C.toString(),m=l.charAt(l.length-1),/[?!,.;:]/.test(m)&&a(C,f,w-1);var p=(l=C.toString().trim()).match(h),y=function(t){return t.getParam("link_default_protocol","http","string")}(t);if(p){var v=p[0];(function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e})(v,"www.",0)?v=y+"://"+v:function(t,e){return-1!==t.indexOf(e)}(v,"@")&&!function(t){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(t)}(v)&&(v="mailto:"+v),s=t.selection.getBookmark(),t.selection.setRng(C),t.execCommand("createlink",!1,v),!1!==k&&t.dom.setAttrib(t.selection.getNode(),"target",k),t.selection.moveToBookmark(s),t.nodeChanged()}}},l=function(t){var n;t.on("keydown",(function(e){if(13===e.keyCode)return function(t){return s(t,-1)}(t)})),e.browser.isIE()?t.on("focus",(function(){if(!n){n=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}})):(t.on("keypress",(function(e){if(41===e.keyCode||93===e.keyCode||125===e.keyCode)return function(t){return s(t,-1)}(t)})),t.on("keyup",(function(e){if(32===e.keyCode)return function(t){return s(t,0)}(t)})))};t.add("autolink",(function(t){l(t)}))}()}}]);
//# sourceMappingURL=7652.afe4ad7576467e6984d3.min.js.map