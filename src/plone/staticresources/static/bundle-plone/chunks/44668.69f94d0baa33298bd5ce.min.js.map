{"version":3,"file":"chunks/44668.69f94d0baa33298bd5ce.min.js","mappings":"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","sources":["webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte","webpack://plone.staticresources/./node_modules/svelte/src/runtime/easing/index.js","webpack://plone.staticresources/./node_modules/svelte-scrollto/src/helper.js","webpack://plone.staticresources/./node_modules/svelte-scrollto/src/index.js","webpack://plone.staticresources/./node_modules/svelte/src/runtime/transition/index.js","webpack://plone.staticresources/./node_modules/svelte/src/runtime/store/index.js","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentStore.js","webpack://plone.staticresources/Favorites.svelte","webpack://plone.staticresources/RecentlyUsed.svelte","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte?c931","webpack://plone.staticresources/ContentBrowser.svelte","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte?ff1e","webpack://plone.staticresources/SelectedItems.svelte","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/contentbrowser/src/stores.js","webpack://plone.staticresources/App.svelte"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-position-wrapper.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-xnnpe3 svg{vertical-align:-0.125em}.levelColumns.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{display:flex;flex-wrap:nowrap;width:100%;overflow-y:hidden;overflow-x:auto;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0}.levelToolbar.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-xnnpe3>.levelActions.svelte-xnnpe3.svelte-xnnpe3{margin-left:auto}.levelToolbar.svelte-xnnpe3>button.svelte-xnnpe3.svelte-xnnpe3{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.levelItems.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{overflow-x:auto}.contentItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3:focus-visible{outline:none}.contentItem.even.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{background-color:rgba(var(--bs-secondary-bg-rgb), 0.4)}.contentItem.inPath.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3,.contentItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-xnnpe3>.svelte-xnnpe3.svelte-xnnpe3{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-xnnpe3>.browseSub.svelte-xnnpe3.svelte-xnnpe3{flex-shrink:0}.contentItem.svelte-xnnpe3 .grid-preview.svelte-xnnpe3>img.svelte-xnnpe3{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{width:320px;min-height:300px;display:flex;flex-direction:column;flex-shrink:0;align-items:center}.preview.svelte-xnnpe3 .info.svelte-xnnpe3.svelte-xnnpe3{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-xnnpe3 .info .previewIcon.svelte-xnnpe3.svelte-xnnpe3{margin:0 auto 1rem auto}.preview.svelte-xnnpe3 .info .previewIcon svg.svelte-xnnpe3.svelte-xnnpe3{width:50px !important;height:50px !important}.preview.svelte-xnnpe3 img.svelte-xnnpe3.svelte-xnnpe3{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{padding:1rem;width:540px;overflow-x:auto;flex-shrink:0}.loadmore.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{text-align:center;padding:.25rem 0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte\"],\"names\":[],\"mappings\":\"AAAA,4EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,kDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,2DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,mDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,2BAAA,uBAAA,CAAA,wDAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,uDAAA,WAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,WAAA,CAAA,aAAA,CAAA,wDAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,sEAAA,gBAAA,CAAA,+DAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,sDAAA,eAAA,CAAA,uDAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,qEAAA,YAAA,CAAA,4DAAA,sDAAA,CAAA,2HAAA,kDAAA,CAAA,oEAAA,kCAAA,CAAA,uBAAA,CAAA,wDAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,kEAAA,aAAA,CAAA,yEAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,mDAAA,WAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,aAAA,CAAA,kBAAA,CAAA,yDAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,sEAAA,uBAAA,CAAA,0EAAA,qBAAA,CAAA,sBAAA,CAAA,uDAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,0DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,aAAA,CAAA,oDAAA,iBAAA,CAAA,gBAAA\",\"sourcesContent\":[\".content-browser-position-wrapper.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0, 0, 0, 0.25)}.btn-xs.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{background-color:var(--bs-primary);padding:0.325rem 0.75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-xnnpe3 svg{vertical-align:-0.125em}.levelColumns.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{display:flex;flex-wrap:nowrap;width:100%;overflow-y:hidden;overflow-x:auto;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{width:320px;border-right:var(--bs-border-style) var(--bs-border-width)\\n            var(--bs-border-color);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0}.levelToolbar.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:0.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width)\\n            var(--bs-border-color)}.levelToolbar.svelte-xnnpe3>.levelActions.svelte-xnnpe3.svelte-xnnpe3{margin-left:auto}.levelToolbar.svelte-xnnpe3>button.svelte-xnnpe3.svelte-xnnpe3{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.levelItems.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{overflow-x:auto}.contentItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3:focus-visible{outline:none}.contentItem.even.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{background-color:rgba(var(--bs-secondary-bg-rgb), 0.4)}.contentItem.inPath.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3,.contentItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-xnnpe3>.svelte-xnnpe3.svelte-xnnpe3{padding:0.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-xnnpe3>.browseSub.svelte-xnnpe3.svelte-xnnpe3{flex-shrink:0}.contentItem.svelte-xnnpe3 .grid-preview.svelte-xnnpe3>img.svelte-xnnpe3{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{width:320px;min-height:300px;display:flex;flex-direction:column;flex-shrink:0;align-items:center}.preview.svelte-xnnpe3 .info.svelte-xnnpe3.svelte-xnnpe3{padding:0.5rem;width:100%;word-wrap:anywhere}.preview.svelte-xnnpe3 .info .previewIcon.svelte-xnnpe3.svelte-xnnpe3{margin:0 auto 1rem auto}.preview.svelte-xnnpe3 .info .previewIcon svg.svelte-xnnpe3.svelte-xnnpe3{width:50px !important;height:50px !important}.preview.svelte-xnnpe3 img.svelte-xnnpe3.svelte-xnnpe3{max-width:100%;max-width:100%;margin-bottom:0.5rem}.upload-wrapper.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{padding:1rem;width:540px;overflow-x:auto;flex-shrink:0}.loadmore.svelte-xnnpe3.svelte-xnnpe3.svelte-xnnpe3{text-align:center;padding:0.25rem 0}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudEJyb3dzZXIuc3ZlbHRlIiwic291cmNlcyI6WyJDb250ZW50QnJvd3Nlci5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgICBpbXBvcnQgdXRpbHMgZnJvbSBcIkBwYXR0ZXJuc2xpYi9wYXR0ZXJuc2xpYi9zcmMvY29yZS91dGlsc1wiO1xuICAgIGltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0ICogYXMgYW5pbWF0ZVNjcm9sbCBmcm9tIFwic3ZlbHRlLXNjcm9sbHRvXCI7XG4gICAgaW1wb3J0IHsgZmx5IH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XG4gICAgaW1wb3J0IF90IGZyb20gXCIuLi8uLi8uLi9jb3JlL2kxOG4td3JhcHBlclwiO1xuICAgIGltcG9ydCBVcGxvYWQgZnJvbSBcIi4uLy4uL3VwbG9hZC91cGxvYWRcIjtcbiAgICBpbXBvcnQgY29udGVudFN0b3JlIGZyb20gXCIuL0NvbnRlbnRTdG9yZVwiO1xuICAgIGltcG9ydCB7XG4gICAgICAgIGNsaWNrT3V0c2lkZSxcbiAgICAgICAgZm9ybWF0RGF0ZSxcbiAgICAgICAgZ2V0X2l0ZW1zX2Zyb21fdWlkcyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVzb2x2ZUljb24sXG4gICAgICAgIHVwZGF0ZVJlY2VudGx5VXNlZCxcbiAgICB9IGZyb20gXCIuL3V0aWxzXCI7XG4gICAgaW1wb3J0IEZhdm9yaXRlcyBmcm9tIFwiLi9GYXZvcml0ZXMuc3ZlbHRlXCI7XG4gICAgaW1wb3J0IFJlY2VudGx5VXNlZCBmcm9tIFwiLi9SZWNlbnRseVVzZWQuc3ZlbHRlXCI7XG5cbiAgICBhbmltYXRlU2Nyb2xsLnNldEdsb2JhbE9wdGlvbnMoe1xuICAgICAgICBzY3JvbGxYOiB0cnVlLFxuICAgICAgICBjb250YWluZXI6IFwiLmxldmVsQ29sdW1uc1wiLFxuICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgIH0pO1xuXG4gICAgLy8gZ2V0IGNvbnRleHQgc3RvcmVzXG4gICAgY29uc3QgY3VycmVudFBhdGggPSBnZXRDb250ZXh0KFwiY3VycmVudFBhdGhcIik7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29udGV4dChcImNvbmZpZ1wiKTtcbiAgICBjb25zdCBwYXRoQ2FjaGUgPSBnZXRDb250ZXh0KFwicGF0aENhY2hlXCIpO1xuICAgIGNvbnN0IHNob3dDb250ZW50QnJvd3NlciA9IGdldENvbnRleHQoXCJzaG93Q29udGVudEJyb3dzZXJcIik7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkVWlkcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZFVpZHNcIik7XG4gICAgY29uc3QgcHJldmlld1VpZHMgPSBnZXRDb250ZXh0KFwicHJldmlld1VpZHNcIik7XG5cbiAgICAvLyBpbml0aWFsaXplIGNvbnRlbnQgYnJvd3NlciBzdG9yZVxuICAgIGNvbnN0IGNvbnRlbnRJdGVtcyA9IGNvbnRlbnRTdG9yZSgkY29uZmlnLCBwYXRoQ2FjaGUpO1xuXG4gICAgbGV0IHNob3dVcGxvYWQgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld0l0ZW0gPSB7fTtcbiAgICBsZXQga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGxldCBzaGlmdEtleSA9IGZhbHNlO1xuXG4gICAgbGV0IHZ3ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IDAsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlUHJldmlldyh7IGRhdGEgPSBudWxsLCB1dWlkID0gbnVsbCwgYWN0aW9uID0gXCJzaG93XCIgfSkge1xuICAgICAgICBpZiAoZGF0YSAmJiBhY3Rpb24gPT0gXCJzaG93XCIpIHtcbiAgICAgICAgICAgIHByZXZpZXdJdGVtID0gZGF0YTtcbiAgICAgICAgICAgICRwcmV2aWV3VWlkcyA9IFtkYXRhLlVJRF07XG4gICAgICAgIH0gZWxzZSBpZiAodXVpZCAmJiBhY3Rpb24gPT0gXCJhZGRcIiAmJiAkcHJldmlld1VpZHMuaW5kZXhPZih1dWlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID4gMCAmJlxuICAgICAgICAgICAgICAgICRwcmV2aWV3VWlkcy5sZW5ndGggPj0gJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVzcGVjdCBtYXhpbXVtU2VsZWN0aW9uU2l6ZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRwcmV2aWV3VWlkcyA9IFsuLi4kcHJldmlld1VpZHMsIHV1aWRdOyAvLyBOT1RFOiAkcHJldmlld1VpZHMucHVzaCgpIGlzIG5vdCBhIHJlYWN0aXZlIGNoYW5nZVxuICAgICAgICB9IGVsc2UgaWYgKHV1aWQgJiYgYWN0aW9uID09IFwicmVtb3ZlXCIgJiYgJHByZXZpZXdVaWRzLmluZGV4T2YodXVpZCkgIT09IC0xKSB7XG4gICAgICAgICAgICBwcmV2aWV3VWlkcy51cGRhdGUoKG4pID0+IHtcbiAgICAgICAgICAgICAgICBuLnNwbGljZShuLmluZGV4T2YodXVpZCksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiY2xlYXJcIikge1xuICAgICAgICAgICAgcHJldmlld0l0ZW0gPSB7fTtcbiAgICAgICAgICAgICRwcmV2aWV3VWlkcyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG4gICAgICAgIHNjcm9sbFRvUmlnaHQoKTtcbiAgICAgICAgc2hvd1VwbG9hZCA9IHRydWU7XG4gICAgICAgIGF3YWl0IHV0aWxzLnRpbWVvdXQoMSk7XG4gICAgICAgIGNvbnN0IHVwbG9hZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51cGxvYWQtd3JhcHBlclwiKTtcbiAgICAgICAgdXBsb2FkRWwuY2xhc3NMaXN0LmFkZChcInBhdC11cGxvYWRcIik7XG4gICAgICAgIGNvbnN0IHBhdFVwbG9hZCA9IG5ldyBVcGxvYWQodXBsb2FkRWwsIHtcbiAgICAgICAgICAgIGJhc2VVcmw6ICRjb25maWcucm9vdFVybCxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiAkY3VycmVudFBhdGgsXG4gICAgICAgICAgICByZWxhdGl2ZVBhdGg6IFwiQEBmaWxlVXBsb2FkXCIsXG4gICAgICAgICAgICBhbGxvd1BhdGhTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgaGlkZGVuSW5wdXRDb250YWluZXI6IFwiLnVwbG9hZC13cmFwcGVyXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiAoZmlsZVVwbG9hZCwgb2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7IHBhdGg6ICRjdXJyZW50UGF0aCwgdXBkYXRlQ2FjaGU6IHRydWUgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93UHJldmlldyhpdGVtKSB7XG4gICAgICAgIGlmICgkY29uZmlnLm1vZGUgPT0gXCJzZWFyY2hcIikge1xuICAgICAgICAgICAgLy8gb25lIGxldmVsIHNlYXJjaCBtb2RlXG4gICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHsgZGF0YTogaXRlbSB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlzX2ZvbGRlcmlzaCkge1xuICAgICAgICAgICAgJHByZXZpZXdVaWRzID0gW2l0ZW0uVUlEXTtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNldChpdGVtLnBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gaXRlbS5wYXRoLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwYXRoUGFydHMuc2xpY2UoMCwgcGF0aFBhcnRzLmxlbmd0aCAtIDEpLmpvaW4oXCIvXCIpO1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KGZvbGRlclBhdGggfHwgJGNvbmZpZy5yb290UGF0aCk7XG4gICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHsgZGF0YTogaXRlbSB9KTtcbiAgICAgICAgfVxuICAgICAgICBzY3JvbGxUb1JpZ2h0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlUGF0aChpdGVtLCBlKSB7XG4gICAgICAgIC8vIGFsd2F5cyBoaWRlIHVwbG9hZCB3aGVuIGNoYW5naW5nIHBhdGhcbiAgICAgICAgc2hvd1VwbG9hZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGNsZWFyIHByZXZpb3VzIHNlbGVjdGlvblxuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG5cbiAgICAgICAgaWYgKGl0ZW0gPT09IFwiL1wiIHx8IGl0ZW0gPT09ICRjb25maWcucm9vdFBhdGgpIHtcbiAgICAgICAgICAgIC8vIGNsaWNrZWQgXCJob21lXCIgYnV0dG9uXG4gICAgICAgICAgICBjdXJyZW50UGF0aC5zZXQoJGNvbmZpZy5yb290UGF0aCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93IGNsaWNrZWQgaXRlbVxuICAgICAgICBzaG93UHJldmlldyhpdGVtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGlja0l0ZW0oaXRlbSwgZSkge1xuICAgICAgICBpZiAoIWtleWJvYXJkTmF2SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlJ3ZlIGFscmVhZHkgY2xpY2tlZCBhbiBlbGVtZW50IHdpdGggdGhlIG1vdXNlXG4gICAgICAgICAgICAvLyBkbyBub3Qgc3RhcnQgb3ZlciBrZXlib2FyZG5hdlxuICAgICAgICAgICAga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBmb3IgbXVsdGlzZWxlY3Rpb25cbiAgICAgICAgY29uc3QgbGV2ZWxXcmFwcGVyID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoXCIubGV2ZWxJdGVtc1wiKTtcbiAgICAgICAgY29uc3QgcHJldlNlbGVjdGlvbiA9IGxldmVsV3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlbGVjdGVkSXRlbVwiKTtcblxuICAgICAgICBpZiAocHJldlNlbGVjdGlvbi5sZW5ndGggJiYgJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZSAhPSAxKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgcHJlc3NlZCBzaGlmdCBvciBjdHJsL21ldGEga2V5IGZvciBtdWx0aXNlbGVjdGlvblxuXG4gICAgICAgICAgICBpZiAoc2hpZnRLZXkgfHwgZT8uc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAvLyBpdGVyIHRocm91Z2ggdGhlIHdyYXBwZXIgY2hpbGRyZW4gYW5kIHNlbGVjdCBhbGxcbiAgICAgICAgICAgICAgICAvLyBpbmJldHdlZW4gY3VycmVudCBzZWxlY3Rpb24gYW5kIGxhc3QgcHJldmlld1xuICAgICAgICAgICAgICAgIGxldCBzZWxlY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGxldmVsV3JhcHBlci5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoW2l0ZW0uVUlELCBwcmV2aWV3SXRlbS5VSURdLmluZGV4T2YoZWwuZGF0YXNldC51dWlkKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9wIHNlbGVjdGluZyBidXQgbWFrZSBzdXJlIHRoZSBsYXN0IGl0ZW0gaXMgc2VsZWN0ZWQgdG9vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJldmlldyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGVsLmRhdGFzZXQudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcImFkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgc2VsZWN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogZWwuZGF0YXNldC51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBzZWxlY3QgPyBcImFkZFwiIDogXCJyZW1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChlPy5tZXRhS2V5IHx8IGU/LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAvLyBkZS9zZWxlY3QgbXVsdGlwbGUgc2luZ2xlIGl0ZW1zXG4gICAgICAgICAgICAgICAgLy8gTk9URTogb25seSBmb3IgbW91c2UgY2xpY2sgZXZlbnRcbiAgICAgICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHtcbiAgICAgICAgICAgICAgICAgICAgdXVpZDogaXRlbS5VSUQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJHByZXZpZXdVaWRzLmluZGV4T2YoaXRlbS5VSUQpID09IC0xID8gXCJhZGRcIiA6IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHVuc2VsZWN0XG4gICAgICAgICAgICAgICAgWy4uLnByZXZTZWxlY3Rpb25dLm1hcCgoZWwpID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZEl0ZW1cIikpO1xuICAgICAgICAgICAgICAgIGNoYW5nZVBhdGgoaXRlbSwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VQYXRoKGl0ZW0sIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmZvY3VzKCk7IC8vIG5lZWRlZCBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkSXRlbVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0S2V5Ym9hcmROYXYoKSB7XG4gICAgICAgIC8vIGZvY3VzIGZpcnN0IGVsZW1lbnQgd2hlbiBzaG93aW5nIGNvbnRlbnRicm93c2VyXG4gICAgICAgIGlmIChrZXlib2FyZE5hdkluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zc2libGVGb2N1c0VscyA9IFtcbiAgICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGV2ZWxDb2x1bW4gLmluUGF0aFwiKSwgLy8gcHJldmlvdXNseSBzZWxlY3RlZCBmb2xkZXJcbiAgICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGV2ZWxDb2x1bW4gLnNlbGVjdGVkSXRlbVwiKSwgLy8gcHJldmlvdXNseSBzZWxlY3RlZCBpdGVtXG4gICAgICAgIF07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFwb3NzaWJsZUZvY3VzRWxzLmxlbmd0aCAmJlxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sZXZlbENvbHVtbiAuY29udGVudEl0ZW1cIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBwb3NzaWJsZUZvY3VzRWxzLnB1c2goZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sZXZlbENvbHVtbiAuY29udGVudEl0ZW1cIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NzaWJsZUZvY3VzRWxzLmxlbmd0aCkge1xuICAgICAgICAgICAga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICBwb3NzaWJsZUZvY3VzRWxzWzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrZXlib2FyZE5hdmlnYXRpb24oaXRlbSwgZSkge1xuICAgICAgICBjb25zdCBub2RlID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBzaGlmdEtleSA9IGUuc2hpZnRLZXk7XG4gICAgICAgIGlmIChlLmtleSA9PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICBjYW5jZWxTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBlLmtleSA9PSBcIkFycm93RG93blwiICYmXG4gICAgICAgICAgICBub2RlPy5uZXh0RWxlbWVudFNpYmxpbmc/LmNsYXNzTGlzdC5jb250YWlucyhcImNvbnRlbnRJdGVtXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgbm9kZS5uZXh0RWxlbWVudFNpYmxpbmcuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBlLmtleSA9PSBcIkFycm93VXBcIiAmJlxuICAgICAgICAgICAgbm9kZT8ucHJldmlvdXNFbGVtZW50U2libGluZz8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29udGVudEl0ZW1cIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBub2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5rZXkgPT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJDb2wgPSBlLnRhcmdldC5jbG9zZXN0KFwiLmxldmVsQ29sdW1uXCIpO1xuICAgICAgICAgICAgY29uc3Qgbnh0Q29sID0gY3VyckNvbD8ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKCFueHRDb2wgfHwgIW54dENvbC5jbGFzc0xpc3QuY29udGFpbnMoXCJsZXZlbENvbHVtblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG54dENvbC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRJdGVtXCIpPy5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyQ29sID0gZS50YXJnZXQuY2xvc2VzdChcIi5sZXZlbENvbHVtblwiKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZDb2wgPSBjdXJyQ29sPy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKCFwcmV2Q29sIHx8ICFwcmV2Q29sLmNsYXNzTGlzdC5jb250YWlucyhcImxldmVsQ29sdW1uXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldkNvbC5xdWVyeVNlbGVjdG9yKFwiLmluUGF0aFwiKS5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PSBcIlNwYWNlXCIpIHtcbiAgICAgICAgICAgIC8vIGFkZCBpdGVtIHRvIHNlbGVjdGlvbiAobGlrZSBtZXRhS2V5ICsgY2xpY2spXG4gICAgICAgICAgICBjbGlja0l0ZW0oaXRlbSwgZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgaWYgKGlzU2VsZWN0YWJsZShpdGVtKSkge1xuICAgICAgICAgICAgICAgIGlmICgkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXRlbShpdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRTZWxlY3RlZEl0ZW1zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gYWRkSXRlbShpdGVtKSB7XG4gICAgICAgIGlmICgkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID09IDEpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbXMuc2V0KFtpdGVtXSk7XG4gICAgICAgICAgICBzZWxlY3RlZFVpZHMuc2V0KFtpdGVtLlVJRF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IFsuLi5uLCBpdGVtXSk7XG4gICAgICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+ICRzZWxlY3RlZEl0ZW1zLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVSZWNlbnRseVVzZWQoaXRlbSwgJGNvbmZpZyk7XG4gICAgICAgIHVwZGF0ZVByZXZpZXcoeyBhY3Rpb246IFwiY2xlYXJcIiB9KTtcbiAgICAgICAgJHNob3dDb250ZW50QnJvd3NlciA9IGZhbHNlO1xuICAgICAgICBrZXlib2FyZE5hdkluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gYWRkU2VsZWN0ZWRJdGVtcygpIHtcbiAgICAgICAgY29uc3QgcHJldmlld0l0ZW1zID0gYXdhaXQgZ2V0X2l0ZW1zX2Zyb21fdWlkcygkcHJldmlld1VpZHMsICRjb25maWcpO1xuICAgICAgICBzZWxlY3RlZEl0ZW1zLnVwZGF0ZSgobikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdCBvZiBwcmV2aWV3SXRlbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNlbGVjdGVkVWlkcy5pbmRleE9mKGl0LlVJRCkgIT0gLTEpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIG4ucHVzaChpdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG4gICAgICAgICRzaG93Q29udGVudEJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdFJlY2VudGx5VXNlZChldmVudCkge1xuICAgICAgICBhZGRJdGVtKGV2ZW50LmRldGFpbC5pdGVtKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBzZWxlY3RGYXZvcml0ZShldmVudCkge1xuICAgICAgICBjb25zdCBwYXRoID0gZXZlbnQuZGV0YWlsLml0ZW0ucGF0aDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KHtcbiAgICAgICAgICAgIHZvY2FidWxhcnlVcmw6ICRjb25maWcudm9jYWJ1bGFyeVVybCxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6ICRjb25maWcuYXR0cmlidXRlcyxcbiAgICAgICAgICAgIGxldmVsSW5mb1BhdGg6IHBhdGgsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLnRvdGFsKSB7XG4gICAgICAgICAgICBhbGVydChgJHtwYXRofSBub3QgZm91bmQhYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbSA9IHJlc3BvbnNlLnJlc3VsdHNbMF07XG4gICAgICAgIGlmICghaXRlbS5wYXRoKSB7XG4gICAgICAgICAgICAvLyBmaXggZm9yIHJvb3RcbiAgICAgICAgICAgIGl0ZW0ucGF0aCA9ICRjb25maWcucm9vdFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlUGF0aChpdGVtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxTZWxlY3Rpb24oKSB7XG4gICAgICAgICRzaG93Q29udGVudEJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTZWxlY3RhYmxlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICRzZWxlY3RlZFVpZHMuaW5kZXhPZihpdGVtLlVJRCkgPT09IC0xO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvUmlnaHQoKSB7XG4gICAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGV2ZWxDb2x1bW5zXCIpO1xuICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBhbmltYXRlU2Nyb2xsLnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50OiBcIi5sZXZlbENvbHVtbjpsYXN0LWNoaWxkXCIsXG4gICAgICAgICAgICAgICAgeDogc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFdpZHRoICsgMTAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVtSW5QYXRoKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICRjb25maWcubW9kZSA9PSBcImJyb3dzZVwiICYmICRjdXJyZW50UGF0aC5pbmRleE9mKGl0ZW0ucGF0aCkgIT0gLTE7XG4gICAgfVxuXG4gICAgY29uc3QgZmlsdGVySXRlbXMgPSB1dGlscy5kZWJvdW5jZSgoZSkgPT4ge1xuICAgICAgICBjb250ZW50SXRlbXMuZ2V0KHsgcGF0aDogJGN1cnJlbnRQYXRoLCBzZWFyY2hUZXJtOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICB9LCAzMDApO1xuXG4gICAgZnVuY3Rpb24gbG9hZE1vcmUobm9kZSkge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IG5vZGUuZGF0YXNldC5sZXZlbFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQobm9kZS5kYXRhc2V0LmxldmVsTmV4dFBhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZE1vcmVQYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHRocmVzaG9sZDogMCwgcm9vdDogbnVsbCwgbWFyZ2luOiBcIjBweFwiIH0sXG4gICAgICAgICk7XG4gICAgICAgIC8vIGRlZmVyIG9ic2VydmluZ1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgaWYgKCRzaG93Q29udGVudEJyb3dzZXIpIHtcbiAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoeyBwYXRoOiAkY3VycmVudFBhdGggfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRjb250ZW50SXRlbXM7XG4gICAgICAgIHNjcm9sbFRvUmlnaHQoKTtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRwcmV2aWV3VWlkcztcbiAgICB9XG48L3NjcmlwdD5cblxueyNpZiAkc2hvd0NvbnRlbnRCcm93c2VyfVxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWJyb3dzZXItcG9zaXRpb24td3JhcHBlclwiPlxuICAgICAgICA8bmF2XG4gICAgICAgICAgICBjbGFzcz1cImNvbnRlbnQtYnJvd3NlclwiXG4gICAgICAgICAgICB0cmFuc2l0aW9uOmZseT17eyB4OiAodncgLyAxMDApICogOTQsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgIG9uOmludHJvZW5kPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgICAgICAgICAgICAgIGluaXRLZXlib2FyZE5hdigpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHVzZTpjbGlja091dHNpZGVcbiAgICAgICAgICAgIG9uOmNsaWNrX291dHNpZGU9e2NhbmNlbFNlbGVjdGlvbn1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2xCYXIgbmF2YmFyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlciBtZS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaWx0ZXJcIiBvbjppbnB1dD17ZmlsdGVySXRlbXN9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInNlYXJjaFwiIH19IC8+PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPFJlY2VudGx5VXNlZCBvbjpzZWxlY3RJdGVtPXtzZWxlY3RSZWNlbnRseVVzZWR9IC8+XG4gICAgICAgICAgICAgICAgPEZhdm9yaXRlcyBvbjpzZWxlY3RJdGVtPXtzZWxlY3RGYXZvcml0ZX0gLz5cbiAgICAgICAgICAgICAgICB7I2lmICRjb25maWcudXBsb2FkRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1zLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInVwbG9hZCBidG4gYnRuLW91dGxpbmUtbGlnaHQgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmtleWRvd249e3VwbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17dXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48c3ZnIHVzZTpyZXNvbHZlSWNvbj17eyBpY29uTmFtZTogXCJ1cGxvYWRcIiB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtfdChcInVwbG9hZCB0byAke2N1cnJlbnRfcGF0aH1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3BhdGg6ICRjdXJyZW50UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX08L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgdGV4dC13aGl0ZSBtcy1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+IGNhbmNlbFNlbGVjdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICA+PHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwieC1jaXJjbGVcIiB9fSAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7I2F3YWl0ICRjb250ZW50SXRlbXN9XG4gICAgICAgICAgICAgICAgPHA+e190KFwibG9hZGluZyBjb250ZW50IGl0ZW1zXCIpfTwvcD5cbiAgICAgICAgICAgIHs6dGhlbiBsZXZlbHN9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsQ29sdW1uc1wiPlxuICAgICAgICAgICAgICAgICAgICB7I2VhY2ggbGV2ZWxzIGFzIGxldmVsLCBpIChsZXZlbC5wYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImxldmVsQ29sdW1ue2kgJSAyID09IDAgPyAnIG9kZCcgOiAnIGV2ZW4nfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW46Zmx5fGxvY2FsPXt7IGR1cmF0aW9uOiAzMDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxUb29sYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaSA9PSAwICYmICRjb25maWcubW9kZSA9PSBcImJyb3dzZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi14cyBwcy0wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmtleWRvd249eygpID0+IGNoYW5nZVBhdGgoJGNvbmZpZy5yb290UGF0aCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IGNoYW5nZVBhdGgoJGNvbmZpZy5yb290UGF0aCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImhvdXNlXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgbGV2ZWwuc2VsZWN0YWJsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsZXZlbC5kaXNwbGF5UGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzU2VsZWN0YWJsZShsZXZlbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+IGFkZEl0ZW0obGV2ZWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtfdChcInNlbGVjdCAke2xldmVsX3BhdGh9XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxfcGF0aDogbGV2ZWwuVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsQWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiAhbGV2ZWwuZ3JpZFZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayBidG4teHMgZ3JpZC12aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IChsZXZlbC5ncmlkVmlldyA9IHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImdyaWRcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXhzIGdyaWQtdmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAobGV2ZWwuZ3JpZFZpZXcgPSBmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwibGlzdFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxJdGVtc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggbGV2ZWwucmVzdWx0cyB8fCBbXSBhcyBpdGVtLCBufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBzdmVsdGUtaWdub3JlIG1pc3NpbmctZGVjbGFyYXRpb24gLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb250ZW50SXRlbXtuICUgMiA9PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyBvZGQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyBldmVuJ317aXRlbUluUGF0aChpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcgaW5QYXRoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnfXskcHJldmlld1VpZHMuaW5kZXhPZihpdGVtLlVJRCkgIT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIHNlbGVjdGVkSXRlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ317IWlzU2VsZWN0YWJsZShpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcgdGV4dC1tdXRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PXtufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdXVpZD17aXRlbS5VSUR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bnxwcmV2ZW50RGVmYXVsdD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbihpdGVtLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGNsaWNrSXRlbShpdGVtLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGxldmVsLmdyaWRWaWV3fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1wcmV2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGl0ZW0uZ2V0SWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YCR7aXRlbS5nZXRVUkx9L0BAaW1hZ2VzL2ltYWdlL3RodW1iYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtpdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBgY29udGVudHR5cGUvJHtpdGVtLnBvcnRhbF90eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwufCAvZywgXCItXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIml0ZW0tdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJ7aXRlbS5wb3J0YWxfdHlwZX06IHtpdGVtLlRpdGxlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IGBjb250ZW50dHlwZS8ke2l0ZW0ucG9ydGFsX3R5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC58IC9nLCBcIi1cIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiAkY29uZmlnLm1vZGUgPT0gXCJzZWFyY2hcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz48c3BhbiBjbGFzcz1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPntpdGVtLnBhdGh9PC9zcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGl0ZW0uaXNfZm9sZGVyaXNoICYmICRjb25maWcubW9kZSA9PSBcImJyb3dzZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnJvd3NlU3ViXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBcImFycm93LXJpZ2h0LWNpcmNsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC5tb3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibG9hZG1vcmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbGV2ZWwtcGF0aD17bGV2ZWwucGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWxldmVsLW5leHQtcGFnZT17cGFyc2VJbnQobGV2ZWwucGFnZSkgKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpsb2FkTW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyLWJvcmRlclwiIHJvbGU9XCJzdGF0dXNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGxldmVsLnRvdGFsID09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudEl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57X3QoXCJubyByZXN1bHRzIGZvdW5kXCIpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgeyNpZiBwcmV2aWV3SXRlbT8uVUlEICYmICRwcmV2aWV3VWlkcy5sZW5ndGggPT0gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsVG9vbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3ByZXZpZXdJdGVtLnBhdGguc3BsaXQoXCIvXCIpLnBvcCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpc1NlbGVjdGFibGUocHJldmlld0l0ZW0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+IGFkZEl0ZW0ocHJldmlld0l0ZW0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPntfdChcInNlbGVjdCAke3ByZXZpZXdfcGF0aH1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdfcGF0aDogcHJldmlld0l0ZW0uVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX08L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcmV2aWV3SXRlbS5nZXRJY29ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdJbWFnZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwie3ByZXZpZXdJdGVtLmdldFVSTH0vQEBpbWFnZXMvaW1hZ2UvcHJldmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cHJldmlld0l0ZW0uVGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldmlld0ljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IGBjb250ZW50dHlwZS8ke3ByZXZpZXdJdGVtLnBvcnRhbF90eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwufCAvZywgXCItXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+e190KFwiVGl0bGVcIil9PC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZD57cHJldmlld0l0ZW0uVGl0bGV9PC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0uRGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PntfdChcIkRlc2NyaXB0aW9uXCIpfTwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC10cnVuY2F0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtwcmV2aWV3SXRlbS5EZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmV2aWV3SXRlbS5EZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0uY3JlYXRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+e190KFwiY3JlYXRlZFwiKX08L2R0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRpbWUgZGF0ZXRpbWU9e3ByZXZpZXdJdGVtLmNyZWF0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e2Zvcm1hdERhdGUocHJldmlld0l0ZW0uY3JlYXRlZCl9PC90aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0ubW9kaWZpZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PntfdChcIm1vZGlmaWVkXCIpfTwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGltZSBkYXRldGltZT17cHJldmlld0l0ZW0ubW9kaWZpZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e2Zvcm1hdERhdGUocHJldmlld0l0ZW0ubW9kaWZpZWQpfTwvdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtLnJldmlld19zdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+e190KFwicmV2aWV3X3N0YXRlXCIpfTwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRkPntwcmV2aWV3SXRlbS5yZXZpZXdfc3RhdGV9PC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgeyNpZiAkcHJldmlld1VpZHMubGVuZ3RoID4gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsVG9vbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9e2FkZFNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e190KFwiYWRkIHNlbGVjdGVkIGl0ZW1zXCIpfTwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogXCJmaWxlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHNob3dVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXBsb2FkLXdyYXBwZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6Y2F0Y2ggZXJyb3J9XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogcmVkXCI+e2Vycm9yLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgey9hd2FpdH1cbiAgICAgICAgPC9uYXY+XG4gICAgPC9kaXY+XG57L2lmfVxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDtcbiAgICAgICAgei1pbmRleDogMTUwMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgfVxuICAgIC5idG4teHMge1xuICAgICAgICAtLWJzLWJ0bi1wYWRkaW5nLXk6IDAuMTVyZW07XG4gICAgICAgIC0tYnMtYnRuLXBhZGRpbmcteDogMC41cmVtO1xuICAgICAgICAtLWJzLWJ0bi1mb250LXNpemU6IDAuNzVyZW07XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICBtaW4td2lkdGg6IDU1MHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1saWdodC1iZy1zdWJ0bGUpO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDE1MDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuICAgIC50b29sQmFyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtcHJpbWFyeSk7XG4gICAgICAgIHBhZGRpbmc6IDAuMzI1cmVtIDAuNzVyZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS1icy1saWdodCk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xuICAgIH1cbiAgICAudG9vbEJhciA6Z2xvYmFsKHN2Zykge1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogLTAuMTI1ZW07XG4gICAgfVxuICAgIC5sZXZlbENvbHVtbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgICAgZmxleC1ncm93OiAzO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItY29sb3IpIHZhcigtLWJzLWJvcmRlci13aWR0aCk7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5sZXZlbENvbHVtbiB7XG4gICAgICAgIHdpZHRoOiAzMjBweDtcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci13aWR0aClcbiAgICAgICAgICAgIHZhcigtLWJzLWJvcmRlci1jb2xvcik7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGZsZXgtZ3JvdzogMDtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgfVxuXG4gICAgLmxldmVsVG9vbGJhciB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDIuNXJlbTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBwYWRkaW5nOiAwLjM3NXJlbTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpXG4gICAgICAgICAgICB2YXIoLS1icy1ib3JkZXItY29sb3IpO1xuICAgIH1cbiAgICAubGV2ZWxUb29sYmFyID4gLmxldmVsQWN0aW9ucyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIH1cbiAgICAubGV2ZWxUb29sYmFyID4gYnV0dG9uIHtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgfVxuXG4gICAgLmxldmVsSXRlbXMge1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0ge1xuICAgICAgICAvKiBwYWRkaW5nOiAxcmVtIDFyZW07ICovXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgZm9udC1zaXplOiA5MCU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDJyZW07XG4gICAgfVxuICAgIC5jb250ZW50SXRlbTpmb2N1cy12aXNpYmxlIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtLmV2ZW4ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJzLXNlY29uZGFyeS1iZy1yZ2IpLCAwLjQpO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0uaW5QYXRoLFxuICAgIC5jb250ZW50SXRlbTpmb2N1cyB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtcHJpbWFyeS1yZ2IpLCAwLjE1KTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtLnNlbGVjdGVkSXRlbSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tYnMtYm9keS1iZyk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbSA+ICoge1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgIG1heC13aWR0aDogNDUwcHg7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0gPiAuYnJvd3NlU3ViIHtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgfVxuXG4gICAgLmNvbnRlbnRJdGVtIC5ncmlkLXByZXZpZXcgPiBpbWcge1xuICAgICAgICB3aWR0aDogOTVweDtcbiAgICAgICAgaGVpZ2h0OiA5NXB4O1xuICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMXJlbTtcbiAgICB9XG4gICAgLnByZXZpZXcge1xuICAgICAgICB3aWR0aDogMzIwcHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG4gICAgLnByZXZpZXcgLmluZm8ge1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB3b3JkLXdyYXA6IGFueXdoZXJlO1xuICAgIH1cbiAgICAucHJldmlldyAuaW5mbyAucHJldmlld0ljb24ge1xuICAgICAgICBtYXJnaW46IDAgYXV0byAxcmVtIGF1dG87XG4gICAgfVxuICAgIC5wcmV2aWV3IC5pbmZvIC5wcmV2aWV3SWNvbiBzdmcge1xuICAgICAgICB3aWR0aDogNTBweCAhaW1wb3J0YW50O1xuICAgICAgICBoZWlnaHQ6IDUwcHggIWltcG9ydGFudDtcbiAgICB9XG4gICAgLnByZXZpZXcgaW1nIHtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICB9XG5cbiAgICAudXBsb2FkLXdyYXBwZXIge1xuICAgICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgICB3aWR0aDogNTQwcHg7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIH1cbiAgICAubG9hZG1vcmUge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDAuMjVyZW0gMDtcbiAgICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1vQkksMkVBQWtDLENBQzlCLFFBQVEsQ0FBRSxLQUFLLENBQ2YsR0FBRyxDQUFFLENBQUMsQ0FDTixLQUFLLENBQUUsQ0FBQyxDQUNSLE9BQU8sQ0FBRSxJQUFJLENBQ2IsZUFBZSxDQUFFLEdBQUcsQ0FDcEIsT0FBTyxDQUFFLElBQUksQ0FDYixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxLQUFLLENBQ2IsZ0JBQWdCLENBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQ3hDLENBQ0EsaURBQVEsQ0FDSixrQkFBa0IsQ0FBRSxPQUFPLENBQzNCLGtCQUFrQixDQUFFLE1BQU0sQ0FDMUIsa0JBQWtCLENBQUUsT0FDeEIsQ0FDQSwwREFBaUIsQ0FDYixNQUFNLENBQUUsS0FBSyxDQUNiLFNBQVMsQ0FBRSxLQUFLLENBQ2hCLGdCQUFnQixDQUFFLElBQUksb0JBQW9CLENBQUMsQ0FDM0MsV0FBVyxDQUFFLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUMvRCxPQUFPLENBQUUsSUFBSSxDQUNiLE9BQU8sQ0FBRSxJQUFJLENBQ2IsY0FBYyxDQUFFLE1BQ3BCLENBQ0Esa0RBQVMsQ0FDTCxnQkFBZ0IsQ0FBRSxJQUFJLFlBQVksQ0FBQyxDQUNuQyxPQUFPLENBQUUsUUFBUSxDQUFDLE9BQU8sQ0FDekIsS0FBSyxDQUFFLElBQUksVUFBVSxDQUFDLENBQ3RCLEtBQUssQ0FBRSxJQUFJLENBQ1gsT0FBTyxDQUFFLElBQUksQ0FDYixlQUFlLENBQUUsS0FDckIsQ0FDQSxzQkFBUSxDQUFTLEdBQUssQ0FDbEIsY0FBYyxDQUFFLFFBQ3BCLENBQ0EsdURBQWMsQ0FDVixPQUFPLENBQUUsSUFBSSxDQUNiLFNBQVMsQ0FBRSxNQUFNLENBQ2pCLEtBQUssQ0FBRSxJQUFJLENBQ1gsVUFBVSxDQUFFLE1BQU0sQ0FDbEIsVUFBVSxDQUFFLElBQUksQ0FDaEIsU0FBUyxDQUFFLENBQUMsQ0FDWixXQUFXLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQ2pGLFdBQVcsQ0FBRSxJQUNqQixDQUVBLHNEQUFhLENBQ1QsS0FBSyxDQUFFLEtBQUssQ0FDWixZQUFZLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUM7QUFDbkUsWUFBWSxJQUFJLGlCQUFpQixDQUFDLENBQzFCLE9BQU8sQ0FBRSxJQUFJLENBQ2IsY0FBYyxDQUFFLE1BQU0sQ0FDdEIsU0FBUyxDQUFFLENBQUMsQ0FDWixXQUFXLENBQUUsQ0FDakIsQ0FFQSx1REFBYyxDQUNWLEtBQUssQ0FBRSxJQUFJLENBQ1gsTUFBTSxDQUFFLE1BQU0sQ0FDZCxPQUFPLENBQUUsSUFBSSxDQUNiLGVBQWUsQ0FBRSxhQUFhLENBQzlCLE9BQU8sQ0FBRSxRQUFRLENBQ2pCLGFBQWEsQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztBQUNwRSxZQUFZLElBQUksaUJBQWlCLENBQzdCLENBQ0EsMkJBQWEsQ0FBRyx5Q0FBYyxDQUMxQixXQUFXLENBQUUsSUFDakIsQ0FDQSwyQkFBYSxDQUFHLGtDQUFPLENBQ25CLFdBQVcsQ0FBRSxNQUFNLENBQ25CLFFBQVEsQ0FBRSxNQUFNLENBQ2hCLGFBQWEsQ0FBRSxRQUNuQixDQUVBLHFEQUFZLENBQ1IsVUFBVSxDQUFFLElBQ2hCLENBQ0Esc0RBQWEsQ0FFVCxPQUFPLENBQUUsSUFBSSxDQUNiLFdBQVcsQ0FBRSxNQUFNLENBQ25CLGVBQWUsQ0FBRSxhQUFhLENBQzlCLFNBQVMsQ0FBRSxHQUFHLENBQ2QsVUFBVSxDQUFFLElBQ2hCLENBQ0Esc0RBQVksY0FBZSxDQUN2QixPQUFPLENBQUUsSUFDYixDQUNBLFlBQVksK0NBQU0sQ0FDZCxnQkFBZ0IsQ0FBRSxLQUFLLElBQUkscUJBQXFCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FDMUQsQ0FDQSxZQUFZLGlEQUFPLENBQ25CLHNEQUFZLE1BQU8sQ0FDZixnQkFBZ0IsQ0FBRSxLQUFLLElBQUksZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDdEQsQ0FDQSxZQUFZLHVEQUFjLENBQ3RCLGdCQUFnQixDQUFFLElBQUksWUFBWSxDQUFDLENBQ25DLEtBQUssQ0FBRSxJQUFJLFlBQVksQ0FDM0IsQ0FDQSwwQkFBWSxDQUFHLDRCQUFFLENBQ2IsT0FBTyxDQUFFLE1BQU0sQ0FDZixXQUFXLENBQUUsTUFBTSxDQUNuQixTQUFTLENBQUUsS0FBSyxDQUNoQixhQUFhLENBQUUsUUFBUSxDQUN2QixRQUFRLENBQUUsTUFDZCxDQUNBLDBCQUFZLENBQUcsc0NBQVcsQ0FDdEIsV0FBVyxDQUFFLENBQ2pCLENBRUEsMEJBQVksQ0FBQywyQkFBYSxDQUFHLGlCQUFJLENBQzdCLEtBQUssQ0FBRSxJQUFJLENBQ1gsTUFBTSxDQUFFLElBQUksQ0FDWixVQUFVLENBQUUsS0FBSyxDQUNqQixLQUFLLENBQUUsSUFBSSxDQUNYLFlBQVksQ0FBRSxJQUNsQixDQUNBLGtEQUFTLENBQ0wsS0FBSyxDQUFFLEtBQUssQ0FDWixVQUFVLENBQUUsS0FBSyxDQUNqQixPQUFPLENBQUUsSUFBSSxDQUNiLGNBQWMsQ0FBRSxNQUFNLENBQ3RCLFdBQVcsQ0FBRSxDQUFDLENBQ2QsV0FBVyxDQUFFLE1BQ2pCLENBQ0Esc0JBQVEsQ0FBQyxpQ0FBTSxDQUNYLE9BQU8sQ0FBRSxNQUFNLENBQ2YsS0FBSyxDQUFFLElBQUksQ0FDWCxTQUFTLENBQUUsUUFDZixDQUNBLHNCQUFRLENBQUMsS0FBSyxDQUFDLHdDQUFhLENBQ3hCLE1BQU0sQ0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUN4QixDQUNBLHNCQUFRLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQywrQkFBSSxDQUM1QixLQUFLLENBQUUsSUFBSSxDQUFDLFVBQVUsQ0FDdEIsTUFBTSxDQUFFLElBQUksQ0FBQyxVQUNqQixDQUNBLHNCQUFRLENBQUMsK0JBQUksQ0FDVCxTQUFTLENBQUUsSUFBSSxDQUNmLFNBQVMsQ0FBRSxJQUFJLENBQ2YsYUFBYSxDQUFFLE1BQ25CLENBRUEseURBQWdCLENBQ1osT0FBTyxDQUFFLElBQUksQ0FDYixLQUFLLENBQUUsS0FBSyxDQUNaLFVBQVUsQ0FBRSxJQUFJLENBQ2hCLFdBQVcsQ0FBRSxDQUNqQixDQUNBLG1EQUFVLENBQ04sVUFBVSxDQUFFLE1BQU0sQ0FDbEIsT0FBTyxDQUFFLE9BQU8sQ0FBQyxDQUNyQiJ9*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-selected-items-wrapper.svelte-awokap{display:flex;align-items:start}.content-browser-selected-items.svelte-awokap{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte\"],\"names\":[],\"mappings\":\"AAAA,sDAAA,YAAA,CAAA,iBAAA,CAAA,8CAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA\",\"sourcesContent\":[\".content-browser-selected-items-wrapper.svelte-awokap{display:flex;align-items:start}.content-browser-selected-items.svelte-awokap{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:0.5rem 0.5rem 0 0.5rem;flex:1 1 auto}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0ZWRJdGVtcy5zdmVsdGUiLCJzb3VyY2VzIjpbIlNlbGVjdGVkSXRlbXMuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgZ2V0Q29udGV4dCwgb25Nb3VudCwgc2V0Q29udGV4dCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBnZXRfaXRlbXNfZnJvbV91aWRzIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbiAgICBpbXBvcnQgU29ydGFibGUgZnJvbSBcInNvcnRhYmxlanNcIjtcbiAgICBpbXBvcnQgX3QgZnJvbSBcIi4uLy4uLy4uL2NvcmUvaTE4bi13cmFwcGVyXCI7XG4gICAgaW1wb3J0IGV2ZW50cyBmcm9tIFwiQHBhdHRlcm5zbGliL3BhdHRlcm5zbGliL3NyYy9jb3JlL2V2ZW50c1wiO1xuICAgIGltcG9ydCBwbG9uZV9yZWdpc3RyeSBmcm9tIFwiQHBsb25lL3JlZ2lzdHJ5XCI7XG5cbiAgICBsZXQgcmVmO1xuICAgIGxldCBpbml0aWFsaXppbmcgPSB0cnVlO1xuXG4gICAgLy8gZ2V0IHJlYWN0aXZlIGNvbnRleHQgY29uZmlnXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29udGV4dChcImNvbmZpZ1wiKTtcbiAgICBjb25zdCBmaWVsZElkID0gJGNvbmZpZy5maWVsZElkO1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNOb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRJZCk7XG5cbiAgICAvLyBnZXQgcmVhY3RpdmUgY29udGV4dCBzdG9yZVxuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRJdGVtc1wiKTtcbiAgICBjb25zdCBzZWxlY3RlZFVpZHMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRVaWRzXCIpO1xuXG4gICAgLy8gc2hvd0NvbnRlbnRCcm93c2VyIHJlYWN0aXZlIHN0YXRlXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRCcm93c2VyID0gZ2V0Q29udGV4dChcInNob3dDb250ZW50QnJvd3NlclwiKTtcblxuICAgIC8vIGdldCBzZWxlY3RlZEl0ZW0gY29tcG9uZW50IGZyb20gcmVnaXN0cnkuXG4gICAgLy8gdGhlIHJlZ2lzdHJ5IGtleSBjYW4gYmUgY3VzdG9taXplZCB3aXRoIHBhdHRlcm5fb3B0aW9uc1xuICAgIC8vIGlmIGFuIGFkZG9uIHJlZ2lzdGVycyBhIGN1c3RvbSBjb21wb25lbnQgdG8gYSBjdXN0b20ga2V5XG4gICAgY29uc3QgUmVnaXN0ZXJlZFNlbGVjdGVkSXRlbSA9IHBsb25lX3JlZ2lzdHJ5LmdldENvbXBvbmVudChcbiAgICAgICAgJGNvbmZpZy5jb21wb25lbnRSZWdpc3RyeUtleXM/LnNlbGVjdGVkSXRlbSB8fMKgXCJwYXQtY29udGVudGJyb3dzZXIuU2VsZWN0ZWRJdGVtXCJcbiAgICApO1xuXG4gICAgb25Nb3VudChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IGluaXRpYWxpemVTZWxlY3RlZEl0ZW1zU3RvcmUoKTtcbiAgICAgICAgaW5pdGlhbGl6ZVNvcnRpbmcoKTtcbiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB1bnNlbGVjdEl0ZW0oaSkge1xuICAgICAgICBzZWxlY3RlZEl0ZW1zLnVwZGF0ZSgobikgPT4ge1xuICAgICAgICAgICAgbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgIH1cblxuICAgIC8vIHVzZSB0aGlzIGZ1bmN0aW9uIGluIFwiU2VsZWN0ZWRJdGVtXCIgY29tcG9uZW50IHdpdGhcbiAgICAvLyBjb25zdCB1bnNlbGVjdEl0ZW0gPSBnZXRDb250ZXh0KFwidW5zZWxlY3RJdGVtXCIpXG4gICAgc2V0Q29udGV4dChcInVuc2VsZWN0SXRlbVwiLCB1bnNlbGVjdEl0ZW0pO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlbGVjdGVkSXRlbXNTdG9yZSgpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gJGNvbmZpZy5zZWxlY3Rpb24ubGVuZ3RoXG4gICAgICAgICAgICA/ICRjb25maWcuc2VsZWN0aW9uXG4gICAgICAgICAgICA6IHNlbGVjdGVkSXRlbXNOb2RlPy52YWx1ZVxuICAgICAgICAgICAgICA/IHNlbGVjdGVkSXRlbXNOb2RlLnZhbHVlLnNwbGl0KCRjb25maWcuc2VwYXJhdG9yKVxuICAgICAgICAgICAgICA6IFtdO1xuXG4gICAgICAgIGlmICghaW5pdGlhbFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNlbGVjdGVkSXRlbXMgPSBhd2FpdCBnZXRfaXRlbXNfZnJvbV91aWRzKGluaXRpYWxWYWx1ZSwgJGNvbmZpZyk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTb3J0aW5nKCkge1xuICAgICAgICBpZiAoJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZSAhPT0gMSAmJiAkc2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBTb3J0YWJsZS5jcmVhdGUoXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtc05vZGUucHJldmlvdXNTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgIFwiLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtc1wiLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IFwiLnNlbGVjdGVkLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNvcnRlZFV1aWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGUudGFyZ2V0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVkVXVpZHMucHVzaChlbC5kYXRhc2V0W1widXVpZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXROb2RlVmFsdWUoc29ydGVkVXVpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRVaWRzRnJvbVNlbGVjdGVkSXRlbXMoKSB7XG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xuICAgICAgICAkc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0uVUlEKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXROb2RlVmFsdWUoc2VsZWN0ZWRVaWRzKSB7XG4gICAgICAgIGNvbnN0IG5vZGVfdmFsID0gc2VsZWN0ZWRVaWRzLmpvaW4oJGNvbmZpZy5zZXBhcmF0b3IpO1xuICAgICAgICBzZWxlY3RlZEl0ZW1zTm9kZS52YWx1ZSA9IG5vZGVfdmFsO1xuICAgICAgICBzZWxlY3RlZEl0ZW1zTm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50cy5jaGFuZ2VfZXZlbnQoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTG9hZFNlbGVjdGVkSXRlbUNvbXBvbmVudChub2RlLCBwcm9wcykge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgUmVnaXN0ZXJlZFNlbGVjdGVkSXRlbS5jb21wb25lbnQoe3RhcmdldDogbm9kZSwgcHJvcHM6IHByb3BzfSk7XG4gICAgfVxuXG4gICAgJDoge1xuICAgICAgICAkc2VsZWN0ZWRJdGVtcztcbiAgICAgICAgaWYgKCRzZWxlY3RlZEl0ZW1zLmxlbmd0aCB8fCAhaW5pdGlhbGl6aW5nKSB7XG4gICAgICAgICAgICBzZXROb2RlVmFsdWUoc2VsZWN0ZWRVaWRzRnJvbVNlbGVjdGVkSXRlbXMoKSk7XG4gICAgICAgICAgICBpbml0aWFsaXplU29ydGluZygpO1xuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXZcbiAgICBjbGFzcz1cImNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcy13cmFwcGVyXCJcbiAgICBzdHlsZT1cIndpZHRoOiB7JGNvbmZpZy53aWR0aCB8fCAnYXV0byd9XCJcbiAgICBiaW5kOnRoaXM9e3JlZn1cbj5cbiAgICA8IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzIC0tPlxuICAgIDwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LW5vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucyAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zXCJcbiAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAkc2hvd0NvbnRlbnRCcm93c2VyID0gJHNlbGVjdGVkSXRlbXMubGVuZ3RoID8gZmFsc2UgOiB0cnVlIH0+XG4gICAgICAgIHsjaWYgJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICB7I2VhY2ggJHNlbGVjdGVkSXRlbXMgYXMgc2VsSXRlbSwgaSAoc2VsSXRlbS5VSUQpfVxuICAgICAgICAgICAgICAgIDxkaXYgdXNlOkxvYWRTZWxlY3RlZEl0ZW1Db21wb25lbnQ9e3tpZHg6aSwgaXRlbTpzZWxJdGVtfX0gLz5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgey9pZn1cbiAgICAgICAgeyNpZiAhJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICA8cD57X3QoXCJsb2FkaW5nIHNlbGVjdGVkIGl0ZW1zXCIpfTwvcD5cbiAgICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgICA8IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1pbnZhbGlkLWF0dHJpYnV0ZSAtLT5cbiAgICA8YVxuICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGhyZWY9XCIjXCJcbiAgICAgICAgc3R5bGU9XCJib3JkZXItcmFkaXVzOjAgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgMFwiXG4gICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXsoKSA9PiAoJHNob3dDb250ZW50QnJvd3NlciA9IHRydWUpfVxuICAgICAgICA+e190KFwiU2VsZWN0XCIpfTwvYVxuICAgID5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcy13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIHtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtYm9keS1iZyk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpIDAgMCB2YXIoLS1icy1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYm9yZGVyOiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci1jb2xvcikgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKTtcbiAgICAgICAgbWluLWhlaWdodDogMi40cmVtO1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMC41cmVtIDAgMC41cmVtO1xuICAgICAgICBmbGV4OiAxIDEgYXV0bztcbiAgICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJJSSxxREFBd0MsQ0FDcEMsT0FBTyxDQUFFLElBQUksQ0FDYixXQUFXLENBQUUsS0FDakIsQ0FDQSw2Q0FBZ0MsQ0FDNUIsVUFBVSxDQUFFLElBQUksQ0FDaEIsZ0JBQWdCLENBQUUsSUFBSSxZQUFZLENBQUMsQ0FDbkMsYUFBYSxDQUFFLElBQUksa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksa0JBQWtCLENBQUMsQ0FDbEUsTUFBTSxDQUFFLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUM1RSxVQUFVLENBQUUsTUFBTSxDQUNsQixPQUFPLENBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUMvQixJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUNkIn0=*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nexport { identity as linear } from '../internal/index.js';\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t: t < c\n\t\t? ca * t2 - cb * t + cc\n\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","export default {\n  $(selector) {\n    if (typeof selector === \"string\") {\n      return document.querySelector(selector);\n    }\n    return selector;\n  },\n  extend(...args) {\n    return Object.assign(...args);\n  },\n  cumulativeOffset(element) {\n    let top = 0;\n    let left = 0;\n\n    do {\n      top += element.offsetTop || 0;\n      left += element.offsetLeft || 0;\n      element = element.offsetParent;\n    } while (element);\n\n    return {\n      top: top,\n      left: left\n    };\n  },\n  directScroll(element) {\n    return element && element !== document && element !== document.body;\n  },\n  scrollTop(element, value) {\n    let inSetter = value !== undefined;\n    if (this.directScroll(element)) {\n      return inSetter ? (element.scrollTop = value) : element.scrollTop;\n    } else {\n      return inSetter\n        ? (document.documentElement.scrollTop = document.body.scrollTop = value)\n        : window.pageYOffset ||\n            document.documentElement.scrollTop ||\n            document.body.scrollTop ||\n            0;\n    }\n  },\n  scrollLeft(element, value) {\n    let inSetter = value !== undefined;\n    if (this.directScroll(element)) {\n      return inSetter ? (element.scrollLeft = value) : element.scrollLeft;\n    } else {\n      return inSetter\n        ? (document.documentElement.scrollLeft = document.body.scrollLeft = value)\n        : window.pageXOffset ||\n            document.documentElement.scrollLeft ||\n            document.body.scrollLeft ||\n            0;\n    }\n  }\n};\n","import { cubicInOut } from \"svelte/easing\";\nimport { noop, loop, now } from \"svelte/internal\";\nimport _ from \"./helper\";\n\nconst defaultOptions = {\n  container: \"body\",\n  duration: 500,\n  delay: 0,\n  offset: 0,\n  easing: cubicInOut,\n  onStart: noop,\n  onDone: noop,\n  onAborting: noop,\n  scrollX: false,\n  scrollY: true\n};\n\nconst _scrollTo = options => {\n  let {\n    offset,\n    duration,\n    delay,\n    easing,\n    x=0,\n    y=0,\n    scrollX,\n    scrollY,\n    onStart,\n    onDone,\n    container,\n    onAborting,\n    element\n  } = options;\n\n  if (typeof offset === \"function\") {\n    offset = offset();\n  }\n\n  var cumulativeOffsetContainer = _.cumulativeOffset(container);\n  var cumulativeOffsetTarget = element\n    ? _.cumulativeOffset(element)\n    : { top: y, left: x };\n\n  var initialX = _.scrollLeft(container);\n  var initialY = _.scrollTop(container);\n\n  var targetX =\n    cumulativeOffsetTarget.left - cumulativeOffsetContainer.left + offset;\n  var targetY =\n    cumulativeOffsetTarget.top - cumulativeOffsetContainer.top + offset;\n\n  var diffX = targetX - initialX;\n\tvar diffY = targetY - initialY;\n\n  let scrolling = true;\n  let started = false;\n  let start_time = now() + delay;\n  let end_time = start_time + duration;\n\n  function scrollToTopLeft(element, top, left) {\n    if (scrollX) _.scrollLeft(element, left);\n    if (scrollY) _.scrollTop(element, top);\n  }\n\n  function start(delayStart) {\n    if (!delayStart) {\n      started = true;\n      onStart(element, {x, y});\n    }\n  }\n\n  function tick(progress) {\n    scrollToTopLeft(\n      container,\n      initialY + diffY * progress,\n      initialX + diffX * progress\n    );\n  }\n\n  function stop() {\n    scrolling = false;\n  }\n\n  loop(now => {\n    if (!started && now >= start_time) {\n      start(false)\n    }\n\n    if (started && now >= end_time) {\n      tick(1);\n      stop();\n      onDone(element, {x, y});\n    }\n\n    if (!scrolling) {\n      onAborting(element, {x, y});\n      return false;\n    }\n    if (started) {\n      const p = now - start_time;\n      const t = 0 + 1 * easing(p / duration);\n      tick(t);\n    }\n\n    return true;\n  });\n\n  start(delay);\n\n  tick(0);\n\n  return stop;\n};\n\nconst proceedOptions = options => {\n\tlet opts = _.extend({}, defaultOptions, options);\n  opts.container = _.$(opts.container);\n  opts.element = _.$(opts.element);\n  return opts;\n};\n\nconst scrollContainerHeight = containerElement => {\n  if (\n    containerElement &&\n    containerElement !== document &&\n    containerElement !== document.body\n  ) {\n    return containerElement.scrollHeight - containerElement.offsetHeight;\n  } else {\n    let body = document.body;\n    let html = document.documentElement;\n\n    return Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n  }\n};\n\nexport const setGlobalOptions = options => {\n\t_.extend(defaultOptions, options || {});\n};\n\nexport const scrollTo = options => {\n  return _scrollTo(proceedOptions(options));\n};\n\nexport const scrollToBottom = options => {\n  options = proceedOptions(options);\n\n  return _scrollTo(\n    _.extend(options, {\n      element: null,\n      y: scrollContainerHeight(options.container)\n    })\n  );\n};\n\nexport const scrollToTop = options => {\n  options = proceedOptions(options);\n\n  return _scrollTo(\n    _.extend(options, {\n      element: null,\n      y: 0\n    })\n  );\n};\n\nexport const makeScrollToAction = scrollToFunc => {\n  return (node, options) => {\n    let current = options;\n    const handle = e => {\n      e.preventDefault();\n      scrollToFunc(\n        typeof current === \"string\" ? { element: current } : current\n      );\n    };\n    node.addEventListener(\"click\", handle);\n    node.addEventListener(\"touchstart\", handle);\n    return {\n      update(options) {\n        current = options;\n      },\n      destroy() {\n        node.removeEventListener(\"click\", handle);\n        node.removeEventListener(\"touchstart\", handle);\n      }\n    };\n  };\n};\n\nexport const scrollto = makeScrollToAction(scrollTo);\nexport const scrolltotop = makeScrollToAction(scrollToTop);\nexport const scrolltobottom = makeScrollToAction(scrollToBottom);\n","import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","import { writable, get } from \"svelte/store\";\nimport { request } from \"./utils.js\";\n\nexport default function (config, pathCache) {\n    const store = writable([]);\n\n    const load = async (query) => {\n        let defaults = {\n            vocabularyUrl: config.vocabularyUrl,\n            attributes: config.attributes,\n            pageSize: config.pageSize,\n        };\n        query = {\n            ...defaults,\n            ...query,\n        }\n        if (config.selectableTypes.length) {\n            query[\"selectableTypes\"] = config.selectableTypes;\n        }\n        return await request(query);\n    }\n\n    const browse = async (path, searchTerm, updateCache) => {\n\n        let rootPath = config.rootPath;\n        let rootPathParts = rootPath.replace(/^\\/+/, '').split(\"/\");\n        let physicalPath = path;\n        let hideRootPath = rootPath;\n\n        if (!physicalPath.startsWith(rootPath)) {\n            // The path from the returned items from \"vocabularyUrl\" are starting\n            // relative from the Plone Site. So we need to generate the phyiscalPath here.\n            if (rootPathParts.length === 1) {\n                physicalPath = rootPath + physicalPath;\n            } else {\n                // We also have to merge the rootPath and the clicked path correctly for example:\n                // rootPath: /Plone/media, clicked path: /media/subfolder\n                // has to become:\n                // /Plone/media/subfolder\n                let pathParts = physicalPath.replace(/^\\/+/, '').split(\"/\");\n                let overlapIdx = rootPathParts.length;\n                for (let idx = 0; idx < rootPathParts.length; idx++) {\n                    if (rootPathParts[idx] === pathParts[0]) {\n                        overlapIdx = idx;\n                        break;\n                    }\n                }\n                hideRootPath = \"/\" + (rootPathParts.filter(it => pathParts.includes(it))).join(\"/\");\n                physicalPath = \"/\" + (rootPathParts.slice(1, overlapIdx).concat(pathParts)).join(\"/\");\n            }\n        }\n\n        let paths = [];\n        let parts = physicalPath.split(\"/\") || [];\n        const maxDepth = Math.min(parts.length, config.maxDepth || 999);\n\n        let partsToShow = parts.slice(parts.length - maxDepth, parts.length);\n        let partsToHide = parts.slice(0, parts.length - maxDepth);\n        const pathPrefix = partsToHide.join(\"/\");\n\n        while (partsToShow.length > 0) {\n            let sub_path = partsToShow.join(\"/\").replace(/^\\//, \"\");\n            const poped = partsToShow.pop();\n            sub_path = pathPrefix + ((poped != \"\") ? `/${sub_path}` : \"\");\n            if (sub_path && paths.indexOf(sub_path) === -1) paths.push(sub_path);\n            if (sub_path == rootPath) {\n                // respect rootPath\n                break;\n            }\n        }\n\n        const pC = get(pathCache);\n        let levels = [];\n        let pathCounter = 0;\n\n        for (var p of paths) {\n            pathCounter++;\n            const isFirstPath = pathCounter == 1;\n            let level = {};\n            if (\n                !(p in pC) ||  // new path not found in cache\n                (isFirstPath && searchTerm) ||  // filtering the level\n                updateCache  // manual cache update request\n            ) {\n                let query = {\n                    path: p,\n                };\n\n                if (isFirstPath && searchTerm) {\n                    query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n                }\n\n                level = await load(query);\n\n                // check if there is more than the current batch\n                level.more = config.pageSize < level.total;\n                // save possible search filter for later batch loading\n                level.searchTerm = searchTerm;\n                level.page = 1;\n                level.path = p;\n                level.displayPath = p.replace(new RegExp(`^(${hideRootPath}|${rootPath})`), \"\") || \"/\"\n\n                // do not update cache when searching\n                if (!searchTerm) {\n                    const levelInfo = await load({\n                        levelInfoPath: p,\n                    });\n                    if (levelInfo.total) {\n                        level.UID = levelInfo.results[0].UID;\n                        level.Title = levelInfo.results[0].Title;\n                        level.portal_type = levelInfo.results[0].portal_type;\n                        level.getIcon = levelInfo.results[0].getIcon;\n                        // check if level is selectable (config.selectableTypes)\n                        level.selectable = (!config.selectableTypes.length || config.selectableTypes.indexOf(levelInfo.results[0].portal_type) != -1);\n                    }\n                    level.gridView = false;\n                    pathCache.update((n) => {\n                        n[p] = level;\n                        return n;\n                    });\n                }\n            } else {\n                level = pC[p];\n            }\n            levels = [level, ...levels];\n        }\n        store.set(levels);\n    }\n\n    const search = async (searchTerm, page) => {\n        let query = {\n            searchPath: config.rootPath,\n            page: page,\n        };\n        if (searchTerm) {\n            if (searchTerm.length < 2) {\n                // minimum length of search term\n                return;\n            }\n            query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n        }\n        let level = await load(query);\n        level.page = page;\n        level.searchTerm = searchTerm;\n\n        store.update((levels) => {\n            const has_more = (page * config.pageSize) < level.total;\n\n            // first time or new search\n            if (levels.length == 0 || levels[0].searchTerm != searchTerm) {\n                level.more = has_more;\n                level.selectable = false;\n                level.gridView = false;\n                return [level,];\n            }\n\n            // has more ?\n            levels[0].more = has_more;\n            levels[0].page = level.page;\n\n            // append new batch\n            levels[0].results = [\n                ...levels[0].results,\n                ...level.results,\n            ];\n            return levels;\n        });\n    }\n\n    const nextBatch = async (p, page, searchTerm) => {\n        let query = {\n            path: p,\n            page: page,\n        };\n\n        if (searchTerm) {\n            query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n        }\n\n        let level = await load(query);\n        level.more = (page * config.pageSize) < level.total;\n        level.page = page;\n\n        store.update((levels) => {\n            levels.forEach((l) => {\n                if (l.path != p) {\n                    return l;\n                }\n                l.page = level.page;\n                l.more = level.more;\n                l.results = [\n                    ...l.results,\n                    ...level.results,\n                ]\n            });\n            return levels;\n        });\n    }\n\n    store.get = async ({\n        path = \"\",\n        searchTerm = \"\",\n        updateCache = false,\n        loadMorePath = \"\",\n        page = 1,\n    }) => {\n        if (config.mode === \"search\") {\n            await search(searchTerm, page);\n        } else if (loadMorePath) {\n            const pC = get(pathCache);\n            if (!(loadMorePath in pC)) {\n                return;\n            }\n            let level = pC[loadMorePath];\n            if (page > level.page) {\n                await nextBatch(loadMorePath, page, level.searchTerm);\n            }\n        } else if (path) {\n            await browse(path, searchTerm, updateCache);\n        }\n\n    };\n\n    return store;\n}\n","<script>\n    import { resolveIcon } from \"./utils\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import { createEventDispatcher, getContext } from \"svelte\";\n\n    const config = getContext(\"config\");\n    const dispatch = createEventDispatcher();\n\n    function select(item) {\n        dispatch(\"selectItem\", {\n            item: item,\n        });\n    }\n</script>\n\n{#if $config?.favorites}\n<div class=\"favorites dropdown dropdown-menu-end ms-2\">\n    <button\n        type=\"button\"\n        class=\"favorites dropdown-toggle btn btn-outline-light btn-sm\"\n        data-bs-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n    >\n        <svg use:resolveIcon={{ iconName: \"star-fill\" }} />\n        {_t(\"Favorites\")}\n    </button>\n    <ul class=\"dropdown-menu\">\n        {#each $config.favorites as favorite}\n        <li>\n            <a class=\"dropdown-item\" href=\"{favorite.path}\" on:click|preventDefault={() => select(favorite)}>{favorite.title}</a>\n        </li>\n        {/each}\n    </ul>\n</div>\n{/if}\n","<script>\n    import { resolveIcon, recentlyUsedItems } from \"./utils\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import { createEventDispatcher, getContext } from \"svelte\";\n\n    const config = getContext(\"config\");\n    const items = recentlyUsedItems(true, $config);\n    const dispatch = createEventDispatcher();\n\n    function select(item) {\n        dispatch(\"selectItem\", {\n            item: item,\n        });\n    }\n</script>\n\n{#if $config.recentlyUsed && items.length}\n    <div class=\"recentlyUsed dropdown ms-2\">\n        <button\n            type=\"button\"\n            class=\"recentlyUsed dropdown-toggle btn btn-outline-light btn-sm\"\n            data-bs-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n        >\n            <svg use:resolveIcon={{ iconName: \"grid-fill\" }} />\n            {_t(\"Recently Used\")}\n        </button>\n        <ul class=\"dropdown-menu\">\n            {#each items.reverse() as recentlyUsed}\n                <li>\n                    <a\n                        href={recentlyUsed.getURL ||\"#\"}\n                        on:click|preventDefault={() => select(recentlyUsed)}\n                        class=\"dropdown-item\"\n                    >\n                        <svg\n                            use:resolveIcon={{\n                                iconName: `contenttype/${recentlyUsed?.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                            }}\n                        />\n                        {recentlyUsed.Title}\n                    </a>\n                </li>\n            {/each}\n        </ul>\n    </div>\n{/if}\n","\n      import API from \"!../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../../../@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../css-loader/dist/cjs.js!../../../../../../sass-loader/dist/cjs.js!../../../../../../svelte-loader/index.js?cssPath=/Users/peterm/workspace/buildout.coredev-6.1/src/plone.staticresources/node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.2.css!./ContentBrowser.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../css-loader/dist/cjs.js!../../../../../../sass-loader/dist/cjs.js!../../../../../../svelte-loader/index.js?cssPath=/Users/peterm/workspace/buildout.coredev-6.1/src/plone.staticresources/node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.2.css!./ContentBrowser.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import utils from \"@patternslib/patternslib/src/core/utils\";\n    import { getContext } from \"svelte\";\n    import * as animateScroll from \"svelte-scrollto\";\n    import { fly } from \"svelte/transition\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import Upload from \"../../upload/upload\";\n    import contentStore from \"./ContentStore\";\n    import {\n        clickOutside,\n        formatDate,\n        get_items_from_uids,\n        request,\n        resolveIcon,\n        updateRecentlyUsed,\n    } from \"./utils\";\n    import Favorites from \"./Favorites.svelte\";\n    import RecentlyUsed from \"./RecentlyUsed.svelte\";\n\n    animateScroll.setGlobalOptions({\n        scrollX: true,\n        container: \".levelColumns\",\n        duration: 500,\n    });\n\n    // get context stores\n    const currentPath = getContext(\"currentPath\");\n    const config = getContext(\"config\");\n    const pathCache = getContext(\"pathCache\");\n    const showContentBrowser = getContext(\"showContentBrowser\");\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n    const previewUids = getContext(\"previewUids\");\n\n    // initialize content browser store\n    const contentItems = contentStore($config, pathCache);\n\n    let showUpload = false;\n    let previewItem = {};\n    let keyboardNavInitialized = false;\n    let shiftKey = false;\n\n    let vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n    function updatePreview({ data = null, uuid = null, action = \"show\" }) {\n        if (data && action == \"show\") {\n            previewItem = data;\n            $previewUids = [data.UID];\n        } else if (uuid && action == \"add\" && $previewUids.indexOf(uuid) === -1) {\n            if (\n                $config.maximumSelectionSize > 0 &&\n                $previewUids.length >= $config.maximumSelectionSize\n            ) {\n                // respect maximumSelectionSize\n                return;\n            }\n            $previewUids = [...$previewUids, uuid]; // NOTE: $previewUids.push() is not a reactive change\n        } else if (uuid && action == \"remove\" && $previewUids.indexOf(uuid) !== -1) {\n            previewUids.update((n) => {\n                n.splice(n.indexOf(uuid), 1);\n                return n;\n            });\n        } else if (action == \"clear\") {\n            previewItem = {};\n            $previewUids = [];\n        }\n    }\n\n    async function upload() {\n        updatePreview({ action: \"clear\" });\n        scrollToRight();\n        showUpload = true;\n        await utils.timeout(1);\n        const uploadEl = document.querySelector(\".upload-wrapper\");\n        uploadEl.classList.add(\"pat-upload\");\n        const patUpload = new Upload(uploadEl, {\n            baseUrl: $config.rootUrl,\n            currentPath: $currentPath,\n            relativePath: \"@@fileUpload\",\n            allowPathSelection: false,\n            hiddenInputContainer: \".upload-wrapper\",\n            success: (fileUpload, obj) => {\n                contentItems.get({ path: $currentPath, updateCache: true });\n            },\n        });\n    }\n\n    function showPreview(item) {\n        if ($config.mode == \"search\") {\n            // one level search mode\n            updatePreview({ data: item });\n        } else if (item.is_folderish) {\n            $previewUids = [item.UID];\n            currentPath.set(item.path);\n        } else {\n            const pathParts = item.path.split(\"/\");\n            const folderPath = pathParts.slice(0, pathParts.length - 1).join(\"/\");\n            currentPath.set(folderPath || $config.rootPath);\n            updatePreview({ data: item });\n        }\n        scrollToRight();\n    }\n\n    function changePath(item, e) {\n        // always hide upload when changing path\n        showUpload = false;\n\n        // clear previous selection\n        updatePreview({ action: \"clear\" });\n\n        if (item === \"/\" || item === $config.rootPath) {\n            // clicked \"home\" button\n            currentPath.set($config.rootPath);\n            return;\n        }\n\n        // show clicked item\n        showPreview(item);\n    }\n\n    function clickItem(item, e) {\n        if (!keyboardNavInitialized) {\n            // if we've already clicked an element with the mouse\n            // do not start over keyboardnav\n            keyboardNavInitialized = true;\n        }\n\n        // check for multiselection\n        const levelWrapper = e.currentTarget.closest(\".levelItems\");\n        const prevSelection = levelWrapper.querySelectorAll(\".selectedItem\");\n\n        if (prevSelection.length && $config.maximumSelectionSize != 1) {\n            // check for pressed shift or ctrl/meta key for multiselection\n\n            if (shiftKey || e?.shiftKey) {\n                // iter through the wrapper children and select all\n                // inbetween current selection and last preview\n                let select = false;\n                for (const el of levelWrapper.children) {\n                    if ([item.UID, previewItem.UID].indexOf(el.dataset.uuid) !== -1) {\n                        if (select) {\n                            // stop selecting but make sure the last item is selected too\n                            updatePreview({\n                                uuid: el.dataset.uuid,\n                                action: \"add\",\n                            });\n                            select = false;\n                            continue;\n                        }\n                        // start selecting\n                        select = true;\n                    }\n                    updatePreview({\n                        uuid: el.dataset.uuid,\n                        action: select ? \"add\" : \"remove\",\n                    });\n                }\n            } else if (e?.metaKey || e?.ctrlKey) {\n                // de/select multiple single items\n                // NOTE: only for mouse click event\n                updatePreview({\n                    uuid: item.UID,\n                    action: $previewUids.indexOf(item.UID) == -1 ? \"add\" : \"remove\",\n                });\n            } else {\n                // unselect\n                [...prevSelection].map((el) => el.classList.remove(\"selectedItem\"));\n                changePath(item, e);\n            }\n        } else {\n            changePath(item, e);\n        }\n\n        e.currentTarget.focus(); // needed for keyboard navigation\n        e.currentTarget.classList.add(\"selectedItem\");\n    }\n\n    function initKeyboardNav() {\n        // focus first element when showing contentbrowser\n        if (keyboardNavInitialized) {\n            return;\n        }\n        const possibleFocusEls = [\n            ...document.querySelectorAll(\".levelColumn .inPath\"), // previously selected folder\n            ...document.querySelectorAll(\".levelColumn .selectedItem\"), // previously selected item\n        ];\n        if (\n            !possibleFocusEls.length &&\n            document.querySelector(\".levelColumn .contentItem\")\n        ) {\n            possibleFocusEls.push(document.querySelector(\".levelColumn .contentItem\"));\n        }\n        if (possibleFocusEls.length) {\n            keyboardNavInitialized = true;\n            possibleFocusEls[0].focus();\n        }\n    }\n\n    function keyboardNavigation(item, e) {\n        const node = e.currentTarget;\n        shiftKey = e.shiftKey;\n        if (e.key == \"Escape\") {\n            cancelSelection();\n        }\n        if (\n            e.key == \"ArrowDown\" &&\n            node?.nextElementSibling?.classList.contains(\"contentItem\")\n        ) {\n            node.nextElementSibling.click();\n        }\n        if (\n            e.key == \"ArrowUp\" &&\n            node?.previousElementSibling?.classList.contains(\"contentItem\")\n        ) {\n            node.previousElementSibling.click();\n        }\n        if (e.key == \"ArrowRight\") {\n            const currCol = e.target.closest(\".levelColumn\");\n            const nxtCol = currCol?.nextElementSibling;\n            if (!nxtCol || !nxtCol.classList.contains(\"levelColumn\")) {\n                return;\n            }\n            nxtCol.querySelector(\".contentItem\")?.click();\n        }\n        if (e.key == \"ArrowLeft\") {\n            const currCol = e.target.closest(\".levelColumn\");\n            const prevCol = currCol?.previousElementSibling;\n            if (!prevCol || !prevCol.classList.contains(\"levelColumn\")) {\n                return;\n            }\n            prevCol.querySelector(\".inPath\").click();\n        }\n        if (e.key == \"Space\") {\n            // add item to selection (like metaKey + click)\n            clickItem(item, e, true);\n        }\n        if (e.key == \"Enter\") {\n            if (isSelectable(item)) {\n                if ($config.maximumSelectionSize == 1) {\n                    addItem(item);\n                } else {\n                    addSelectedItems();\n                }\n            }\n        }\n    }\n\n    async function addItem(item) {\n        if ($config.maximumSelectionSize == 1) {\n            selectedItems.set([item]);\n            selectedUids.set([item.UID]);\n        } else {\n            selectedItems.update((n) => [...n, item]);\n            selectedUids.update(() => $selectedItems.map((x) => x.UID));\n        }\n        updateRecentlyUsed(item, $config);\n        updatePreview({ action: \"clear\" });\n        $showContentBrowser = false;\n        keyboardNavInitialized = false;\n    }\n\n    async function addSelectedItems() {\n        const previewItems = await get_items_from_uids($previewUids, $config);\n        selectedItems.update((n) => {\n            for (const it of previewItems) {\n                if ($selectedUids.indexOf(it.UID) != -1) continue;\n                n.push(it);\n            }\n            return n;\n        });\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n        updatePreview({ action: \"clear\" });\n        $showContentBrowser = false;\n        keyboardNavInitialized = false;\n    }\n\n    function selectRecentlyUsed(event) {\n        addItem(event.detail.item);\n    }\n\n    async function selectFavorite(event) {\n        const path = event.detail.item.path;\n        const response = await request({\n            vocabularyUrl: $config.vocabularyUrl,\n            attributes: $config.attributes,\n            levelInfoPath: path,\n        });\n        if (!response.total) {\n            alert(`${path} not found!`);\n            return;\n        }\n        const item = response.results[0];\n        if (!item.path) {\n            // fix for root\n            item.path = $config.rootPath;\n        }\n        changePath(item);\n    }\n\n    function cancelSelection() {\n        $showContentBrowser = false;\n        keyboardNavInitialized = false;\n        updatePreview({ action: \"clear\" });\n    }\n\n    function isSelectable(item) {\n        return $selectedUids.indexOf(item.UID) === -1;\n    }\n\n    function scrollToRight() {\n        const scrollContainer = document.querySelector(\".levelColumns\");\n        if (scrollContainer) {\n            animateScroll.scrollTo({\n                // element: \".levelColumn:last-child\",\n                x: scrollContainer.scrollWidth + 100,\n            });\n        }\n    }\n\n    function itemInPath(item) {\n        return $config.mode == \"browse\" && $currentPath.indexOf(item.path) != -1;\n    }\n\n    const filterItems = utils.debounce((e) => {\n        contentItems.get({ path: $currentPath, searchTerm: e.target.value });\n    }, 300);\n\n    function loadMore(node) {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                for (const entry of entries) {\n                    if (entry.isIntersecting) {\n                        const path = node.dataset.levelPath;\n                        const page = parseInt(node.dataset.levelNextPage);\n                        contentItems.get({\n                            loadMorePath: path,\n                            page: page,\n                        });\n                    }\n                }\n            },\n            { threshold: 0, root: null, margin: \"0px\" },\n        );\n        // defer observing\n        window.setTimeout(() => {\n            observer.observe(node);\n        }, 500);\n    }\n\n    $: {\n        if ($showContentBrowser) {\n            contentItems.get({ path: $currentPath });\n        }\n    }\n\n    $: {\n        $contentItems;\n        scrollToRight();\n    }\n\n    $: {\n        $previewUids;\n    }\n</script>\n\n{#if $showContentBrowser}\n    <div class=\"content-browser-position-wrapper\">\n        <nav\n            class=\"content-browser\"\n            transition:fly={{ x: (vw / 100) * 94, opacity: 1 }}\n            on:introend={() => {\n                scrollToRight();\n                initKeyboardNav();\n            }}\n            use:clickOutside\n            on:click_outside={cancelSelection}\n        >\n            <div class=\"toolBar navbar\">\n                <div class=\"filter me-3\">\n                    <input type=\"text\" name=\"filter\" on:input={filterItems} />\n                    <label for=\"filter\"\n                        ><svg use:resolveIcon={{ iconName: \"search\" }} /></label\n                    >\n                </div>\n                <RecentlyUsed on:selectItem={selectRecentlyUsed} />\n                <Favorites on:selectItem={selectFavorite} />\n                {#if $config.uploadEnabled}\n                    <div class=\"ms-2\">\n                        <button\n                            type=\"button\"\n                            class=\"upload btn btn-outline-light btn-sm\"\n                            tabindex=\"0\"\n                            on:keydown={upload}\n                            on:click={upload}\n                            ><svg use:resolveIcon={{ iconName: \"upload\" }} />\n                            {_t(\"upload to ${current_path}\", {\n                                current_path: $currentPath,\n                            })}</button\n                        >\n                    </div>\n                {/if}\n                <button\n                    class=\"btn btn-link text-white ms-auto\"\n                    tabindex=\"0\"\n                    on:click|preventDefault={() => cancelSelection()}\n                    ><svg use:resolveIcon={{ iconName: \"x-circle\" }} /></button\n                >\n            </div>\n            {#await $contentItems}\n                <p>{_t(\"loading content items\")}</p>\n            {:then levels}\n                <div class=\"levelColumns\">\n                    {#each levels as level, i (level.path)}\n                        <div\n                            class=\"levelColumn{i % 2 == 0 ? ' odd' : ' even'}\"\n                            in:fly|local={{ duration: 300 }}\n                        >\n                            <div class=\"levelToolbar\">\n                                {#if i == 0 && $config.mode == \"browse\"}\n                                    <button\n                                        type=\"button\"\n                                        class=\"btn btn-link btn-xs ps-0\"\n                                        tabindex=\"0\"\n                                        on:keydown={() => changePath($config.rootPath)}\n                                        on:click={() => changePath($config.rootPath)}\n                                        ><svg\n                                            use:resolveIcon={{ iconName: \"house\" }}\n                                        /></button\n                                    >\n                                {/if}\n                                {#if level.selectable}\n                                    <button\n                                        class=\"btn btn-primary btn-xs\"\n                                        title={level.displayPath}\n                                        disabled={!isSelectable(level)}\n                                        on:click|preventDefault={() => addItem(level)}\n                                    >\n                                        {_t(\"select ${level_path}\", {\n                                            level_path: level.Title,\n                                        })}\n                                    </button>\n                                {/if}\n                                <div class=\"levelActions\">\n                                    {#if !level.gridView}\n                                        <button\n                                            class=\"btn btn-link btn-xs grid-view\"\n                                            on:click={() => (level.gridView = true)}\n                                        >\n                                            <svg\n                                                use:resolveIcon={{ iconName: \"grid\" }}\n                                            />\n                                        </button>\n                                    {:else}\n                                        <button\n                                            class=\"btn btn-link btn-xs grid-view\"\n                                            on:click={() => (level.gridView = false)}\n                                        >\n                                            <svg\n                                                use:resolveIcon={{ iconName: \"list\" }}\n                                            />\n                                        </button>\n                                    {/if}\n                                </div>\n                            </div>\n                            <div class=\"levelItems\">\n                                {#each level.results || [] as item, n}\n                                    <!-- svelte-ignore missing-declaration -->\n                                    <div\n                                        class=\"contentItem{n % 2 == 0\n                                            ? ' odd'\n                                            : ' even'}{itemInPath(item)\n                                            ? ' inPath'\n                                            : ''}{$previewUids.indexOf(item.UID) != -1\n                                            ? ' selectedItem'\n                                            : ''}{!isSelectable(item)\n                                            ? ' text-muted'\n                                            : ''}\"\n                                        role=\"button\"\n                                        tabindex={n}\n                                        data-uuid={item.UID}\n                                        on:keydown|preventDefault={(e) =>\n                                            keyboardNavigation(item, e)}\n                                        on:click={(e) => clickItem(item, e)}\n                                    >\n                                        {#if level.gridView}\n                                            <div class=\"grid-preview\">\n                                                {#if item.getIcon}\n                                                    <img\n                                                        src={`${item.getURL}/@@images/image/thumb`}\n                                                        alt={item.Title}\n                                                    />\n                                                {:else}\n                                                    <svg\n                                                        use:resolveIcon={{\n                                                            iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                                        }}\n                                                    />\n                                                {/if}\n                                                {item.Title}\n                                            </div>\n                                        {:else}\n                                            <div\n                                                class=\"item-title\"\n                                                title=\"{item.portal_type}: {item.Title}\"\n                                            >\n                                                <svg\n                                                    use:resolveIcon={{\n                                                        iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                                    }}\n                                                />\n                                                {item.Title}\n                                                {#if $config.mode == \"search\"}\n                                                    <br /><span class=\"small\"\n                                                        >{item.path}</span\n                                                    >\n                                                {/if}\n                                            </div>\n                                        {/if}\n                                        {#if item.is_folderish && $config.mode == \"browse\"}\n                                            <div class=\"browseSub\">\n                                                <svg\n                                                    use:resolveIcon={{\n                                                        iconName: \"arrow-right-circle\",\n                                                    }}\n                                                />\n                                            </div>\n                                        {/if}\n                                    </div>\n                                {/each}\n                                {#if level.more}\n                                    <div\n                                        class=\"loadmore\"\n                                        data-level-path={level.path}\n                                        data-level-next-page={parseInt(level.page) + 1}\n                                        use:loadMore\n                                    >\n                                        <div class=\"spinner-border\" role=\"status\"></div>\n                                    </div>\n                                {/if}\n                                {#if level.total == 0}\n                                    <div class=\"contentItem\">\n                                        <p>{_t(\"no results found\")}</p>\n                                    </div>\n                                {/if}\n                            </div>\n                        </div>\n                    {/each}\n                    {#if previewItem?.UID && $previewUids.length == 1}\n                        <div class=\"preview\">\n                            <div class=\"levelToolbar\">\n                                <button\n                                    class=\"btn btn-primary btn-xs\"\n                                    title={previewItem.path.split(\"/\").pop()}\n                                    disabled={!isSelectable(previewItem)}\n                                    on:click|preventDefault={() => addItem(previewItem)}\n                                    >{_t(\"select ${preview_path}\", {\n                                        preview_path: previewItem.Title,\n                                    })}</button\n                                >\n                            </div>\n                            <div class=\"info\">\n                                {#if previewItem.getIcon}\n                                    <div class=\"previewImage\">\n                                        <img\n                                            src=\"{previewItem.getURL}/@@images/image/preview\"\n                                            alt={previewItem.Title}\n                                        />\n                                    </div>\n                                {:else}\n                                    <div class=\"previewIcon\">\n                                        <svg\n                                            use:resolveIcon={{\n                                                iconName: `contenttype/${previewItem.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                            }}\n                                        />\n                                    </div>\n                                {/if}\n                                <dl>\n                                    <dt>{_t(\"Title\")}</dt>\n                                    <dd>{previewItem.Title}</dd>\n                                    {#if previewItem.Description}\n                                        <dt>{_t(\"Description\")}</dt>\n                                        <dd\n                                            class=\"text-truncate\"\n                                            title={previewItem.Description}\n                                        >\n                                            {previewItem.Description}\n                                        </dd>\n                                    {/if}\n                                    {#if previewItem.created}\n                                        <dt>{_t(\"created\")}</dt>\n                                        <dd>\n                                            <time datetime={previewItem.created}\n                                                >{formatDate(previewItem.created)}</time\n                                            >\n                                        </dd>\n                                    {/if}\n                                    {#if previewItem.modified}\n                                        <dt>{_t(\"modified\")}</dt>\n                                        <dd>\n                                            <time datetime={previewItem.modified}\n                                                >{formatDate(previewItem.modified)}</time\n                                            >\n                                        </dd>\n                                    {/if}\n                                    {#if previewItem.review_state}\n                                        <dt>{_t(\"review_state\")}</dt>\n                                        <dd>{previewItem.review_state}</dd>\n                                    {/if}\n                                </dl>\n                            </div>\n                        </div>\n                    {/if}\n                    {#if $previewUids.length > 1}\n                        <div class=\"preview\">\n                            <div class=\"levelToolbar\">\n                                <button\n                                    class=\"btn btn-primary btn-xs\"\n                                    on:click|preventDefault={addSelectedItems}\n                                    >{_t(\"add selected items\")}</button\n                                >\n                            </div>\n                            <div class=\"info\">\n                                <svg\n                                    use:resolveIcon={{\n                                        iconName: \"files\",\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    {/if}\n                    {#if showUpload}\n                        <div class=\"upload-wrapper\"></div>\n                    {/if}\n                </div>\n            {:catch error}\n                <p style=\"color: red\">{error.message}</p>\n            {/await}\n        </nav>\n    </div>\n{/if}\n\n<style>\n    .content-browser-position-wrapper {\n        position: fixed;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: end;\n        z-index: 1500;\n        width: 100%;\n        height: 100vh;\n        background-color: rgba(0, 0, 0, 0.25);\n    }\n    .btn-xs {\n        --bs-btn-padding-y: 0.15rem;\n        --bs-btn-padding-x: 0.5rem;\n        --bs-btn-font-size: 0.75rem;\n    }\n    .content-browser {\n        height: 100vh;\n        min-width: 550px;\n        background-color: var(--bs-light-bg-subtle);\n        border-left: var(--bs-border-style) var(--bs-border-width) #fff;\n        z-index: 1500;\n        display: flex;\n        flex-direction: column;\n    }\n    .toolBar {\n        background-color: var(--bs-primary);\n        padding: 0.325rem 0.75rem;\n        color: var(--bs-light);\n        width: 100%;\n        display: flex;\n        justify-content: start;\n    }\n    .toolBar :global(svg) {\n        vertical-align: -0.125em;\n    }\n    .levelColumns {\n        display: flex;\n        flex-wrap: nowrap;\n        width: 100%;\n        overflow-y: hidden;\n        overflow-x: auto;\n        flex-grow: 3;\n        border-left: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        user-select: none;\n    }\n\n    .levelColumn {\n        width: 320px;\n        border-right: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n        display: flex;\n        flex-direction: column;\n        flex-grow: 0;\n        flex-shrink: 0;\n    }\n\n    .levelToolbar {\n        width: 100%;\n        height: 2.5rem;\n        display: flex;\n        justify-content: space-between;\n        padding: 0.375rem;\n        border-bottom: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n    }\n    .levelToolbar > .levelActions {\n        margin-left: auto;\n    }\n    .levelToolbar > button {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    .levelItems {\n        overflow-x: auto;\n    }\n    .contentItem {\n        /* padding: 1rem 1rem; */\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        font-size: 90%;\n        min-height: 2rem;\n    }\n    .contentItem:focus-visible {\n        outline: none;\n    }\n    .contentItem.even {\n        background-color: rgba(var(--bs-secondary-bg-rgb), 0.4);\n    }\n    .contentItem.inPath,\n    .contentItem:focus {\n        background-color: rgba(var(--bs-primary-rgb), 0.15);\n    }\n    .contentItem.selectedItem {\n        background-color: var(--bs-primary);\n        color: var(--bs-body-bg);\n    }\n    .contentItem > * {\n        padding: 0.5rem;\n        white-space: nowrap;\n        max-width: 450px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n    .contentItem > .browseSub {\n        flex-shrink: 0;\n    }\n\n    .contentItem .grid-preview > img {\n        width: 95px;\n        height: 95px;\n        object-fit: cover;\n        float: left;\n        margin-right: 1rem;\n    }\n    .preview {\n        width: 320px;\n        min-height: 300px;\n        display: flex;\n        flex-direction: column;\n        flex-shrink: 0;\n        align-items: center;\n    }\n    .preview .info {\n        padding: 0.5rem;\n        width: 100%;\n        word-wrap: anywhere;\n    }\n    .preview .info .previewIcon {\n        margin: 0 auto 1rem auto;\n    }\n    .preview .info .previewIcon svg {\n        width: 50px !important;\n        height: 50px !important;\n    }\n    .preview img {\n        max-width: 100%;\n        max-width: 100%;\n        margin-bottom: 0.5rem;\n    }\n\n    .upload-wrapper {\n        padding: 1rem;\n        width: 540px;\n        overflow-x: auto;\n        flex-shrink: 0;\n    }\n    .loadmore {\n        text-align: center;\n        padding: 0.25rem 0;\n    }\n</style>\n","\n      import API from \"!../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../../../@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../css-loader/dist/cjs.js!../../../../../../sass-loader/dist/cjs.js!../../../../../../svelte-loader/index.js?cssPath=/Users/peterm/workspace/buildout.coredev-6.1/src/plone.staticresources/node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../css-loader/dist/cjs.js!../../../../../../sass-loader/dist/cjs.js!../../../../../../svelte-loader/index.js?cssPath=/Users/peterm/workspace/buildout.coredev-6.1/src/plone.staticresources/node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import { getContext, onMount, setContext } from \"svelte\";\n    import { get_items_from_uids } from \"./utils.js\";\n    import Sortable from \"sortablejs\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import events from \"@patternslib/patternslib/src/core/events\";\n    import plone_registry from \"@plone/registry\";\n\n    let ref;\n    let initializing = true;\n\n    // get reactive context config\n    const config = getContext(\"config\");\n    const fieldId = $config.fieldId;\n    const selectedItemsNode = document.getElementById(fieldId);\n\n    // get reactive context store\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n\n    // showContentBrowser reactive state\n    const showContentBrowser = getContext(\"showContentBrowser\");\n\n    // get selectedItem component from registry.\n    // the registry key can be customized with pattern_options\n    // if an addon registers a custom component to a custom key\n    const RegisteredSelectedItem = plone_registry.getComponent(\n        $config.componentRegistryKeys?.selectedItem ||\"pat-contentbrowser.SelectedItem\"\n    );\n\n    onMount(async () => {\n        await initializeSelectedItemsStore();\n        initializeSorting();\n        initializing = false;\n    });\n\n    function unselectItem(i) {\n        selectedItems.update((n) => {\n            n.splice(i, 1);\n            return n;\n        });\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n    }\n\n    // use this function in \"SelectedItem\" component with\n    // const unselectItem = getContext(\"unselectItem\")\n    setContext(\"unselectItem\", unselectItem);\n\n    async function initializeSelectedItemsStore() {\n        const initialValue = $config.selection.length\n            ? $config.selection\n            : selectedItemsNode?.value\n              ? selectedItemsNode.value.split($config.separator)\n              : [];\n\n        if (!initialValue.length) {\n            return;\n        }\n\n        $selectedItems = await get_items_from_uids(initialValue, $config);\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n    }\n\n    function initializeSorting() {\n        if ($config.maximumSelectionSize !== 1 && $selectedItems.length > 1) {\n            Sortable.create(\n                selectedItemsNode.previousSibling.querySelector(\n                    \".content-browser-selected-items\",\n                ),\n                {\n                    draggable: \".selected-item\",\n                    animation: 200,\n                    onUpdate: (e) => {\n                        let sortedUuids = [];\n                        for (const el of e.target.children) {\n                            sortedUuids.push(el.dataset[\"uuid\"]);\n                        }\n                        setNodeValue(sortedUuids);\n                    },\n                },\n            );\n        }\n    }\n\n    function selectedUidsFromSelectedItems() {\n        let items = [];\n        $selectedItems.forEach((item) => {\n            items.push(item.UID);\n        });\n        return items;\n    }\n\n    function setNodeValue(selectedUids) {\n        const node_val = selectedUids.join($config.separator);\n        selectedItemsNode.value = node_val;\n        selectedItemsNode.dispatchEvent(events.change_event());\n    }\n\n    function LoadSelectedItemComponent(node, props) {\n        const component = new RegisteredSelectedItem.component({target: node, props: props});\n    }\n\n    $: {\n        $selectedItems;\n        if ($selectedItems.length || !initializing) {\n            setNodeValue(selectedUidsFromSelectedItems());\n            initializeSorting();\n        }\n    }\n</script>\n\n<div\n    class=\"content-browser-selected-items-wrapper\"\n    style=\"width: {$config.width || 'auto'}\"\n    bind:this={ref}\n>\n    <!-- svelte-ignore a11y-click-events-have-key-events -->\n    <!-- svelte-ignore a11y-no-static-element-interactions -->\n    <div class=\"content-browser-selected-items\"\n         on:click={() => $showContentBrowser = $selectedItems.length ? false : true }>\n        {#if $selectedItems}\n            {#each $selectedItems as selItem, i (selItem.UID)}\n                <div use:LoadSelectedItemComponent={{idx:i, item:selItem}} />\n            {/each}\n        {/if}\n        {#if !$selectedItems}\n            <p>{_t(\"loading selected items\")}</p>\n        {/if}\n    </div>\n    <!-- svelte-ignore a11y-invalid-attribute -->\n    <a\n        class=\"btn btn-primary\" href=\"#\"\n        style=\"border-radius:0 var(--bs-border-radius) var(--bs-border-radius) 0\"\n        on:click|preventDefault={() => ($showContentBrowser = true)}\n        >{_t(\"Select\")}</a\n    >\n</div>\n\n<style>\n    .content-browser-selected-items-wrapper {\n        display: flex;\n        align-items: start;\n    }\n    .content-browser-selected-items {\n        list-style: none;\n        background-color: var(--bs-body-bg);\n        border-radius: var(--bs-border-radius) 0 0 var(--bs-border-radius);\n        border: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        min-height: 2.4rem;\n        padding: 0.5rem 0.5rem 0 0.5rem;\n        flex: 1 1 auto;\n    }\n</style>\n","import { setContext } from 'svelte';\nimport { writable } from 'svelte/store';\n\nexport const gridView = writable(false);\n\nexport function setCurrentPath() {\n    let currentPath = writable('');\n    setContext('currentPath', currentPath);\n}\n\nexport function setPathCache() {\n    let pathCache = writable({});\n    setContext('pathCache', pathCache);\n}\n\n// reactive context stores\nexport function setSelectedItems() {\n    let selItems = writable([]);\n    setContext('selectedItems', selItems);\n}\n\nexport function setConfig() {\n    let config = writable({});\n    setContext('config', config);\n}\n\nexport function setShowContentBrowser() {\n    let showContentBrowser = writable(false);\n    setContext('showContentBrowser', showContentBrowser);\n}\n\nexport function setSelectedUids() {\n    let selUids = writable([]);\n    setContext(\"selectedUids\", selUids);\n}\n\nexport function setPreviewUids() {\n    let prevUids = writable([]);\n    setContext(\"previewUids\", prevUids);\n}\n","<script>\n    import logger from \"@patternslib/patternslib/src/core/logging\";\n    import { getContext } from \"svelte\";\n    import ContentBrowser from \"./ContentBrowser.svelte\";\n    import SelectedItems from \"./SelectedItems.svelte\";\n    import {\n        setConfig,\n        setCurrentPath,\n        setPathCache,\n        setSelectedItems,\n        setSelectedUids,\n        setPreviewUids,\n        setShowContentBrowser,\n    } from \"./stores\";\n\n    export let maxDepth;\n    export let width;\n    export let attributes;\n    export let contextPath;\n    export let vocabularyUrl;\n    export let mode = \"browse\";\n    export let rootPath = \"\";\n    export let rootUrl = \"\";\n    export let basePath = \"\";\n    export let selectableTypes = [];\n    export let maximumSelectionSize = -1;\n    export let separator;\n    export let selection = [];\n    export let query = {};\n    export let fieldId;\n    export let upload;\n    export let favorites;\n    export let recentlyUsed;\n    export let recentlyUsedKey;\n    export let recentlyUsedMaxItems;\n    export let bSize = 20;\n    export let componentRegistryKeys = {};\n\n    const log = logger.getLogger(\"pat-contentbrowser\");\n\n    // initialize context stores\n    setCurrentPath();\n    setConfig();\n    setPathCache();\n    setSelectedItems();\n    setShowContentBrowser();\n    setSelectedUids();\n    setPreviewUids();\n\n    // initially set current path\n    const currentPath = getContext(\"currentPath\");\n\n    if (!$currentPath) {\n        if(basePath || rootPath) {\n            // if root path is not above base path we start at rootPath\n            $currentPath = basePath.indexOf(rootPath) != 0 ? rootPath : basePath;\n        } else {\n            // no path available. try to determine path from vocabularyUrl\n            const vocabPath = new URL(vocabularyUrl).pathname.split(\"/\");\n            rootPath = contextPath = $currentPath = vocabPath.slice(0, vocabPath.length - 1).join(\"/\") || \"/\";\n        }\n    }\n\n    let config = getContext(\"config\");\n    $config = {\n        mode: mode,\n        attributes: attributes,\n        contextPath: contextPath,\n        vocabularyUrl: vocabularyUrl,\n        width: width,\n        maxDepth: maxDepth,\n        rootPath: rootPath,\n        rootUrl: rootUrl,\n        basePath: basePath,\n        selectableTypes: selectableTypes,\n        maximumSelectionSize: maximumSelectionSize,\n        separator: separator,\n        selection: selection,\n        query: query,\n        fieldId: fieldId,\n        uploadEnabled: upload,\n        favorites: favorites,\n        recentlyUsed: recentlyUsed,\n        recentlyUsedKey: recentlyUsedKey,\n        recentlyUsedMaxItems: recentlyUsedMaxItems,\n        pageSize: bSize,\n        componentRegistryKeys: componentRegistryKeys,\n    };\n\n    log.debug(`Initialized App<${fieldId}> with config ${JSON.stringify($config)}`);\n</script>\n\n<ContentBrowser />\n<SelectedItems />\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","t","f","$","selector","document","querySelector","extend","args","Object","assign","cumulativeOffset","element","top","left","offsetTop","offsetLeft","offsetParent","directScroll","body","scrollTop","value","inSetter","undefined","this","documentElement","window","pageYOffset","scrollLeft","pageXOffset","defaultOptions","container","duration","delay","offset","easing","Math","pow","onStart","onDone","onAborting","scrollX","scrollY","_scrollTo","options","x","y","cumulativeOffsetContainer","cumulativeOffsetTarget","initialX","initialY","targetX","targetY","diffX","diffY","scrolling","started","start_time","end_time","start","delayStart","tick","progress","scrollToTopLeft","stop","now","proceedOptions","opts","scrollContainerHeight","containerElement","scrollHeight","offsetHeight","html","max","clientHeight","scrollTo","makeScrollToAction","scrollToFunc","node","current","handle","e","preventDefault","addEventListener","update","destroy","removeEventListener","fly","opacity","style","getComputedStyle","target_opacity","transform","od","xValue","xUnit","yValue","yUnit","css","u","subscriber_queue","writable","subscribers","Set","set","new_value","run_queue","length","subscriber","i","fn","subscribe","run","invalidate","add","size","delete","config","pathCache","store","load","async","query","vocabularyUrl","attributes","pageSize","selectableTypes","request","get","path","searchTerm","updateCache","loadMorePath","page","_ref","mode","searchPath","rootPath","level","levels","has_more","total","more","selectable","gridView","results","search","pC","p","forEach","l","nextBatch","rootPathParts","replace","split","physicalPath","hideRootPath","startsWith","pathParts","overlapIdx","idx","filter","it","includes","join","slice","concat","paths","parts","maxDepth","min","partsToShow","pathPrefix","sub_path","pop","indexOf","pathCounter","isFirstPath","displayPath","RegExp","levelInfo","levelInfoPath","UID","Title","portal_type","getIcon","n","browse","favorites","iconName","title","dispatch","select","item","favorite","reverse","getURL","toLowerCase","recentlyUsed","items","$config","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","uploadEnabled","current_path","message","level_path","is_folderish","parseInt","preview_path","Description","created","modified","review_state","currentPath","showContentBrowser","selectedItems","selectedUids","previewUids","contentItems","showUpload","previewItem","keyboardNavInitialized","shiftKey","vw","clientWidth","innerWidth","updatePreview","data","uuid","action","$previewUids","maximumSelectionSize","splice","changePath","folderPath","scrollToRight","showPreview","clickItem","levelWrapper","currentTarget","closest","prevSelection","querySelectorAll","el","children","dataset","metaKey","ctrlKey","map","classList","remove","focus","initKeyboardNav","possibleFocusEls","keyboardNavigation","key","cancelSelection","nextElementSibling","contains","click","previousElementSibling","currCol","target","nxtCol","prevCol","isSelectable","addItem","addSelectedItems","$selectedItems","$showContentBrowser","previewItems","$selectedUids","scrollContainer","scrollWidth","filterItems","utils","debounce","$currentPath","timeout","uploadEl","baseUrl","rootUrl","relativePath","allowPathSelection","hiddenInputContainer","success","fileUpload","obj","event","detail","response","alert","observer","IntersectionObserver","entries","entry","isIntersecting","levelPath","levelNextPage","threshold","root","margin","setTimeout","observe","width","ref","initializing","fieldId","selectedItemsNode","getElementById","RegisteredSelectedItem","componentRegistryKeys","selectedItem","initializeSorting","previousSibling","draggable","animation","onUpdate","sortedUuids","setNodeValue","node_val","separator","dispatchEvent","events","change_event","initialValue","selection","initializeSelectedItemsStore","selectedUidsFromSelectedItems","props","component","contextPath","basePath","upload","recentlyUsedKey","recentlyUsedMaxItems","bSize","log","getLogger","setContext","setCurrentPath","setConfig","setPathCache","selItems","setSelectedItems","setShowContentBrowser","selUids","setSelectedUids","prevUids","setPreviewUids","vocabPath","URL","pathname","debug","JSON","stringify"],"sourceRoot":""}