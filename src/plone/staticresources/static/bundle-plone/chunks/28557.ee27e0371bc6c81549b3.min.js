"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[28557],{28557:function(t,n,e){e.r(n),e.d(n,{default:function(){return c}});var i=e(4462),r=e.n(i),o=e(8481);class c{constructor(t){this.el=t,this.SKIP_OVERLAY_ACTIONS=["plone.actions.Delete"]}init(){let t=this;r()("#configure-conditions .rule-element input, #configure-actions .rule-element input").off("click").on("click",(t=>{const n=r()(t.currentTarget);var e=n.attr("name");if("form.button.EditCondition"==e||"form.button.EditAction"==e)return!0;r()("#spinner").show();var i=n.parents("form").first(),o=i.parents("fieldset").first(),c=i.serialize()+"&"+e+"=1",s=i.attr("action");return r().post(s,c,(t=>{var n=r()(t).find("#"+o.attr("id"));o.replaceWith(n),this.init(),r()("#spinner").hide()})),!1})),r()('input[name="form.button.AddCondition"],input[name="form.button.AddAction"]').off("click").on("click",(n=>{const e=n.currentTarget;for(var i=r()(e).parent().parent(),c=i.serialize(),s=0;s<t.SKIP_OVERLAY_ACTIONS.length;s++)if(-1!==c.indexOf(t.SKIP_OVERLAY_ACTIONS[s]))return;n.preventDefault();var a=i.attr("action")+"?"+c,u=r()('<a href="'+a+'" />').css("display","none");u.insertAfter(e),new o.Z(u,{actionOptions:{isForm:!0,redirectOnResponse:!0,redirectToUrl:()=>window.location.href}}),u.trigger("click")}))}}}}]);
//# sourceMappingURL=28557.ee27e0371bc6c81549b3.min.js.map