"use strict";(self.webpackChunkplone_staticresources=self.webpackChunkplone_staticresources||[]).push([[78057],{78057:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});var r=n(14021),i=n.n(r),o=n(53902);class s{constructor(t){this.el=t,this.SKIP_OVERLAY_ACTIONS=["plone.actions.Delete"]}init(){let t=this;i()("#configure-conditions .rule-element input, #configure-actions .rule-element input").off("click").on("click",(t=>{const e=i()(t.currentTarget);var n=e.attr("name");if("form.button.EditCondition"==n||"form.button.EditAction"==n)return!0;i()("#spinner").show();var r=e.parents("form").first(),o=r.parents("fieldset").first(),s=r.serialize()+"&"+n+"=1",c=r.attr("action");return i().post(c,s,(t=>{var e=i()(t).find("#"+o.attr("id"));o.replaceWith(e),this.init(),i()("#spinner").hide()})),!1})),i()('input[name="form.button.AddCondition"],input[name="form.button.AddAction"]').off("click").on("click",(e=>{const n=e.currentTarget;for(var r=i()(n).parent().parent(),s=r.serialize(),c=0;c<t.SKIP_OVERLAY_ACTIONS.length;c++)if(-1!==s.indexOf(t.SKIP_OVERLAY_ACTIONS[c]))return;e.preventDefault();var a=r.attr("action")+"?"+s,u=i()('<a href="'+a+'" />').css("display","none");u.insertAfter(n),new o.A(u,{actionOptions:{isForm:!0,redirectOnResponse:!0,redirectToUrl:()=>window.location.href}}),u.trigger("click")}))}}}}]);
//# sourceMappingURL=78057.1fd9aa35ae981721e386.min.js.map