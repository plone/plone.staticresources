{"version":3,"file":"chunks/82661.3ddbf3e0671e63289edc.min.js","mappings":"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","sources":["webpack://plone.staticresources/./node_modules/jqtree/lib/dataLoader.js","webpack://plone.staticresources/./node_modules/jqtree/lib/dragAndDropHandler.js","webpack://plone.staticresources/./node_modules/jqtree/lib/elementsRenderer.js","webpack://plone.staticresources/./node_modules/jqtree/lib/keyHandler.js","webpack://plone.staticresources/./node_modules/jqtree/lib/mouse.widget.js","webpack://plone.staticresources/./node_modules/jqtree/lib/node.js","webpack://plone.staticresources/./node_modules/jqtree/lib/nodeElement.js","webpack://plone.staticresources/./node_modules/jqtree/lib/saveStateHandler.js","webpack://plone.staticresources/./node_modules/jqtree/lib/scrollHandler.js","webpack://plone.staticresources/./node_modules/jqtree/lib/selectNodeHandler.js","webpack://plone.staticresources/./node_modules/jqtree/lib/simple.widget.js","webpack://plone.staticresources/./node_modules/jqtree/lib/tree.jquery.js","webpack://plone.staticresources/./node_modules/jqtree/lib/util.js","webpack://plone.staticresources/./node_modules/jqtree/lib/version.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DataLoader = /*#__PURE__*/function () {\n  function DataLoader(treeWidget) {\n    _classCallCheck(this, DataLoader);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    this.treeWidget = treeWidget;\n  }\n\n  _createClass(DataLoader, [{\n    key: \"loadFromUrl\",\n    value: function loadFromUrl(urlInfo, parentNode, onFinished) {\n      var _this = this;\n\n      if (!urlInfo) {\n        return;\n      }\n\n      var $el = this.getDomElement(parentNode);\n      this.addLoadingClass($el);\n      this.notifyLoading(true, parentNode, $el);\n\n      var stopLoading = function stopLoading() {\n        _this.removeLoadingClass($el);\n\n        _this.notifyLoading(false, parentNode, $el);\n      };\n\n      var handleSuccess = function handleSuccess(data) {\n        stopLoading();\n\n        _this.treeWidget.loadData(_this.parseData(data), parentNode);\n\n        if (onFinished && typeof onFinished === \"function\") {\n          onFinished();\n        }\n      };\n\n      var handleError = function handleError(jqXHR) {\n        stopLoading();\n\n        if (_this.treeWidget.options.onLoadFailed) {\n          _this.treeWidget.options.onLoadFailed(jqXHR);\n        }\n      };\n\n      this.submitRequest(urlInfo, handleSuccess, handleError);\n    }\n  }, {\n    key: \"addLoadingClass\",\n    value: function addLoadingClass($el) {\n      if ($el) {\n        $el.addClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"removeLoadingClass\",\n    value: function removeLoadingClass($el) {\n      if ($el) {\n        $el.removeClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"getDomElement\",\n    value: function getDomElement(parentNode) {\n      if (parentNode) {\n        return jQuery(parentNode.element);\n      } else {\n        return this.treeWidget.element;\n      }\n    }\n  }, {\n    key: \"notifyLoading\",\n    value: function notifyLoading(isLoading, node, $el) {\n      if (this.treeWidget.options.onLoading) {\n        this.treeWidget.options.onLoading(isLoading, node, $el);\n      }\n\n      this.treeWidget._triggerEvent(\"tree.loading_data\", {\n        isLoading: isLoading,\n        node: node,\n        $el: $el\n      });\n    }\n  }, {\n    key: \"submitRequest\",\n    value: function submitRequest(urlInfoInput, handleSuccess, handleError) {\n      var _ajaxSettings$method;\n\n      var urlInfo = typeof urlInfoInput === \"string\" ? {\n        url: urlInfoInput\n      } : urlInfoInput;\n\n      var ajaxSettings = _objectSpread({\n        method: \"GET\",\n        cache: false,\n        dataType: \"json\",\n        success: handleSuccess,\n        error: handleError\n      }, urlInfo);\n\n      ajaxSettings.method = ((_ajaxSettings$method = ajaxSettings.method) === null || _ajaxSettings$method === void 0 ? void 0 : _ajaxSettings$method.toUpperCase()) || \"GET\";\n      void jQuery.ajax(ajaxSettings);\n    }\n  }, {\n    key: \"parseData\",\n    value: function parseData(data) {\n      var dataFilter = this.treeWidget.options.dataFilter;\n\n      var getParsedData = function getParsedData() {\n        if (typeof data === \"string\") {\n          return JSON.parse(data);\n        } else {\n          return data;\n        }\n      };\n\n      var parsedData = getParsedData();\n\n      if (dataFilter) {\n        return dataFilter(parsedData);\n      } else {\n        return parsedData;\n      }\n    }\n  }]);\n\n  return DataLoader;\n}();\n\nexports[\"default\"] = DataLoader;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HitAreasGenerator = exports.DragAndDropHandler = void 0;\n\nvar _node = require(\"./node\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DragAndDropHandler = /*#__PURE__*/function () {\n  function DragAndDropHandler(treeWidget) {\n    _classCallCheck(this, DragAndDropHandler);\n\n    _defineProperty(this, \"hitAreas\", void 0);\n\n    _defineProperty(this, \"isDragging\", void 0);\n\n    _defineProperty(this, \"currentItem\", void 0);\n\n    _defineProperty(this, \"hoveredArea\", void 0);\n\n    _defineProperty(this, \"positionInfo\", void 0);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"dragElement\", void 0);\n\n    _defineProperty(this, \"previousGhost\", void 0);\n\n    _defineProperty(this, \"openFolderTimer\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.hoveredArea = null;\n    this.hitAreas = [];\n    this.isDragging = false;\n    this.currentItem = null;\n    this.positionInfo = null;\n  }\n\n  _createClass(DragAndDropHandler, [{\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      var $element = jQuery(positionInfo.target);\n\n      if (!this.mustCaptureElement($element)) {\n        return null;\n      }\n\n      if (this.treeWidget.options.onIsMoveHandle && !this.treeWidget.options.onIsMoveHandle($element)) {\n        return null;\n      }\n\n      var nodeElement = this.treeWidget._getNodeElement($element);\n\n      if (nodeElement && this.treeWidget.options.onCanMove) {\n        if (!this.treeWidget.options.onCanMove(nodeElement.node)) {\n          nodeElement = null;\n        }\n      }\n\n      this.currentItem = nodeElement;\n      return this.currentItem != null;\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      var _this$treeWidget$opti;\n\n      if (!this.currentItem || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n\n      this.refresh();\n      var offset = jQuery(positionInfo.target).offset();\n      var left = offset ? offset.left : 0;\n      var top = offset ? offset.top : 0;\n      var node = this.currentItem.node;\n      this.dragElement = new DragElement(node.name, positionInfo.pageX - left, positionInfo.pageY - top, this.treeWidget.element, (_this$treeWidget$opti = this.treeWidget.options.autoEscape) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : true);\n      this.isDragging = true;\n      this.positionInfo = positionInfo;\n      this.currentItem.$element.addClass(\"jqtree-moving\");\n      return true;\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (!this.currentItem || !this.dragElement || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n\n      this.dragElement.move(positionInfo.pageX, positionInfo.pageY);\n      this.positionInfo = positionInfo;\n      var area = this.findHoveredArea(positionInfo.pageX, positionInfo.pageY);\n\n      if (area && this.canMoveToArea(area)) {\n        if (!area.node.isFolder()) {\n          this.stopOpenFolderTimer();\n        }\n\n        if (this.hoveredArea !== area) {\n          this.hoveredArea = area; // If this is a closed folder, start timer to open it\n\n          if (this.mustOpenFolderTimer(area)) {\n            this.startOpenFolderTimer(area.node);\n          } else {\n            this.stopOpenFolderTimer();\n          }\n\n          this.updateDropHint();\n        }\n      } else {\n        this.removeDropHint();\n        this.stopOpenFolderTimer();\n        this.hoveredArea = area;\n      }\n\n      if (!area) {\n        if (this.treeWidget.options.onDragMove) {\n          this.treeWidget.options.onDragMove(this.currentItem.node, positionInfo.originalEvent);\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      this.moveItem(positionInfo);\n      this.clear();\n      this.removeHover();\n      this.removeDropHint();\n      this.removeHitAreas();\n      var currentItem = this.currentItem;\n\n      if (this.currentItem) {\n        this.currentItem.$element.removeClass(\"jqtree-moving\");\n        this.currentItem = null;\n      }\n\n      this.isDragging = false;\n      this.positionInfo = null;\n\n      if (!this.hoveredArea && currentItem) {\n        if (this.treeWidget.options.onDragStop) {\n          this.treeWidget.options.onDragStop(currentItem.node, positionInfo.originalEvent);\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.removeHitAreas();\n\n      if (this.currentItem) {\n        this.generateHitAreas();\n        this.currentItem = this.treeWidget._getNodeElementForNode(this.currentItem.node);\n\n        if (this.isDragging) {\n          this.currentItem.$element.addClass(\"jqtree-moving\");\n        }\n      }\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas() {\n      if (!this.currentItem) {\n        this.hitAreas = [];\n      } else {\n        var hitAreasGenerator = new HitAreasGenerator(this.treeWidget.tree, this.currentItem.node, this.getTreeDimensions().bottom);\n        this.hitAreas = hitAreasGenerator.generate();\n      }\n    }\n  }, {\n    key: \"mustCaptureElement\",\n    value: function mustCaptureElement($element) {\n      return !$element.is(\"input,select,textarea\");\n    }\n  }, {\n    key: \"canMoveToArea\",\n    value: function canMoveToArea(area) {\n      if (!this.treeWidget.options.onCanMoveTo) {\n        return true;\n      }\n\n      if (!this.currentItem) {\n        return false;\n      }\n\n      var positionName = (0, _node.getPositionName)(area.position);\n      return this.treeWidget.options.onCanMoveTo(this.currentItem.node, area.node, positionName);\n    }\n  }, {\n    key: \"removeHitAreas\",\n    value: function removeHitAreas() {\n      this.hitAreas = [];\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.dragElement) {\n        this.dragElement.remove();\n        this.dragElement = null;\n      }\n    }\n  }, {\n    key: \"removeDropHint\",\n    value: function removeDropHint() {\n      if (this.previousGhost) {\n        this.previousGhost.remove();\n      }\n    }\n  }, {\n    key: \"removeHover\",\n    value: function removeHover() {\n      this.hoveredArea = null;\n    }\n  }, {\n    key: \"findHoveredArea\",\n    value: function findHoveredArea(x, y) {\n      var dimensions = this.getTreeDimensions();\n\n      if (x < dimensions.left || y < dimensions.top || x > dimensions.right || y > dimensions.bottom) {\n        return null;\n      }\n\n      var low = 0;\n      var high = this.hitAreas.length;\n\n      while (low < high) {\n        var mid = low + high >> 1;\n        var area = this.hitAreas[mid];\n\n        if (y < area.top) {\n          high = mid;\n        } else if (y > area.bottom) {\n          low = mid + 1;\n        } else {\n          return area;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"mustOpenFolderTimer\",\n    value: function mustOpenFolderTimer(area) {\n      var node = area.node;\n      return node.isFolder() && !node.is_open && area.position === _node.Position.Inside;\n    }\n  }, {\n    key: \"updateDropHint\",\n    value: function updateDropHint() {\n      if (!this.hoveredArea) {\n        return;\n      } // remove previous drop hint\n\n\n      this.removeDropHint(); // add new drop hint\n\n      var nodeElement = this.treeWidget._getNodeElementForNode(this.hoveredArea.node);\n\n      this.previousGhost = nodeElement.addDropHint(this.hoveredArea.position);\n    }\n  }, {\n    key: \"startOpenFolderTimer\",\n    value: function startOpenFolderTimer(folder) {\n      var _this = this;\n\n      var openFolder = function openFolder() {\n        _this.treeWidget._openNode(folder, _this.treeWidget.options.slide, function () {\n          _this.refresh();\n\n          _this.updateDropHint();\n        });\n      };\n\n      this.stopOpenFolderTimer();\n      this.openFolderTimer = window.setTimeout(openFolder, this.treeWidget.options.openFolderDelay);\n    }\n  }, {\n    key: \"stopOpenFolderTimer\",\n    value: function stopOpenFolderTimer() {\n      if (this.openFolderTimer) {\n        clearTimeout(this.openFolderTimer);\n        this.openFolderTimer = null;\n      }\n    }\n  }, {\n    key: \"moveItem\",\n    value: function moveItem(positionInfo) {\n      var _this2 = this;\n\n      if (this.currentItem && this.hoveredArea && this.hoveredArea.position !== _node.Position.None && this.canMoveToArea(this.hoveredArea)) {\n        var movedNode = this.currentItem.node;\n        var targetNode = this.hoveredArea.node;\n        var position = this.hoveredArea.position;\n        var previousParent = movedNode.parent;\n\n        if (position === _node.Position.Inside) {\n          this.hoveredArea.node.is_open = true;\n        }\n\n        var doMove = function doMove() {\n          _this2.treeWidget.tree.moveNode(movedNode, targetNode, position);\n\n          _this2.treeWidget.element.empty();\n\n          _this2.treeWidget._refreshElements(null);\n        };\n\n        var event = this.treeWidget._triggerEvent(\"tree.move\", {\n          move_info: {\n            moved_node: movedNode,\n            target_node: targetNode,\n            position: (0, _node.getPositionName)(position),\n            previous_parent: previousParent,\n            do_move: doMove,\n            original_event: positionInfo.originalEvent\n          }\n        });\n\n        if (!event.isDefaultPrevented()) {\n          doMove();\n        }\n      }\n    }\n  }, {\n    key: \"getTreeDimensions\",\n    value: function getTreeDimensions() {\n      // Return the dimensions of the tree. Add a margin to the bottom to allow\n      // to drag-and-drop after the last element.\n      var offset = this.treeWidget.element.offset();\n\n      if (!offset) {\n        return {\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        };\n      } else {\n        var el = this.treeWidget.element;\n        var width = el.width() || 0;\n        var height = el.height() || 0;\n\n        var left = offset.left + this.treeWidget._getScrollLeft();\n\n        return {\n          left: left,\n          top: offset.top,\n          right: left + width,\n          bottom: offset.top + height + 16\n        };\n      }\n    }\n  }]);\n\n  return DragAndDropHandler;\n}();\n\nexports.DragAndDropHandler = DragAndDropHandler;\n\nvar VisibleNodeIterator = /*#__PURE__*/function () {\n  function VisibleNodeIterator(tree) {\n    _classCallCheck(this, VisibleNodeIterator);\n\n    _defineProperty(this, \"tree\", void 0);\n\n    this.tree = tree;\n  }\n\n  _createClass(VisibleNodeIterator, [{\n    key: \"iterate\",\n    value: function iterate() {\n      var _this3 = this;\n\n      var isFirstNode = true;\n\n      var _iterateNode = function _iterateNode(node, nextNode) {\n        var mustIterateInside = (node.is_open || !node.element) && node.hasChildren();\n        var $element = null;\n\n        if (node.element) {\n          $element = jQuery(node.element);\n\n          if (!$element.is(\":visible\")) {\n            return;\n          }\n\n          if (isFirstNode) {\n            _this3.handleFirstNode(node);\n\n            isFirstNode = false;\n          }\n\n          if (!node.hasChildren()) {\n            _this3.handleNode(node, nextNode, $element);\n          } else if (node.is_open) {\n            if (!_this3.handleOpenFolder(node, $element)) {\n              mustIterateInside = false;\n            }\n          } else {\n            _this3.handleClosedFolder(node, nextNode, $element);\n          }\n        }\n\n        if (mustIterateInside) {\n          var childrenLength = node.children.length;\n          node.children.forEach(function (_, i) {\n            if (i === childrenLength - 1) {\n              _iterateNode(node.children[i], null);\n            } else {\n              _iterateNode(node.children[i], node.children[i + 1]);\n            }\n          });\n\n          if (node.is_open && $element) {\n            _this3.handleAfterOpenFolder(node, nextNode);\n          }\n        }\n      };\n\n      _iterateNode(this.tree, null);\n    }\n  }]);\n\n  return VisibleNodeIterator;\n}();\n\nvar HitAreasGenerator = /*#__PURE__*/function (_VisibleNodeIterator) {\n  _inherits(HitAreasGenerator, _VisibleNodeIterator);\n\n  var _super = _createSuper(HitAreasGenerator);\n\n  function HitAreasGenerator(tree, currentNode, treeBottom) {\n    var _this4;\n\n    _classCallCheck(this, HitAreasGenerator);\n\n    _this4 = _super.call(this, tree);\n\n    _defineProperty(_assertThisInitialized(_this4), \"currentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"treeBottom\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"positions\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"lastTop\", void 0);\n\n    _this4.currentNode = currentNode;\n    _this4.treeBottom = treeBottom;\n    return _this4;\n  }\n\n  _createClass(HitAreasGenerator, [{\n    key: \"generate\",\n    value: function generate() {\n      this.positions = [];\n      this.lastTop = 0;\n      this.iterate();\n      return this.generateHitAreas(this.positions);\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas(positions) {\n      var previousTop = -1;\n      var group = [];\n      var hitAreas = [];\n\n      var _iterator = _createForOfIteratorHelper(positions),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var position = _step.value;\n\n          if (position.top !== previousTop && group.length) {\n            if (group.length) {\n              this.generateHitAreasForGroup(hitAreas, group, previousTop, position.top);\n            }\n\n            previousTop = position.top;\n            group = [];\n          }\n\n          group.push(position);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.generateHitAreasForGroup(hitAreas, group, previousTop, this.treeBottom);\n      return hitAreas;\n    }\n  }, {\n    key: \"handleOpenFolder\",\n    value: function handleOpenFolder(node, $element) {\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        // Stop iterating\n        return false;\n      } // Cannot move before current item\n\n\n      if (node.children[0] !== this.currentNode) {\n        this.addPosition(node, _node.Position.Inside, this.getTop($element));\n      } // Continue iterating\n\n\n      return true;\n    }\n  }, {\n    key: \"handleClosedFolder\",\n    value: function handleClosedFolder(node, nextNode, $element) {\n      var top = this.getTop($element);\n\n      if (node === this.currentNode) {\n        // Cannot move after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top); // Cannot move before current item\n\n        if (nextNode !== this.currentNode) {\n          this.addPosition(node, _node.Position.After, top);\n        }\n      }\n    }\n  }, {\n    key: \"handleFirstNode\",\n    value: function handleFirstNode(node) {\n      if (node !== this.currentNode) {\n        this.addPosition(node, _node.Position.Before, this.getTop(jQuery(node.element)));\n      }\n    }\n  }, {\n    key: \"handleAfterOpenFolder\",\n    value: function handleAfterOpenFolder(node, nextNode) {\n      if (node === this.currentNode || nextNode === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, this.lastTop);\n      } else {\n        this.addPosition(node, _node.Position.After, this.lastTop);\n      }\n    }\n  }, {\n    key: \"handleNode\",\n    value: function handleNode(node, nextNode, $element) {\n      var top = this.getTop($element);\n\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top);\n      }\n\n      if (nextNode === this.currentNode || node === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.After, top);\n      }\n    }\n  }, {\n    key: \"getTop\",\n    value: function getTop($element) {\n      var offset = $element.offset();\n      return offset ? offset.top : 0;\n    }\n  }, {\n    key: \"addPosition\",\n    value: function addPosition(node, position, top) {\n      var area = {\n        top: top,\n        bottom: 0,\n        node: node,\n        position: position\n      };\n      this.positions.push(area);\n      this.lastTop = top;\n    }\n  }, {\n    key: \"generateHitAreasForGroup\",\n    value: function generateHitAreasForGroup(hitAreas, positionsInGroup, top, bottom) {\n      // limit positions in group\n      var positionCount = Math.min(positionsInGroup.length, 4);\n      var areaHeight = Math.round((bottom - top) / positionCount);\n      var areaTop = top;\n      var i = 0;\n\n      while (i < positionCount) {\n        var position = positionsInGroup[i];\n        hitAreas.push({\n          top: areaTop,\n          bottom: areaTop + areaHeight,\n          node: position.node,\n          position: position.position\n        });\n        areaTop += areaHeight;\n        i += 1;\n      }\n    }\n  }]);\n\n  return HitAreasGenerator;\n}(VisibleNodeIterator);\n\nexports.HitAreasGenerator = HitAreasGenerator;\n\nvar DragElement = /*#__PURE__*/function () {\n  function DragElement(nodeName, offsetX, offsetY, $tree, autoEscape) {\n    _classCallCheck(this, DragElement);\n\n    _defineProperty(this, \"offsetX\", void 0);\n\n    _defineProperty(this, \"offsetY\", void 0);\n\n    _defineProperty(this, \"$element\", void 0);\n\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.$element = jQuery(\"<span>\").addClass(\"jqtree-title jqtree-dragging\");\n\n    if (autoEscape) {\n      this.$element.text(nodeName);\n    } else {\n      this.$element.html(nodeName);\n    }\n\n    this.$element.css(\"position\", \"absolute\");\n    $tree.append(this.$element);\n  }\n\n  _createClass(DragElement, [{\n    key: \"move\",\n    value: function move(pageX, pageY) {\n      this.$element.offset({\n        left: pageX - this.offsetX,\n        top: pageY - this.offsetY\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      this.$element.remove();\n    }\n  }]);\n\n  return DragElement;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _util = require(\"./util\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ElementsRenderer = /*#__PURE__*/function () {\n  function ElementsRenderer(treeWidget) {\n    _classCallCheck(this, ElementsRenderer);\n\n    _defineProperty(this, \"openedIconElement\", void 0);\n\n    _defineProperty(this, \"closedIconElement\", void 0);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.openedIconElement = this.createButtonElement(treeWidget.options.openedIcon || \"+\");\n    this.closedIconElement = this.createButtonElement(treeWidget.options.closedIcon || \"-\");\n  }\n\n  _createClass(ElementsRenderer, [{\n    key: \"render\",\n    value: function render(fromNode) {\n      if (fromNode && fromNode.parent) {\n        this.renderFromNode(fromNode);\n      } else {\n        this.renderFromRoot();\n      }\n    }\n  }, {\n    key: \"renderFromRoot\",\n    value: function renderFromRoot() {\n      var $element = this.treeWidget.element;\n      $element.empty();\n      this.createDomElements($element[0], this.treeWidget.tree.children, true, 1);\n    }\n  }, {\n    key: \"renderFromNode\",\n    value: function renderFromNode(node) {\n      // remember current li\n      var $previousLi = jQuery(node.element); // create element\n\n      var li = this.createLi(node, node.getLevel());\n      this.attachNodeData(node, li); // add element to dom\n\n      $previousLi.after(li); // remove previous li\n\n      $previousLi.remove(); // create children\n\n      if (node.children) {\n        this.createDomElements(li, node.children, false, node.getLevel() + 1);\n      }\n    }\n  }, {\n    key: \"createDomElements\",\n    value: function createDomElements(element, children, isRootNode, level) {\n      var ul = this.createUl(isRootNode);\n      element.appendChild(ul);\n\n      var _iterator = _createForOfIteratorHelper(children),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          var li = this.createLi(child, level);\n          ul.appendChild(li);\n          this.attachNodeData(child, li);\n\n          if (child.hasChildren()) {\n            this.createDomElements(li, child.children, false, level + 1);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"attachNodeData\",\n    value: function attachNodeData(node, li) {\n      node.element = li;\n      jQuery(li).data(\"node\", node);\n    }\n  }, {\n    key: \"createUl\",\n    value: function createUl(isRootNode) {\n      var classString;\n      var role;\n\n      if (!isRootNode) {\n        classString = \"\";\n        role = \"group\";\n      } else {\n        classString = \"jqtree-tree\";\n        role = \"tree\";\n\n        if (this.treeWidget.options.rtl) {\n          classString += \" jqtree-rtl\";\n        }\n      }\n\n      if (this.treeWidget.options.dragAndDrop) {\n        classString += \" jqtree-dnd\";\n      }\n\n      var ul = document.createElement(\"ul\");\n      ul.className = \"jqtree_common \".concat(classString);\n      ul.setAttribute(\"role\", role);\n      return ul;\n    }\n  }, {\n    key: \"createLi\",\n    value: function createLi(node, level) {\n      var isSelected = Boolean(this.treeWidget.selectNodeHandler.isNodeSelected(node));\n      var mustShowFolder = node.isFolder() || node.isEmptyFolder && this.treeWidget.options.showEmptyFolder;\n      var li = mustShowFolder ? this.createFolderLi(node, level, isSelected) : this.createNodeLi(node, level, isSelected);\n\n      if (this.treeWidget.options.onCreateLi) {\n        this.treeWidget.options.onCreateLi(node, jQuery(li), isSelected);\n      }\n\n      return li;\n    }\n  }, {\n    key: \"createFolderLi\",\n    value: function createFolderLi(node, level, isSelected) {\n      var buttonClasses = this.getButtonClasses(node);\n      var folderClasses = this.getFolderClasses(node, isSelected);\n      var iconElement = node.is_open ? this.openedIconElement : this.closedIconElement; // li\n\n      var li = document.createElement(\"li\");\n      li.className = \"jqtree_common \".concat(folderClasses);\n      li.setAttribute(\"role\", \"presentation\"); // div\n\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"presentation\");\n      li.appendChild(div); // button link\n\n      var buttonLink = document.createElement(\"a\");\n      buttonLink.className = buttonClasses;\n      buttonLink.appendChild(iconElement.cloneNode(true));\n      buttonLink.setAttribute(\"role\", \"presentation\");\n      buttonLink.setAttribute(\"aria-hidden\", \"true\");\n\n      if (this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      } // title span\n\n\n      div.appendChild(this.createTitleSpan(node.name, level, isSelected, node.is_open, true));\n\n      if (!this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      }\n\n      return li;\n    }\n  }, {\n    key: \"createNodeLi\",\n    value: function createNodeLi(node, level, isSelected) {\n      var liClasses = [\"jqtree_common\"];\n\n      if (isSelected) {\n        liClasses.push(\"jqtree-selected\");\n      }\n\n      var classString = liClasses.join(\" \"); // li\n\n      var li = document.createElement(\"li\");\n      li.className = classString;\n      li.setAttribute(\"role\", \"presentation\"); // div\n\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"presentation\");\n      li.appendChild(div); // title span\n\n      div.appendChild(this.createTitleSpan(node.name, level, isSelected, node.is_open, false));\n      return li;\n    }\n  }, {\n    key: \"createTitleSpan\",\n    value: function createTitleSpan(nodeName, level, isSelected, isOpen, isFolder) {\n      var titleSpan = document.createElement(\"span\");\n      var classes = \"jqtree-title jqtree_common\";\n\n      if (isFolder) {\n        classes += \" jqtree-title-folder\";\n      }\n\n      classes += \" jqtree-title-button-\".concat(this.treeWidget.options.buttonLeft ? \"left\" : \"right\");\n      titleSpan.className = classes;\n      titleSpan.setAttribute(\"role\", \"treeitem\");\n      titleSpan.setAttribute(\"aria-level\", \"\".concat(level));\n      titleSpan.setAttribute(\"aria-selected\", (0, _util.getBoolString)(isSelected));\n      titleSpan.setAttribute(\"aria-expanded\", (0, _util.getBoolString)(isOpen));\n\n      if (isSelected) {\n        var tabIndex = this.treeWidget.options.tabIndex;\n\n        if (tabIndex !== undefined) {\n          titleSpan.setAttribute(\"tabindex\", \"\".concat(tabIndex));\n        }\n      }\n\n      if (this.treeWidget.options.autoEscape) {\n        titleSpan.textContent = nodeName;\n      } else {\n        titleSpan.innerHTML = nodeName;\n      }\n\n      return titleSpan;\n    }\n  }, {\n    key: \"getButtonClasses\",\n    value: function getButtonClasses(node) {\n      var classes = [\"jqtree-toggler\", \"jqtree_common\"];\n\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n\n      if (this.treeWidget.options.buttonLeft) {\n        classes.push(\"jqtree-toggler-left\");\n      } else {\n        classes.push(\"jqtree-toggler-right\");\n      }\n\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"getFolderClasses\",\n    value: function getFolderClasses(node, isSelected) {\n      var classes = [\"jqtree-folder\"];\n\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n\n      if (isSelected) {\n        classes.push(\"jqtree-selected\");\n      }\n\n      if (node.is_loading) {\n        classes.push(\"jqtree-loading\");\n      }\n\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"createButtonElement\",\n    value: function createButtonElement(value) {\n      if (typeof value === \"string\") {\n        // convert value to html\n        var div = document.createElement(\"div\");\n        div.innerHTML = value;\n        return document.createTextNode(div.innerHTML);\n      } else {\n        return jQuery(value)[0];\n      }\n    }\n  }]);\n\n  return ElementsRenderer;\n}();\n\nexports[\"default\"] = ElementsRenderer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar KeyHandler = /*#__PURE__*/function () {\n  function KeyHandler(treeWidget) {\n    var _this = this;\n\n    _classCallCheck(this, KeyHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"handleKeyDown\", function (e) {\n      if (!_this.canHandleKeyboard()) {\n        return true;\n      }\n\n      var selectedNode = _this.treeWidget.getSelectedNode();\n\n      if (!selectedNode) {\n        return true;\n      }\n\n      var key = e.which;\n\n      switch (key) {\n        case KeyHandler.DOWN:\n          return _this.moveDown(selectedNode);\n\n        case KeyHandler.UP:\n          return _this.moveUp(selectedNode);\n\n        case KeyHandler.RIGHT:\n          return _this.moveRight(selectedNode);\n\n        case KeyHandler.LEFT:\n          return _this.moveLeft(selectedNode);\n\n        default:\n          return true;\n      }\n    });\n\n    this.treeWidget = treeWidget;\n\n    if (treeWidget.options.keyboardSupport) {\n      jQuery(document).on(\"keydown.jqtree\", this.handleKeyDown);\n    }\n  }\n\n  _createClass(KeyHandler, [{\n    key: \"deinit\",\n    value: function deinit() {\n      jQuery(document).off(\"keydown.jqtree\");\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown(selectedNode) {\n      return this.selectNode(selectedNode.getNextNode());\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp(selectedNode) {\n      return this.selectNode(selectedNode.getPreviousNode());\n    }\n  }, {\n    key: \"moveRight\",\n    value: function moveRight(selectedNode) {\n      if (!selectedNode.isFolder()) {\n        return true;\n      } else {\n        // folder node\n        if (selectedNode.is_open) {\n          // Right moves to the first child of an open node\n          return this.selectNode(selectedNode.getNextNode());\n        } else {\n          // Right expands a closed node\n          this.treeWidget.openNode(selectedNode);\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft(selectedNode) {\n      if (selectedNode.isFolder() && selectedNode.is_open) {\n        // Left on an open node closes the node\n        this.treeWidget.closeNode(selectedNode);\n        return false;\n      } else {\n        // Left on a closed or end node moves focus to the node's parent\n        return this.selectNode(selectedNode.getParent());\n      }\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node) {\n      if (!node) {\n        return true;\n      } else {\n        this.treeWidget.selectNode(node);\n\n        if (!this.treeWidget.scrollHandler.isScrolledIntoView(jQuery(node.element).find(\".jqtree-element\"))) {\n          this.treeWidget.scrollToNode(node);\n        }\n\n        return false;\n      }\n    }\n  }, {\n    key: \"canHandleKeyboard\",\n    value: function canHandleKeyboard() {\n      return (this.treeWidget.options.keyboardSupport || false) && this.treeWidget.selectNodeHandler.isFocusOnTree();\n    }\n  }]);\n\n  return KeyHandler;\n}();\n\nexports[\"default\"] = KeyHandler;\n\n_defineProperty(KeyHandler, \"LEFT\", 37);\n\n_defineProperty(KeyHandler, \"UP\", 38);\n\n_defineProperty(KeyHandler, \"RIGHT\", 39);\n\n_defineProperty(KeyHandler, \"DOWN\", 40);","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar getPositionInfoFromMouseEvent = function getPositionInfoFromMouseEvent(e) {\n  return {\n    pageX: e.pageX,\n    pageY: e.pageY,\n    target: e.target,\n    originalEvent: e\n  };\n};\n\nvar getPositionInfoFromTouch = function getPositionInfoFromTouch(touch, e) {\n  return {\n    pageX: touch.pageX,\n    pageY: touch.pageY,\n    target: touch.target,\n    originalEvent: e\n  };\n};\n\nvar MouseWidget = /*#__PURE__*/function (_SimpleWidget) {\n  _inherits(MouseWidget, _SimpleWidget);\n\n  var _super = _createSuper(MouseWidget);\n\n  function MouseWidget() {\n    var _this;\n\n    _classCallCheck(this, MouseWidget);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"isMouseStarted\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseDownInfo\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseDelayTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"isMouseDelayMet\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseDown\", function (e) {\n      // Left mouse button?\n      if (e.button !== 0) {\n        return;\n      }\n\n      var result = _this.handleMouseDown(getPositionInfoFromMouseEvent(e));\n\n      if (result && e.cancelable) {\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseMove\", function (e) {\n      _this.handleMouseMove(e, getPositionInfoFromMouseEvent(e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseUp\", function (e) {\n      _this.handleMouseUp(getPositionInfoFromMouseEvent(e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"touchStart\", function (e) {\n      if (!e) {\n        return;\n      }\n\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      var touch = e.changedTouches[0];\n\n      _this.handleMouseDown(getPositionInfoFromTouch(touch, e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"touchMove\", function (e) {\n      if (!e) {\n        return;\n      }\n\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      var touch = e.changedTouches[0];\n\n      _this.handleMouseMove(e, getPositionInfoFromTouch(touch, e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"touchEnd\", function (e) {\n      if (!e) {\n        return;\n      }\n\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      var touch = e.changedTouches[0];\n\n      _this.handleMouseUp(getPositionInfoFromTouch(touch, e));\n    });\n\n    return _this;\n  }\n\n  _createClass(MouseWidget, [{\n    key: \"init\",\n    value: function init() {\n      var element = this.$el.get(0);\n\n      if (element) {\n        element.addEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        });\n        element.addEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n\n      this.isMouseStarted = false;\n      this.mouseDelayTimer = null;\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      var el = this.$el.get(0);\n\n      if (el) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n        el.removeEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n        el.removeEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n\n      this.removeMouseMoveEventListeners();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(positionInfo) {\n      // We may have missed mouseup (out of window)\n      if (this.isMouseStarted) {\n        this.handleMouseUp(positionInfo);\n      }\n\n      this.mouseDownInfo = positionInfo;\n\n      if (!this.mouseCapture(positionInfo)) {\n        return false;\n      }\n\n      this.handleStartMouse();\n      return true;\n    }\n  }, {\n    key: \"handleStartMouse\",\n    value: function handleStartMouse() {\n      document.addEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      });\n      document.addEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      });\n      document.addEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      });\n      document.addEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n      var mouseDelay = this.getMouseDelay();\n\n      if (mouseDelay) {\n        this.startMouseDelayTimer(mouseDelay);\n      } else {\n        this.isMouseDelayMet = true;\n      }\n    }\n  }, {\n    key: \"startMouseDelayTimer\",\n    value: function startMouseDelayTimer(mouseDelay) {\n      var _this2 = this;\n\n      if (this.mouseDelayTimer) {\n        clearTimeout(this.mouseDelayTimer);\n      }\n\n      this.mouseDelayTimer = window.setTimeout(function () {\n        if (_this2.mouseDownInfo) {\n          _this2.isMouseDelayMet = true;\n        }\n      }, mouseDelay);\n      this.isMouseDelayMet = false;\n    }\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(e, positionInfo) {\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n\n        return;\n      }\n\n      if (!this.isMouseDelayMet) {\n        return;\n      }\n\n      if (this.mouseDownInfo) {\n        this.isMouseStarted = this.mouseStart(this.mouseDownInfo) !== false;\n      }\n\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n      } else {\n        this.handleMouseUp(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp(positionInfo) {\n      this.removeMouseMoveEventListeners();\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n\n      if (this.isMouseStarted) {\n        this.isMouseStarted = false;\n        this.mouseStop(positionInfo);\n      }\n    }\n  }, {\n    key: \"removeMouseMoveEventListeners\",\n    value: function removeMouseMoveEventListeners() {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n      document.removeEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n      document.removeEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n      document.removeEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n    }\n  }]);\n\n  return MouseWidget;\n}(_simple[\"default\"]);\n\nvar _default = MouseWidget;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPositionName = exports.getPosition = exports.Position = exports.Node = void 0;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar Position;\nexports.Position = Position;\n\n(function (Position) {\n  Position[Position[\"Before\"] = 1] = \"Before\";\n  Position[Position[\"After\"] = 2] = \"After\";\n  Position[Position[\"Inside\"] = 3] = \"Inside\";\n  Position[Position[\"None\"] = 4] = \"None\";\n})(Position || (exports.Position = Position = {}));\n\nvar positionNames = {\n  before: Position.Before,\n  after: Position.After,\n  inside: Position.Inside,\n  none: Position.None\n};\n\nvar getPositionName = function getPositionName(position) {\n  for (var name in positionNames) {\n    if (Object.prototype.hasOwnProperty.call(positionNames, name)) {\n      if (positionNames[name] === position) {\n        return name;\n      }\n    }\n  }\n\n  return \"\";\n};\n\nexports.getPositionName = getPositionName;\n\nvar getPosition = function getPosition(name) {\n  return positionNames[name];\n};\n\nexports.getPosition = getPosition;\n\nvar isNodeRecordWithChildren = function isNodeRecordWithChildren(data) {\n  return _typeof(data) === \"object\" && \"children\" in data && data[\"children\"] instanceof Array;\n};\n\nvar Node = /*#__PURE__*/function () {\n  function Node() {\n    var o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var isRoot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var nodeClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Node;\n\n    _classCallCheck(this, Node);\n\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"children\", void 0);\n\n    _defineProperty(this, \"parent\", void 0);\n\n    _defineProperty(this, \"idMapping\", void 0);\n\n    _defineProperty(this, \"tree\", void 0);\n\n    _defineProperty(this, \"nodeClass\", void 0);\n\n    _defineProperty(this, \"load_on_demand\", void 0);\n\n    _defineProperty(this, \"is_open\", void 0);\n\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"is_loading\", void 0);\n\n    _defineProperty(this, \"isEmptyFolder\", void 0);\n\n    this.name = \"\";\n    this.isEmptyFolder = false;\n    this.load_on_demand = false;\n    this.setData(o);\n    this.children = [];\n    this.parent = null;\n\n    if (isRoot) {\n      this.idMapping = new Map();\n      this.tree = this;\n      this.nodeClass = nodeClass;\n    }\n  }\n  /*\n  Set the data of this node.\n   setData(string): set the name of the node\n  setdata(object): set attributes of the node\n   Examples:\n      setdata('node1')\n       setData({ name: 'node1', id: 1});\n       setData({ name: 'node2', id: 2, color: 'green'});\n   * This is an internal function; it is not in the docs\n  * Does not remove existing node values\n  */\n\n\n  _createClass(Node, [{\n    key: \"setData\",\n    value: function setData(o) {\n      if (!o) {\n        return;\n      } else if (typeof o === \"string\") {\n        this.name = o;\n      } else if (_typeof(o) === \"object\") {\n        for (var _key in o) {\n          if (Object.prototype.hasOwnProperty.call(o, _key)) {\n            var value = o[_key];\n\n            if (_key === \"label\" || _key === \"name\") {\n              // You can use the 'label' key instead of 'name'; this is a legacy feature\n              if (typeof value === \"string\") {\n                this.name = value;\n              }\n            } else if (_key !== \"children\" && _key !== \"parent\") {\n              // You can't update the children or the parent using this function\n              this[_key] = value;\n            }\n          }\n        }\n      }\n    }\n    /*\n    Create tree from data.\n     Structure of data is:\n    [\n        {\n            name: 'node1',\n            children: [\n                { name: 'child1' },\n                { name: 'child2' }\n            ]\n        },\n        {\n            name: 'node2'\n        }\n    ]\n    */\n\n  }, {\n    key: \"loadFromData\",\n    value: function loadFromData(data) {\n      this.removeChildren();\n\n      var _iterator = _createForOfIteratorHelper(data),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var o = _step.value;\n\n          var _node = this.createNode(o);\n\n          this.addChild(_node);\n\n          if (isNodeRecordWithChildren(o)) {\n            if (o.children.length === 0) {\n              _node.isEmptyFolder = true;\n            } else {\n              _node.loadFromData(o.children);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return this;\n    }\n    /*\n    Add child.\n     tree.addChild(\n        new Node('child1')\n    );\n    */\n\n  }, {\n    key: \"addChild\",\n    value: function addChild(node) {\n      this.children.push(node);\n      node.setParent(this);\n    }\n    /*\n    Add child at position. Index starts at 0.\n     tree.addChildAtPosition(\n        new Node('abc'),\n        1\n    );\n    */\n\n  }, {\n    key: \"addChildAtPosition\",\n    value: function addChildAtPosition(node, index) {\n      this.children.splice(index, 0, node);\n      node.setParent(this);\n    }\n    /*\n    Remove child. This also removes the children of the node.\n     tree.removeChild(tree.children[0]);\n    */\n\n  }, {\n    key: \"removeChild\",\n    value: function removeChild(node) {\n      // remove children from the index\n      node.removeChildren();\n      this.doRemoveChild(node);\n    }\n    /*\n    Get child index.\n     var index = getChildIndex(node);\n    */\n\n  }, {\n    key: \"getChildIndex\",\n    value: function getChildIndex(node) {\n      return this.children.indexOf(node);\n    }\n    /*\n    Does the tree have children?\n     if (tree.hasChildren()) {\n        //\n    }\n    */\n\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return this.children.length !== 0;\n    }\n  }, {\n    key: \"isFolder\",\n    value: function isFolder() {\n      return this.hasChildren() || this.load_on_demand;\n    }\n    /*\n    Iterate over all the nodes in the tree.\n     Calls callback with (node, level).\n     The callback must return true to continue the iteration on current node.\n     tree.iterate(\n        function(node, level) {\n           console.log(node.name);\n            // stop iteration after level 2\n           return (level <= 2);\n        }\n    );\n     */\n\n  }, {\n    key: \"iterate\",\n    value: function iterate(callback) {\n      var _iterate = function _iterate(node, level) {\n        if (node.children) {\n          var _iterator2 = _createForOfIteratorHelper(node.children),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var child = _step2.value;\n              var result = callback(child, level);\n\n              if (result && child.hasChildren()) {\n                _iterate(child, level + 1);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      };\n\n      _iterate(this, 0);\n    }\n    /*\n    Move node relative to another node.\n     Argument position: Position.BEFORE, Position.AFTER or Position.Inside\n     // move node1 after node2\n    tree.moveNode(node1, node2, Position.AFTER);\n    */\n\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(movedNode, targetNode, position) {\n      if (!movedNode.parent || movedNode.isParentOf(targetNode)) {\n        // - Node is parent of target node\n        // - Or, parent is empty\n        return false;\n      } else {\n        movedNode.parent.doRemoveChild(movedNode);\n\n        switch (position) {\n          case Position.After:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode) + 1);\n                return true;\n              }\n\n              return false;\n            }\n\n          case Position.Before:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode));\n                return true;\n              }\n\n              return false;\n            }\n\n          case Position.Inside:\n            {\n              // move inside as first child\n              targetNode.addChildAtPosition(movedNode, 0);\n              return true;\n            }\n\n          default:\n            return false;\n        }\n      }\n    }\n    /*\n    Get the tree as data.\n    */\n\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var includeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var getDataFromNodes = function getDataFromNodes(nodes) {\n        return nodes.map(function (node) {\n          var tmpNode = {};\n\n          for (var k in node) {\n            if ([\"parent\", \"children\", \"element\", \"idMapping\", \"load_on_demand\", \"nodeClass\", \"tree\", \"isEmptyFolder\"].indexOf(k) === -1 && Object.prototype.hasOwnProperty.call(node, k)) {\n              var v = node[k];\n              tmpNode[k] = v;\n            }\n          }\n\n          if (node.hasChildren()) {\n            tmpNode[\"children\"] = getDataFromNodes(node.children);\n          }\n\n          return tmpNode;\n        });\n      };\n\n      if (includeParent) {\n        return getDataFromNodes([this]);\n      } else {\n        return getDataFromNodes(this.children);\n      }\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.getNodeByCallback(function (node) {\n        return node.name === name;\n      });\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      var node = this.getNodeByCallback(function (n) {\n        return n.name === name;\n      });\n\n      if (!node) {\n        throw \"Node with name \".concat(name, \" not found\");\n      }\n\n      return node;\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      var result = null;\n      this.iterate(function (node) {\n        if (result) {\n          return false;\n        } else if (callback(node)) {\n          result = node;\n          return false;\n        } else {\n          return true;\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"addAfter\",\n    value: function addAfter(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node2 = this.createNode(nodeInfo);\n\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node2, childIndex + 1);\n\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node2.loadFromData(nodeInfo.children);\n        }\n\n        return _node2;\n      }\n    }\n  }, {\n    key: \"addBefore\",\n    value: function addBefore(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node3 = this.createNode(nodeInfo);\n\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node3, childIndex);\n\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node3.loadFromData(nodeInfo.children);\n        }\n\n        return _node3;\n      }\n    }\n  }, {\n    key: \"addParent\",\n    value: function addParent(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var newParent = this.createNode(nodeInfo);\n\n        if (this.tree) {\n          newParent.setParent(this.tree);\n        }\n\n        var originalParent = this.parent;\n\n        var _iterator3 = _createForOfIteratorHelper(originalParent.children),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var child = _step3.value;\n            newParent.addChild(child);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        originalParent.children = [];\n        originalParent.addChild(newParent);\n        return newParent;\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n        this.parent = null;\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChild(node);\n\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n\n      return node;\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChildAtPosition(node, 0);\n\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n\n      return node;\n    }\n  }, {\n    key: \"isParentOf\",\n    value: function isParentOf(node) {\n      var parent = node.parent;\n\n      while (parent) {\n        if (parent === this) {\n          return true;\n        }\n\n        parent = parent.parent;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      var level = 0;\n      var node = this; // eslint-disable-line @typescript-eslint/no-this-alias\n\n      while (node.parent) {\n        level += 1;\n        node = node.parent;\n      }\n\n      return level;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.idMapping.get(nodeId) || null;\n    }\n  }, {\n    key: \"addNodeToIndex\",\n    value: function addNodeToIndex(node) {\n      if (node.id != null) {\n        this.idMapping.set(node.id, node);\n      }\n    }\n  }, {\n    key: \"removeNodeFromIndex\",\n    value: function removeNodeFromIndex(node) {\n      if (node.id != null) {\n        this.idMapping[\"delete\"](node.id);\n      }\n    }\n  }, {\n    key: \"removeChildren\",\n    value: function removeChildren() {\n      var _this = this;\n\n      this.iterate(function (child) {\n        var _this$tree;\n\n        (_this$tree = _this.tree) === null || _this$tree === void 0 ? void 0 : _this$tree.removeNodeFromIndex(child);\n        return true;\n      });\n      this.children = [];\n    }\n  }, {\n    key: \"getPreviousSibling\",\n    value: function getPreviousSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousIndex = this.parent.getChildIndex(this) - 1;\n\n        if (previousIndex >= 0) {\n          return this.parent.children[previousIndex];\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNextSibling\",\n    value: function getNextSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var nextIndex = this.parent.getChildIndex(this) + 1;\n\n        if (nextIndex < this.parent.children.length) {\n          return this.parent.children[nextIndex];\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.filter(function (node) {\n        return node[key] === value;\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(f) {\n      var result = [];\n      this.iterate(function (node) {\n        if (f(node)) {\n          result.push(node);\n        }\n\n        return true;\n      });\n      return result;\n    }\n  }, {\n    key: \"getNextNode\",\n    value: function getNextNode() {\n      var includeChildren = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (includeChildren && this.hasChildren() && this.is_open) {\n        // First child\n        return this.children[0];\n      } else {\n        if (!this.parent) {\n          return null;\n        } else {\n          var nextSibling = this.getNextSibling();\n\n          if (nextSibling) {\n            // Next sibling\n            return nextSibling;\n          } else {\n            // Next node of parent\n            return this.parent.getNextNode(false);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getPreviousNode\",\n    value: function getPreviousNode() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousSibling = this.getPreviousSibling();\n\n        if (previousSibling) {\n          if (!previousSibling.hasChildren() || !previousSibling.is_open) {\n            // Previous sibling\n            return previousSibling;\n          } else {\n            // Last child of previous sibling\n            return previousSibling.getLastChild();\n          }\n        } else {\n          return this.getParent();\n        }\n      }\n    }\n  }, {\n    key: \"getParent\",\n    value: function getParent() {\n      // Return parent except if it is the root node\n      if (!this.parent) {\n        return null;\n      } else if (!this.parent.parent) {\n        // Root node -> null\n        return null;\n      } else {\n        return this.parent;\n      }\n    }\n  }, {\n    key: \"getLastChild\",\n    value: function getLastChild() {\n      if (!this.hasChildren()) {\n        return null;\n      } else {\n        var lastChild = this.children[this.children.length - 1];\n\n        if (!(lastChild.hasChildren() && lastChild.is_open)) {\n          return lastChild;\n        } else {\n          return lastChild.getLastChild();\n        }\n      }\n    } // Init Node from data without making it the root of the tree\n\n  }, {\n    key: \"initFromData\",\n    value: function initFromData(data) {\n      var _this2 = this;\n\n      var addNode = function addNode(nodeData) {\n        _this2.setData(nodeData);\n\n        if (isNodeRecordWithChildren(nodeData) && nodeData.children.length) {\n          addChildren(nodeData.children);\n        }\n      };\n\n      var addChildren = function addChildren(childrenData) {\n        var _iterator4 = _createForOfIteratorHelper(childrenData),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var child = _step4.value;\n\n            var _node4 = _this2.createNode();\n\n            _node4.initFromData(child);\n\n            _this2.addChild(_node4);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      };\n\n      addNode(data);\n    }\n  }, {\n    key: \"setParent\",\n    value: function setParent(parent) {\n      var _this$tree2;\n\n      this.parent = parent;\n      this.tree = parent.tree;\n      (_this$tree2 = this.tree) === null || _this$tree2 === void 0 ? void 0 : _this$tree2.addNodeToIndex(this);\n    }\n  }, {\n    key: \"doRemoveChild\",\n    value: function doRemoveChild(node) {\n      var _this$tree3;\n\n      this.children.splice(this.getChildIndex(node), 1);\n      (_this$tree3 = this.tree) === null || _this$tree3 === void 0 ? void 0 : _this$tree3.removeNodeFromIndex(node);\n    }\n  }, {\n    key: \"getNodeClass\",\n    value: function getNodeClass() {\n      var _this$tree4;\n\n      return this.nodeClass || (this === null || this === void 0 ? void 0 : (_this$tree4 = this.tree) === null || _this$tree4 === void 0 ? void 0 : _this$tree4.nodeClass) || Node;\n    }\n  }, {\n    key: \"createNode\",\n    value: function createNode(nodeData) {\n      var nodeClass = this.getNodeClass();\n      return new nodeClass(nodeData);\n    }\n  }]);\n\n  return Node;\n}();\n\nexports.Node = Node;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeElement = exports.FolderElement = exports.BorderDropHint = void 0;\n\nvar _node = require(\"./node\");\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NodeElement = /*#__PURE__*/function () {\n  function NodeElement(node, treeWidget) {\n    _classCallCheck(this, NodeElement);\n\n    _defineProperty(this, \"node\", void 0);\n\n    _defineProperty(this, \"$element\", void 0);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    this.init(node, treeWidget);\n  }\n\n  _createClass(NodeElement, [{\n    key: \"init\",\n    value: function init(node, treeWidget) {\n      this.node = node;\n      this.treeWidget = treeWidget;\n\n      if (!node.element) {\n        var element = this.treeWidget.element.get(0);\n\n        if (element) {\n          node.element = element;\n        }\n      }\n\n      if (node.element) {\n        this.$element = jQuery(node.element);\n      }\n    }\n  }, {\n    key: \"addDropHint\",\n    value: function addDropHint(position) {\n      if (this.mustShowBorderDropHint(position)) {\n        return new BorderDropHint(this.$element, this.treeWidget._getScrollLeft());\n      } else {\n        return new GhostDropHint(this.node, this.$element, position);\n      }\n    }\n  }, {\n    key: \"select\",\n    value: function select(mustSetFocus) {\n      var _this$treeWidget$opti;\n\n      var $li = this.getLi();\n      $li.addClass(\"jqtree-selected\");\n      $li.attr(\"aria-selected\", \"true\");\n      var $span = this.getSpan();\n      $span.attr(\"tabindex\", (_this$treeWidget$opti = this.treeWidget.options.tabIndex) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : null);\n\n      if (mustSetFocus) {\n        $span.trigger(\"focus\");\n      }\n    }\n  }, {\n    key: \"deselect\",\n    value: function deselect() {\n      var $li = this.getLi();\n      $li.removeClass(\"jqtree-selected\");\n      $li.attr(\"aria-selected\", \"false\");\n      var $span = this.getSpan();\n      $span.removeAttr(\"tabindex\");\n      $span.blur();\n    }\n  }, {\n    key: \"getUl\",\n    value: function getUl() {\n      return this.$element.children(\"ul:first\");\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan() {\n      return this.$element.children(\".jqtree-element\").find(\"span.jqtree-title\");\n    }\n  }, {\n    key: \"getLi\",\n    value: function getLi() {\n      return this.$element;\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return position === _node.Position.Inside;\n    }\n  }]);\n\n  return NodeElement;\n}();\n\nexports.NodeElement = NodeElement;\n\nvar FolderElement = /*#__PURE__*/function (_NodeElement) {\n  _inherits(FolderElement, _NodeElement);\n\n  var _super = _createSuper(FolderElement);\n\n  function FolderElement() {\n    _classCallCheck(this, FolderElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FolderElement, [{\n    key: \"open\",\n    value: function open(onFinished) {\n      var _this = this;\n\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var animationSpeed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"fast\";\n\n      if (this.node.is_open) {\n        return;\n      }\n\n      this.node.is_open = true;\n      var $button = this.getButton();\n      $button.removeClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n\n      if (buttonEl) {\n        var icon = this.treeWidget.renderer.openedIconElement.cloneNode(true);\n        buttonEl.appendChild(icon);\n      }\n\n      var doOpen = function doOpen() {\n        var $li = _this.getLi();\n\n        $li.removeClass(\"jqtree-closed\");\n\n        var $span = _this.getSpan();\n\n        $span.attr(\"aria-expanded\", \"true\");\n\n        if (onFinished) {\n          onFinished(_this.node);\n        }\n\n        _this.treeWidget._triggerEvent(\"tree.open\", {\n          node: _this.node\n        });\n      };\n\n      if (slide) {\n        this.getUl().slideDown(animationSpeed, doOpen);\n      } else {\n        this.getUl().show();\n        doOpen();\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this2 = this;\n\n      var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var animationSpeed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"fast\";\n\n      if (!this.node.is_open) {\n        return;\n      }\n\n      this.node.is_open = false;\n      var $button = this.getButton();\n      $button.addClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n\n      if (buttonEl) {\n        var icon = this.treeWidget.renderer.closedIconElement.cloneNode(true);\n        buttonEl.appendChild(icon);\n      }\n\n      var doClose = function doClose() {\n        var $li = _this2.getLi();\n\n        $li.addClass(\"jqtree-closed\");\n\n        var $span = _this2.getSpan();\n\n        $span.attr(\"aria-expanded\", \"false\");\n\n        _this2.treeWidget._triggerEvent(\"tree.close\", {\n          node: _this2.node\n        });\n      };\n\n      if (slide) {\n        this.getUl().slideUp(animationSpeed, doClose);\n      } else {\n        this.getUl().hide();\n        doClose();\n      }\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return !this.node.is_open && position === _node.Position.Inside;\n    }\n  }, {\n    key: \"getButton\",\n    value: function getButton() {\n      return this.$element.children(\".jqtree-element\").find(\"a.jqtree-toggler\");\n    }\n  }]);\n\n  return FolderElement;\n}(NodeElement);\n\nexports.FolderElement = FolderElement;\n\nvar BorderDropHint = /*#__PURE__*/function () {\n  function BorderDropHint($element, scrollLeft) {\n    _classCallCheck(this, BorderDropHint);\n\n    _defineProperty(this, \"$hint\", void 0);\n\n    var $div = $element.children(\".jqtree-element\");\n    var elWidth = $element.width() || 0;\n    var width = Math.max(elWidth + scrollLeft - 4, 0);\n    var elHeight = $div.outerHeight() || 0;\n    var height = Math.max(elHeight - 4, 0);\n    this.$hint = jQuery('<span class=\"jqtree-border\"></span>');\n    $div.append(this.$hint);\n    this.$hint.css({\n      width: width,\n      height: height\n    });\n  }\n\n  _createClass(BorderDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$hint.remove();\n    }\n  }]);\n\n  return BorderDropHint;\n}();\n\nexports.BorderDropHint = BorderDropHint;\n\nvar GhostDropHint = /*#__PURE__*/function () {\n  function GhostDropHint(node, $element, position) {\n    _classCallCheck(this, GhostDropHint);\n\n    _defineProperty(this, \"$element\", void 0);\n\n    _defineProperty(this, \"node\", void 0);\n\n    _defineProperty(this, \"$ghost\", void 0);\n\n    this.$element = $element;\n    this.node = node;\n    this.$ghost = jQuery(\"<li class=\\\"jqtree_common jqtree-ghost\\\"><span class=\\\"jqtree_common jqtree-circle\\\"></span>\\n            <span class=\\\"jqtree_common jqtree-line\\\"></span></li>\");\n\n    if (position === _node.Position.After) {\n      this.moveAfter();\n    } else if (position === _node.Position.Before) {\n      this.moveBefore();\n    } else if (position === _node.Position.Inside) {\n      if (node.isFolder() && node.is_open) {\n        this.moveInsideOpenFolder();\n      } else {\n        this.moveInside();\n      }\n    }\n  }\n\n  _createClass(GhostDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$ghost.remove();\n    }\n  }, {\n    key: \"moveAfter\",\n    value: function moveAfter() {\n      this.$element.after(this.$ghost);\n    }\n  }, {\n    key: \"moveBefore\",\n    value: function moveBefore() {\n      this.$element.before(this.$ghost);\n    }\n  }, {\n    key: \"moveInsideOpenFolder\",\n    value: function moveInsideOpenFolder() {\n      var childElement = this.node.children[0].element;\n\n      if (childElement) {\n        jQuery(childElement).before(this.$ghost);\n      }\n    }\n  }, {\n    key: \"moveInside\",\n    value: function moveInside() {\n      this.$element.after(this.$ghost);\n      this.$ghost.addClass(\"jqtree-inside\");\n    }\n  }]);\n\n  return GhostDropHint;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _util = require(\"./util\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SaveStateHandler = /*#__PURE__*/function () {\n  function SaveStateHandler(treeWidget) {\n    _classCallCheck(this, SaveStateHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"_supportsLocalStorage\", void 0);\n\n    this.treeWidget = treeWidget;\n  }\n\n  _createClass(SaveStateHandler, [{\n    key: \"saveState\",\n    value: function saveState() {\n      var state = JSON.stringify(this.getState());\n\n      if (this.treeWidget.options.onSetStateFromStorage) {\n        this.treeWidget.options.onSetStateFromStorage(state);\n      } else if (this.supportsLocalStorage()) {\n        localStorage.setItem(this.getKeyName(), state);\n      }\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      var jsonData = this.loadFromStorage();\n\n      if (jsonData) {\n        return this.parseState(jsonData);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      var _this = this;\n\n      var getOpenNodeIds = function getOpenNodeIds() {\n        var openNodes = [];\n\n        _this.treeWidget.tree.iterate(function (node) {\n          if (node.is_open && node.id && node.hasChildren()) {\n            openNodes.push(node.id);\n          }\n\n          return true;\n        });\n\n        return openNodes;\n      };\n\n      var getSelectedNodeIds = function getSelectedNodeIds() {\n        var selectedNodeIds = [];\n\n        _this.treeWidget.getSelectedNodes().forEach(function (node) {\n          if (node.id != null) {\n            selectedNodeIds.push(node.id);\n          }\n        });\n\n        return selectedNodeIds;\n      };\n\n      return {\n        open_nodes: getOpenNodeIds(),\n        selected_node: getSelectedNodeIds()\n      };\n    }\n    /*\n    Set initial state\n    Don't handle nodes that are loaded on demand\n     result: must load on demand\n    */\n\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState(state) {\n      if (!state) {\n        return false;\n      } else {\n        var mustLoadOnDemand = false;\n\n        if (state.open_nodes) {\n          mustLoadOnDemand = this.openInitialNodes(state.open_nodes);\n        }\n\n        if (state.selected_node) {\n          this.resetSelection();\n          this.selectInitialNodes(state.selected_node);\n        }\n\n        return mustLoadOnDemand;\n      }\n    }\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(state, cbFinished) {\n      if (state) {\n        this.doSetInitialStateOnDemand(state.open_nodes, state.selected_node, cbFinished);\n      } else {\n        cbFinished();\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      var state = this.getStateFromStorage();\n\n      if (state && state.selected_node) {\n        return state.selected_node[0];\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"parseState\",\n    value: function parseState(jsonData) {\n      var state = JSON.parse(jsonData); // Check if selected_node is an int (instead of an array)\n\n      if (state && state.selected_node && (0, _util.isInt)(state.selected_node)) {\n        // Convert to array\n        state.selected_node = [state.selected_node];\n      }\n\n      return state;\n    }\n  }, {\n    key: \"loadFromStorage\",\n    value: function loadFromStorage() {\n      if (this.treeWidget.options.onGetStateFromStorage) {\n        return this.treeWidget.options.onGetStateFromStorage();\n      } else if (this.supportsLocalStorage()) {\n        return localStorage.getItem(this.getKeyName());\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"openInitialNodes\",\n    value: function openInitialNodes(nodeIds) {\n      var mustLoadOnDemand = false;\n\n      var _iterator = _createForOfIteratorHelper(nodeIds),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var nodeId = _step.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n\n          if (node) {\n            if (!node.load_on_demand) {\n              node.is_open = true;\n            } else {\n              mustLoadOnDemand = true;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return mustLoadOnDemand;\n    }\n  }, {\n    key: \"selectInitialNodes\",\n    value: function selectInitialNodes(nodeIds) {\n      var selectCount = 0;\n\n      var _iterator2 = _createForOfIteratorHelper(nodeIds),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var nodeId = _step2.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n\n          if (node) {\n            selectCount += 1;\n            this.treeWidget.selectNodeHandler.addToSelection(node);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return selectCount !== 0;\n    }\n  }, {\n    key: \"resetSelection\",\n    value: function resetSelection() {\n      var selectNodeHandler = this.treeWidget.selectNodeHandler;\n      var selectedNodes = selectNodeHandler.getSelectedNodes();\n      selectedNodes.forEach(function (node) {\n        selectNodeHandler.removeFromSelection(node);\n      });\n    }\n  }, {\n    key: \"doSetInitialStateOnDemand\",\n    value: function doSetInitialStateOnDemand(nodeIdsParam, selectedNodes, cbFinished) {\n      var _this2 = this;\n\n      var loadingCount = 0;\n      var nodeIds = nodeIdsParam;\n\n      var openNodes = function openNodes() {\n        var newNodesIds = [];\n\n        var _iterator3 = _createForOfIteratorHelper(nodeIds),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var nodeId = _step3.value;\n\n            var node = _this2.treeWidget.getNodeById(nodeId);\n\n            if (!node) {\n              newNodesIds.push(nodeId);\n            } else {\n              if (!node.is_loading) {\n                if (node.load_on_demand) {\n                  loadAndOpenNode(node);\n                } else {\n                  _this2.treeWidget._openNode(node, false, null);\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        nodeIds = newNodesIds;\n\n        if (_this2.selectInitialNodes(selectedNodes)) {\n          _this2.treeWidget._refreshElements(null);\n        }\n\n        if (loadingCount === 0) {\n          cbFinished();\n        }\n      };\n\n      var loadAndOpenNode = function loadAndOpenNode(node) {\n        loadingCount += 1;\n\n        _this2.treeWidget._openNode(node, false, function () {\n          loadingCount -= 1;\n          openNodes();\n        });\n      };\n\n      openNodes();\n    }\n  }, {\n    key: \"getKeyName\",\n    value: function getKeyName() {\n      if (typeof this.treeWidget.options.saveState === \"string\") {\n        return this.treeWidget.options.saveState;\n      } else {\n        return \"tree\";\n      }\n    }\n  }, {\n    key: \"supportsLocalStorage\",\n    value: function supportsLocalStorage() {\n      var testSupport = function testSupport() {\n        // Is local storage supported?\n        if (localStorage == null) {\n          return false;\n        } else {\n          // Check if it's possible to store an item. Safari does not allow this in private browsing mode.\n          try {\n            var key = \"_storage_test\";\n            sessionStorage.setItem(key, \"value\");\n            sessionStorage.removeItem(key);\n          } catch (error) {\n            return false;\n          }\n\n          return true;\n        }\n      };\n\n      if (this._supportsLocalStorage == null) {\n        this._supportsLocalStorage = testSupport();\n      }\n\n      return this._supportsLocalStorage;\n    }\n  }]);\n\n  return SaveStateHandler;\n}();\n\nexports[\"default\"] = SaveStateHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ScrollHandler = /*#__PURE__*/function () {\n  function ScrollHandler(treeWidget) {\n    _classCallCheck(this, ScrollHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"previousTop\", void 0);\n\n    _defineProperty(this, \"isInitialized\", void 0);\n\n    _defineProperty(this, \"$scrollParent\", void 0);\n\n    _defineProperty(this, \"scrollParentTop\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.previousTop = -1;\n    this.isInitialized = false;\n  }\n\n  _createClass(ScrollHandler, [{\n    key: \"checkScrolling\",\n    value: function checkScrolling() {\n      this.ensureInit();\n      this.checkVerticalScrolling();\n      this.checkHorizontalScrolling();\n    }\n  }, {\n    key: \"scrollToY\",\n    value: function scrollToY(top) {\n      this.ensureInit();\n\n      if (this.$scrollParent) {\n        this.$scrollParent[0].scrollTop = top;\n      } else {\n        var offset = this.treeWidget.$el.offset();\n        var treeTop = offset ? offset.top : 0;\n        jQuery(document).scrollTop(top + treeTop);\n      }\n    }\n  }, {\n    key: \"isScrolledIntoView\",\n    value: function isScrolledIntoView($element) {\n      this.ensureInit();\n      var elementBottom;\n      var viewBottom;\n      var elementTop;\n      var viewTop;\n      var elHeight = $element.height() || 0;\n\n      if (this.$scrollParent) {\n        viewTop = 0;\n        viewBottom = this.$scrollParent.height() || 0;\n        var offset = $element.offset();\n        var originalTop = offset ? offset.top : 0;\n        elementTop = originalTop - this.scrollParentTop;\n        elementBottom = elementTop + elHeight;\n      } else {\n        viewTop = jQuery(window).scrollTop() || 0;\n        var windowHeight = jQuery(window).height() || 0;\n        viewBottom = viewTop + windowHeight;\n\n        var _offset = $element.offset();\n\n        elementTop = _offset ? _offset.top : 0;\n        elementBottom = elementTop + elHeight;\n      }\n\n      return elementBottom <= viewBottom && elementTop >= viewTop;\n    }\n  }, {\n    key: \"getScrollLeft\",\n    value: function getScrollLeft() {\n      if (!this.$scrollParent) {\n        return 0;\n      } else {\n        return this.$scrollParent.scrollLeft() || 0;\n      }\n    }\n  }, {\n    key: \"initScrollParent\",\n    value: function initScrollParent() {\n      var _this = this;\n\n      var getParentWithOverflow = function getParentWithOverflow() {\n        var cssAttributes = [\"overflow\", \"overflow-y\"];\n\n        var hasOverFlow = function hasOverFlow($el) {\n          var _iterator = _createForOfIteratorHelper(cssAttributes),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var attr = _step.value;\n              var overflowValue = $el.css(attr);\n\n              if (overflowValue === \"auto\" || overflowValue === \"scroll\") {\n                return true;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n\n          return false;\n        };\n\n        if (hasOverFlow(_this.treeWidget.$el)) {\n          return _this.treeWidget.$el;\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(_this.treeWidget.$el.parents().get()),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var el = _step2.value;\n            var $el = jQuery(el);\n\n            if (hasOverFlow($el)) {\n              return $el;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        return null;\n      };\n\n      var setDocumentAsScrollParent = function setDocumentAsScrollParent() {\n        _this.scrollParentTop = 0;\n        _this.$scrollParent = null;\n      };\n\n      if (this.treeWidget.$el.css(\"position\") === \"fixed\") {\n        setDocumentAsScrollParent();\n      }\n\n      var $scrollParent = getParentWithOverflow();\n\n      if ($scrollParent && $scrollParent.length && $scrollParent[0].tagName !== \"HTML\") {\n        this.$scrollParent = $scrollParent;\n        var offset = this.$scrollParent.offset();\n        this.scrollParentTop = offset ? offset.top : 0;\n      } else {\n        setDocumentAsScrollParent();\n      }\n\n      this.isInitialized = true;\n    }\n  }, {\n    key: \"ensureInit\",\n    value: function ensureInit() {\n      if (!this.isInitialized) {\n        this.initScrollParent();\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithScrollParent\",\n    value: function handleVerticalScrollingWithScrollParent(area) {\n      var scrollParent = this.$scrollParent && this.$scrollParent[0];\n\n      if (!scrollParent) {\n        return;\n      }\n\n      var distanceBottom = this.scrollParentTop + scrollParent.offsetHeight - area.bottom;\n\n      if (distanceBottom < 20) {\n        scrollParent.scrollTop += 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      } else if (area.top - this.scrollParentTop < 20) {\n        scrollParent.scrollTop -= 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithDocument\",\n    value: function handleVerticalScrollingWithDocument(area) {\n      var scrollTop = jQuery(document).scrollTop() || 0;\n      var distanceTop = area.top - scrollTop;\n\n      if (distanceTop < 20) {\n        jQuery(document).scrollTop(scrollTop - 20);\n      } else {\n        var windowHeight = jQuery(window).height() || 0;\n\n        if (windowHeight - (area.bottom - scrollTop) < 20) {\n          jQuery(document).scrollTop(scrollTop + 20);\n        }\n      }\n    }\n  }, {\n    key: \"checkVerticalScrolling\",\n    value: function checkVerticalScrolling() {\n      var hoveredArea = this.treeWidget.dndHandler.hoveredArea;\n\n      if (hoveredArea && hoveredArea.top !== this.previousTop) {\n        this.previousTop = hoveredArea.top;\n\n        if (this.$scrollParent) {\n          this.handleVerticalScrollingWithScrollParent(hoveredArea);\n        } else {\n          this.handleVerticalScrollingWithDocument(hoveredArea);\n        }\n      }\n    }\n  }, {\n    key: \"checkHorizontalScrolling\",\n    value: function checkHorizontalScrolling() {\n      var positionInfo = this.treeWidget.dndHandler.positionInfo;\n\n      if (!positionInfo) {\n        return;\n      }\n\n      if (this.$scrollParent) {\n        this.handleHorizontalScrollingWithParent(positionInfo);\n      } else {\n        this.handleHorizontalScrollingWithDocument(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithParent\",\n    value: function handleHorizontalScrollingWithParent(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n\n      var $scrollParent = this.$scrollParent;\n      var scrollParentOffset = $scrollParent && $scrollParent.offset();\n\n      if (!($scrollParent && scrollParentOffset)) {\n        return;\n      }\n\n      var scrollParent = $scrollParent[0];\n      var canScrollRight = scrollParent.scrollLeft + scrollParent.clientWidth < scrollParent.scrollWidth;\n      var canScrollLeft = scrollParent.scrollLeft > 0;\n      var rightEdge = scrollParentOffset.left + scrollParent.clientWidth;\n      var leftEdge = scrollParentOffset.left;\n      var isNearRightEdge = positionInfo.pageX > rightEdge - 20;\n      var isNearLeftEdge = positionInfo.pageX < leftEdge + 20;\n\n      if (isNearRightEdge && canScrollRight) {\n        scrollParent.scrollLeft = Math.min(scrollParent.scrollLeft + 20, scrollParent.scrollWidth);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        scrollParent.scrollLeft = Math.max(scrollParent.scrollLeft - 20, 0);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithDocument\",\n    value: function handleHorizontalScrollingWithDocument(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n\n      var $document = jQuery(document);\n      var scrollLeft = $document.scrollLeft() || 0;\n      var windowWidth = jQuery(window).width() || 0;\n      var canScrollLeft = scrollLeft > 0;\n      var isNearRightEdge = positionInfo.pageX > windowWidth - 20;\n      var isNearLeftEdge = positionInfo.pageX - scrollLeft < 20;\n\n      if (isNearRightEdge) {\n        $document.scrollLeft(scrollLeft + 20);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        $document.scrollLeft(Math.max(scrollLeft - 20, 0));\n      }\n    }\n  }]);\n\n  return ScrollHandler;\n}();\n\nexports[\"default\"] = ScrollHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SelectNodeHandler = /*#__PURE__*/function () {\n  function SelectNodeHandler(treeWidget) {\n    _classCallCheck(this, SelectNodeHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"selectedNodes\", void 0);\n\n    _defineProperty(this, \"selectedSingleNode\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.selectedNodes = new Set();\n    this.clear();\n  }\n\n  _createClass(SelectNodeHandler, [{\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      var selectedNodes = this.getSelectedNodes();\n\n      if (selectedNodes.length) {\n        return selectedNodes[0];\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      var _this = this;\n\n      if (this.selectedSingleNode) {\n        return [this.selectedSingleNode];\n      } else {\n        var selectedNodes = [];\n        this.selectedNodes.forEach(function (id) {\n          var node = _this.treeWidget.getNodeById(id);\n\n          if (node) {\n            selectedNodes.push(node);\n          }\n        });\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"getSelectedNodesUnder\",\n    value: function getSelectedNodesUnder(parent) {\n      if (this.selectedSingleNode) {\n        if (parent.isParentOf(this.selectedSingleNode)) {\n          return [this.selectedSingleNode];\n        } else {\n          return [];\n        }\n      } else {\n        var selectedNodes = [];\n\n        for (var id in this.selectedNodes) {\n          if (Object.prototype.hasOwnProperty.call(this.selectedNodes, id)) {\n            var node = this.treeWidget.getNodeById(id);\n\n            if (node && parent.isParentOf(node)) {\n              selectedNodes.push(node);\n            }\n          }\n        }\n\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (node.id != null) {\n        return this.selectedNodes.has(node.id);\n      } else if (this.selectedSingleNode) {\n        return this.selectedSingleNode.element === node.element;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.selectedNodes.clear();\n      this.selectedSingleNode = null;\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      var _this2 = this;\n\n      var includeChildren = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (node.id == null) {\n        if (this.selectedSingleNode && node.element === this.selectedSingleNode.element) {\n          this.selectedSingleNode = null;\n        }\n      } else {\n        this.selectedNodes[\"delete\"](node.id);\n\n        if (includeChildren) {\n          node.iterate(function () {\n            if (node.id != null) {\n              _this2.selectedNodes[\"delete\"](node.id);\n            }\n\n            return true;\n          });\n        }\n      }\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node) {\n      if (node.id != null) {\n        this.selectedNodes.add(node.id);\n      } else {\n        this.selectedSingleNode = node;\n      }\n    }\n  }, {\n    key: \"isFocusOnTree\",\n    value: function isFocusOnTree() {\n      var activeElement = document.activeElement;\n      return Boolean(activeElement && activeElement.tagName === \"SPAN\" && this.treeWidget._containsElement(activeElement));\n    }\n  }]);\n\n  return SelectNodeHandler;\n}();\n\nexports[\"default\"] = SelectNodeHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar _register = function register(widgetClass, widgetName) {\n  var getDataKey = function getDataKey() {\n    return \"simple_widget_\".concat(widgetName);\n  };\n\n  var getWidgetData = function getWidgetData(el, dataKey) {\n    var widget = jQuery.data(el, dataKey);\n\n    if (widget && widget instanceof SimpleWidget) {\n      return widget;\n    } else {\n      return null;\n    }\n  };\n\n  var createWidget = function createWidget($el, options) {\n    var dataKey = getDataKey();\n\n    var _iterator = _createForOfIteratorHelper($el.get()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var el = _step.value;\n        var existingWidget = getWidgetData(el, dataKey);\n\n        if (!existingWidget) {\n          var simpleWidgetClass = widgetClass;\n          var widget = new simpleWidgetClass(el, options);\n\n          if (!jQuery.data(el, dataKey)) {\n            jQuery.data(el, dataKey, widget);\n          } // Call init after setting data, so we can call methods\n\n\n          widget.init();\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return $el;\n  };\n\n  var destroyWidget = function destroyWidget($el) {\n    var dataKey = getDataKey();\n\n    var _iterator2 = _createForOfIteratorHelper($el.get()),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var el = _step2.value;\n        var widget = getWidgetData(el, dataKey);\n\n        if (widget) {\n          widget.destroy();\n        }\n\n        jQuery.removeData(el, dataKey);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n\n  var callFunction = function callFunction($el, functionName, args) {\n    var result = null;\n\n    var _iterator3 = _createForOfIteratorHelper($el.get()),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var el = _step3.value;\n        var widget = jQuery.data(el, getDataKey());\n\n        if (widget && widget instanceof SimpleWidget) {\n          var simpleWidget = widget;\n          var widgetFunction = simpleWidget[functionName];\n\n          if (widgetFunction && typeof widgetFunction === \"function\") {\n            result = widgetFunction.apply(widget, args);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    return result;\n  }; // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\n\n  jQuery.fn[widgetName] = function (argument1) {\n    if (!argument1) {\n      return createWidget(this, null);\n    } else if (_typeof(argument1) === \"object\") {\n      var options = argument1;\n      return createWidget(this, options);\n    } else if (typeof argument1 === \"string\" && argument1[0] !== \"_\") {\n      var functionName = argument1;\n\n      if (functionName === \"destroy\") {\n        return destroyWidget(this);\n      } else if (functionName === \"get_widget_class\") {\n        return widgetClass;\n      } else {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        return callFunction(this, functionName, args);\n      }\n    }\n  };\n};\n\nvar SimpleWidget = /*#__PURE__*/function () {\n  function SimpleWidget(el, options) {\n    _classCallCheck(this, SimpleWidget);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"$el\", void 0);\n\n    this.$el = jQuery(el); // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\n    var defaults = this.constructor[\"defaults\"];\n    this.options = _objectSpread(_objectSpread({}, defaults), options);\n  }\n\n  _createClass(SimpleWidget, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.deinit();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {//\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {//\n    }\n  }], [{\n    key: \"register\",\n    value: function register(widgetClass, widgetName) {\n      _register(widgetClass, widgetName);\n    }\n  }]);\n\n  return SimpleWidget;\n}();\n\nexports[\"default\"] = SimpleWidget;\n\n_defineProperty(SimpleWidget, \"defaults\", {});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JqTreeWidget = void 0;\n\nvar _version = _interopRequireDefault(require(\"./version\"));\n\nvar _dragAndDropHandler = require(\"./dragAndDropHandler\");\n\nvar _elementsRenderer = _interopRequireDefault(require(\"./elementsRenderer\"));\n\nvar _dataLoader = _interopRequireDefault(require(\"./dataLoader\"));\n\nvar _keyHandler = _interopRequireDefault(require(\"./keyHandler\"));\n\nvar _mouse = _interopRequireDefault(require(\"./mouse.widget\"));\n\nvar _saveStateHandler = _interopRequireDefault(require(\"./saveStateHandler\"));\n\nvar _scrollHandler = _interopRequireDefault(require(\"./scrollHandler\"));\n\nvar _selectNodeHandler = _interopRequireDefault(require(\"./selectNodeHandler\"));\n\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\n\nvar _node6 = require(\"./node\");\n\nvar _util = require(\"./util\");\n\nvar _nodeElement = require(\"./nodeElement\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NODE_PARAM_IS_EMPTY = \"Node parameter is empty\";\nvar PARAM_IS_EMPTY = \"Parameter is empty: \";\n\nvar JqTreeWidget = /*#__PURE__*/function (_MouseWidget) {\n  _inherits(JqTreeWidget, _MouseWidget);\n\n  var _super = _createSuper(JqTreeWidget);\n\n  function JqTreeWidget() {\n    var _this;\n\n    _classCallCheck(this, JqTreeWidget);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"element\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"tree\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dndHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"renderer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dataLoader\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"selectNodeHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"isInitialized\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"saveStateHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"keyHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n\n      if (clickTarget) {\n        if (clickTarget.type === \"button\") {\n          _this.toggle(clickTarget.node, _this.options.slide);\n\n          e.preventDefault();\n          e.stopPropagation();\n        } else if (clickTarget.type === \"label\") {\n          var _node2 = clickTarget.node;\n\n          var event = _this._triggerEvent(\"tree.click\", {\n            node: _node2,\n            click_event: e\n          });\n\n          if (!event.isDefaultPrevented()) {\n            _this.doSelectNode(_node2);\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDblclick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n\n      if ((clickTarget === null || clickTarget === void 0 ? void 0 : clickTarget.type) === \"label\") {\n        _this._triggerEvent(\"tree.dblclick\", {\n          node: clickTarget.node,\n          click_event: e\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleContextmenu\", function (e) {\n      var $div = jQuery(e.target).closest(\"ul.jqtree-tree .jqtree-element\");\n\n      if ($div.length) {\n        var _node3 = _this.getNode($div);\n\n        if (_node3) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          _this._triggerEvent(\"tree.contextmenu\", {\n            node: _node3,\n            click_event: e\n          });\n\n          return false;\n        }\n      }\n\n      return null;\n    });\n\n    return _this;\n  }\n\n  _createClass(JqTreeWidget, [{\n    key: \"toggle\",\n    value: function toggle(node) {\n      var slideParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n\n      if (node.is_open) {\n        this.closeNode(node, slide);\n      } else {\n        this.openNode(node, slide);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"getTree\",\n    value: function getTree() {\n      return this.tree;\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node, optionsParam) {\n      this.doSelectNode(node, optionsParam);\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      return this.selectNodeHandler.getSelectedNode();\n    }\n  }, {\n    key: \"toJson\",\n    value: function toJson() {\n      return JSON.stringify(this.tree.getData());\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData(data, parentNode) {\n      this.doLoadData(data, parentNode);\n      return this.element;\n    }\n    /*\n    signatures:\n    - loadDataFromUrl(url, parent_node=null, on_finished=null)\n        loadDataFromUrl('/my_data');\n        loadDataFromUrl('/my_data', node1);\n        loadDataFromUrl('/my_data', node1, function() { console.log('finished'); });\n        loadDataFromUrl('/my_data', null, function() { console.log('finished'); });\n     - loadDataFromUrl(parent_node=null, on_finished=null)\n        loadDataFromUrl();\n        loadDataFromUrl(node1);\n        loadDataFromUrl(null, function() { console.log('finished'); });\n        loadDataFromUrl(node1, function() { console.log('finished'); });\n    */\n\n  }, {\n    key: \"loadDataFromUrl\",\n    value: function loadDataFromUrl(param1, param2, param3) {\n      if (typeof param1 === \"string\") {\n        // first parameter is url\n        this.doLoadDataFromUrl(param1, param2, param3 !== null && param3 !== void 0 ? param3 : null);\n      } else {\n        // first parameter is not url\n        this.doLoadDataFromUrl(null, param1, param2);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(onFinished) {\n      this.doLoadDataFromUrl(null, null, onFinished);\n      return this.element;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this._refreshElements(null);\n\n      return this.element;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.tree.getNodeById(nodeId);\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.tree.getNodeByName(name);\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      return this.tree.getNodeByNameMustExist(name);\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.tree.getNodesByProperty(key, value);\n    }\n  }, {\n    key: \"getNodeByHtmlElement\",\n    value: function getNodeByHtmlElement(element) {\n      return this.getNode(jQuery(element));\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      return this.tree.getNodeByCallback(callback);\n    }\n  }, {\n    key: \"openNode\",\n    value: function openNode(node, param1, param2) {\n      var _this2 = this;\n\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var parseParams = function parseParams() {\n        var onFinished;\n        var slide;\n\n        if ((0, _util.isFunction)(param1)) {\n          onFinished = param1;\n          slide = null;\n        } else {\n          slide = param1;\n          onFinished = param2;\n        }\n\n        if (slide == null) {\n          var _this2$options$slide;\n\n          slide = (_this2$options$slide = _this2.options.slide) !== null && _this2$options$slide !== void 0 ? _this2$options$slide : false;\n        }\n\n        return [slide, onFinished];\n      };\n\n      var _parseParams = parseParams(),\n          _parseParams2 = _slicedToArray(_parseParams, 2),\n          slide = _parseParams2[0],\n          onFinished = _parseParams2[1];\n\n      this._openNode(node, slide, onFinished);\n\n      return this.element;\n    }\n  }, {\n    key: \"closeNode\",\n    value: function closeNode(node, slideParam) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n\n      if (node.isFolder() || node.isEmptyFolder) {\n        new _nodeElement.FolderElement(node, this).close(slide, this.options.animationSpeed);\n        this.saveState();\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this.dndHandler.isDragging;\n    }\n  }, {\n    key: \"refreshHitAreas\",\n    value: function refreshHitAreas() {\n      this.dndHandler.refresh();\n      return this.element;\n    }\n  }, {\n    key: \"addNodeAfter\",\n    value: function addNodeAfter(newNodeInfo, existingNode) {\n      var newNode = existingNode.addAfter(newNodeInfo);\n\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n\n      return newNode;\n    }\n  }, {\n    key: \"addNodeBefore\",\n    value: function addNodeBefore(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n\n      var newNode = existingNode.addBefore(newNodeInfo);\n\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n\n      return newNode;\n    }\n  }, {\n    key: \"addParentNode\",\n    value: function addParentNode(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n\n      var newNode = existingNode.addParent(newNodeInfo);\n\n      if (newNode) {\n        this._refreshElements(newNode.parent);\n      }\n\n      return newNode;\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      if (!node.parent) {\n        throw Error(\"Node has no parent\");\n      }\n\n      this.selectNodeHandler.removeFromSelection(node, true); // including children\n\n      var parent = node.parent;\n      node.remove();\n\n      this._refreshElements(parent);\n\n      return this.element;\n    }\n  }, {\n    key: \"appendNode\",\n    value: function appendNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam || this.tree;\n      var node = parentNode.append(newNodeInfo);\n\n      this._refreshElements(parentNode);\n\n      return node;\n    }\n  }, {\n    key: \"prependNode\",\n    value: function prependNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam !== null && parentNodeParam !== void 0 ? parentNodeParam : this.tree;\n      var node = parentNode.prepend(newNodeInfo);\n\n      this._refreshElements(parentNode);\n\n      return node;\n    }\n  }, {\n    key: \"updateNode\",\n    value: function updateNode(node, data) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var idIsChanged = _typeof(data) === \"object\" && data.id && data.id !== node.id;\n\n      if (idIsChanged) {\n        this.tree.removeNodeFromIndex(node);\n      }\n\n      node.setData(data);\n\n      if (idIsChanged) {\n        this.tree.addNodeToIndex(node);\n      }\n\n      if (_typeof(data) === \"object\" && data[\"children\"] && data[\"children\"] instanceof Array) {\n        node.removeChildren();\n\n        if (data.children.length) {\n          node.loadFromData(data.children);\n        }\n      }\n\n      this._refreshElements(node);\n\n      return this.element;\n    }\n  }, {\n    key: \"isSelectedNodeInSubtree\",\n    value: function isSelectedNodeInSubtree(subtree) {\n      var selectedNode = this.getSelectedNode();\n\n      if (!selectedNode) {\n        return false;\n      } else {\n        return subtree === selectedNode || subtree.isParentOf(selectedNode);\n      }\n    }\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(node, targetNode, position) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      if (!targetNode) {\n        throw Error(PARAM_IS_EMPTY + \"targetNode\");\n      }\n\n      var positionIndex = (0, _node6.getPosition)(position);\n\n      if (positionIndex !== undefined) {\n        this.tree.moveNode(node, targetNode, positionIndex);\n\n        this._refreshElements(null);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      return this.saveStateHandler.getStateFromStorage();\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node, mustSetFocus) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      this.selectNodeHandler.addToSelection(node);\n\n      this._getNodeElementForNode(node).select(mustSetFocus === undefined ? true : mustSetFocus);\n\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      return this.selectNodeHandler.getSelectedNodes();\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      return this.selectNodeHandler.isNodeSelected(node);\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      this.selectNodeHandler.removeFromSelection(node);\n\n      this._getNodeElementForNode(node).deselect();\n\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"scrollToNode\",\n    value: function scrollToNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var nodeOffset = jQuery(node.element).offset();\n      var nodeTop = nodeOffset ? nodeOffset.top : 0;\n      var treeOffset = this.$el.offset();\n      var treeTop = treeOffset ? treeOffset.top : 0;\n      var top = nodeTop - treeTop;\n      this.scrollHandler.scrollToY(top);\n      return this.element;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.saveStateHandler.getState();\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(state) {\n      this.saveStateHandler.setInitialState(state);\n\n      this._refreshElements(null);\n\n      return this.element;\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption(option, value) {\n      this.options[option] = value;\n      return this.element;\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      var selectedNode = this.getSelectedNode();\n\n      if (selectedNode) {\n        this.keyHandler.moveDown(selectedNode);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var selectedNode = this.getSelectedNode();\n\n      if (selectedNode) {\n        this.keyHandler.moveUp(selectedNode);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"getVersion\",\n    value: function getVersion() {\n      return _version[\"default\"];\n    }\n  }, {\n    key: \"_triggerEvent\",\n    value: function _triggerEvent(eventName, values) {\n      var event = jQuery.Event(eventName, values);\n      this.element.trigger(event);\n      return event;\n    }\n  }, {\n    key: \"_openNode\",\n    value: function _openNode(node) {\n      var _this3 = this;\n\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n\n      var doOpenNode = function doOpenNode(_node, _slide, _onFinished) {\n        var folderElement = new _nodeElement.FolderElement(_node, _this3);\n        folderElement.open(_onFinished, _slide, _this3.options.animationSpeed);\n      };\n\n      if (node.isFolder() || node.isEmptyFolder) {\n        if (node.load_on_demand) {\n          this.loadFolderOnDemand(node, slide, onFinished);\n        } else {\n          var parent = node.parent;\n\n          while (parent) {\n            // nb: do not open root element\n            if (parent.parent) {\n              doOpenNode(parent, false, null);\n            }\n\n            parent = parent.parent;\n          }\n\n          doOpenNode(node, slide, onFinished);\n          this.saveState();\n        }\n      }\n    }\n    /*\n    Redraw the tree or part of the tree.\n     from_node: redraw this subtree\n    */\n\n  }, {\n    key: \"_refreshElements\",\n    value: function _refreshElements(fromNode) {\n      var mustSetFocus = this.selectNodeHandler.isFocusOnTree();\n      var mustSelect = fromNode ? this.isSelectedNodeInSubtree(fromNode) : false;\n      this.renderer.render(fromNode);\n\n      if (mustSelect) {\n        this.selectCurrentNode(mustSetFocus);\n      }\n\n      this._triggerEvent(\"tree.refresh\");\n    }\n  }, {\n    key: \"_getNodeElementForNode\",\n    value: function _getNodeElementForNode(node) {\n      if (node.isFolder()) {\n        return new _nodeElement.FolderElement(node, this);\n      } else {\n        return new _nodeElement.NodeElement(node, this);\n      }\n    }\n  }, {\n    key: \"_getNodeElement\",\n    value: function _getNodeElement($element) {\n      var node = this.getNode($element);\n\n      if (node) {\n        return this._getNodeElementForNode(node);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"_containsElement\",\n    value: function _containsElement(element) {\n      var node = this.getNode(jQuery(element));\n      return node != null && node.tree === this.tree;\n    }\n  }, {\n    key: \"_getScrollLeft\",\n    value: function _getScrollLeft() {\n      return this.scrollHandler.getScrollLeft();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"init\", this).call(this);\n\n      this.element = this.$el;\n      this.isInitialized = false;\n      this.options.rtl = this.getRtlOption();\n\n      if (this.options.closedIcon == null) {\n        this.options.closedIcon = this.getDefaultClosedIcon();\n      }\n\n      this.renderer = new _elementsRenderer[\"default\"](this);\n      this.dataLoader = new _dataLoader[\"default\"](this);\n      this.saveStateHandler = new _saveStateHandler[\"default\"](this);\n      this.selectNodeHandler = new _selectNodeHandler[\"default\"](this);\n      this.dndHandler = new _dragAndDropHandler.DragAndDropHandler(this);\n      this.scrollHandler = new _scrollHandler[\"default\"](this);\n      this.keyHandler = new _keyHandler[\"default\"](this);\n      this.initData();\n      this.element.on(\"click\", this.handleClick);\n      this.element.on(\"dblclick\", this.handleDblclick);\n\n      if (this.options.useContextMenu) {\n        this.element.on(\"contextmenu\", this.handleContextmenu);\n      }\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      this.element.empty();\n      this.element.off();\n      this.keyHandler.deinit();\n      this.tree = new _node6.Node({}, true);\n\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"deinit\", this).call(this);\n    }\n  }, {\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseCapture(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStart(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (this.options.dragAndDrop) {\n        var result = this.dndHandler.mouseDrag(positionInfo);\n        this.scrollHandler.checkScrolling();\n        return result;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStop(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getMouseDelay\",\n    value: function getMouseDelay() {\n      var _this$options$startDn;\n\n      return (_this$options$startDn = this.options.startDndDelay) !== null && _this$options$startDn !== void 0 ? _this$options$startDn : 0;\n    }\n  }, {\n    key: \"initData\",\n    value: function initData() {\n      if (this.options.data) {\n        this.doLoadData(this.options.data, null);\n      } else {\n        var dataUrl = this.getDataUrlInfo(null);\n\n        if (dataUrl) {\n          this.doLoadDataFromUrl(null, null, null);\n        } else {\n          this.doLoadData([], null);\n        }\n      }\n    }\n  }, {\n    key: \"getDataUrlInfo\",\n    value: function getDataUrlInfo(node) {\n      var _this4 = this;\n\n      var dataUrl = this.options.dataUrl || this.element.data(\"url\");\n\n      var getUrlFromString = function getUrlFromString(url) {\n        var urlInfo = {\n          url: url\n        };\n        setUrlInfoData(urlInfo);\n        return urlInfo;\n      };\n\n      var setUrlInfoData = function setUrlInfoData(urlInfo) {\n        if (node !== null && node !== void 0 && node.id) {\n          // Load on demand of a subtree; add node parameter\n          var data = {\n            node: node.id\n          };\n          urlInfo[\"data\"] = data;\n        } else {\n          // Add selected_node parameter\n          var selectedNodeId = _this4.getNodeIdToBeSelected();\n\n          if (selectedNodeId) {\n            var _data = {\n              selected_node: selectedNodeId\n            };\n            urlInfo[\"data\"] = _data;\n          }\n        }\n      };\n\n      if (typeof dataUrl === \"function\") {\n        return dataUrl(node);\n      } else if (typeof dataUrl === \"string\") {\n        return getUrlFromString(dataUrl);\n      } else if (dataUrl && _typeof(dataUrl) === \"object\") {\n        setUrlInfoData(dataUrl);\n        return dataUrl;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      if (this.options.saveState) {\n        return this.saveStateHandler.getNodeIdToBeSelected();\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"initTree\",\n    value: function initTree(data) {\n      var _this5 = this;\n\n      var doInit = function doInit() {\n        if (!_this5.isInitialized) {\n          _this5.isInitialized = true;\n\n          _this5._triggerEvent(\"tree.init\");\n        }\n      };\n\n      if (!this.options.nodeClass) {\n        return;\n      }\n\n      this.tree = new this.options.nodeClass(null, true, this.options.nodeClass);\n      this.selectNodeHandler.clear();\n      this.tree.loadFromData(data);\n      var mustLoadOnDemand = this.setInitialState();\n\n      this._refreshElements(null);\n\n      if (!mustLoadOnDemand) {\n        doInit();\n      } else {\n        // Load data on demand and then init the tree\n        this.setInitialStateOnDemand(doInit);\n      }\n    } // Set initial state, either by restoring the state or auto-opening nodes\n    // result: must load nodes on demand?\n\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState() {\n      var _this6 = this;\n\n      var restoreState = function restoreState() {\n        // result: is state restored, must load on demand?\n        if (!_this6.options.saveState) {\n          return [false, false];\n        } else {\n          var state = _this6.saveStateHandler.getStateFromStorage();\n\n          if (!state) {\n            return [false, false];\n          } else {\n            var _mustLoadOnDemand = _this6.saveStateHandler.setInitialState(state); // return true: the state is restored\n\n\n            return [true, _mustLoadOnDemand];\n          }\n        }\n      };\n\n      var autoOpenNodes = function autoOpenNodes() {\n        // result: must load on demand?\n        if (_this6.options.autoOpen === false) {\n          return false;\n        }\n\n        var maxLevel = _this6.getAutoOpenMaxLevel();\n\n        var mustLoadOnDemand = false;\n\n        _this6.tree.iterate(function (node, level) {\n          if (node.load_on_demand) {\n            mustLoadOnDemand = true;\n            return false;\n          } else if (!node.hasChildren()) {\n            return false;\n          } else {\n            node.is_open = true;\n            return level !== maxLevel;\n          }\n        });\n\n        return mustLoadOnDemand;\n      };\n\n      var _restoreState = restoreState(),\n          _restoreState2 = _slicedToArray(_restoreState, 2),\n          isRestored = _restoreState2[0],\n          mustLoadOnDemand = _restoreState2[1]; // eslint-disable-line prefer-const\n\n\n      if (!isRestored) {\n        mustLoadOnDemand = autoOpenNodes();\n      }\n\n      return mustLoadOnDemand;\n    } // Set the initial state for nodes that are loaded on demand\n    // Call cb_finished when done\n\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(cbFinished) {\n      var _this7 = this;\n\n      var restoreState = function restoreState() {\n        if (!_this7.options.saveState) {\n          return false;\n        } else {\n          var state = _this7.saveStateHandler.getStateFromStorage();\n\n          if (!state) {\n            return false;\n          } else {\n            _this7.saveStateHandler.setInitialStateOnDemand(state, cbFinished);\n\n            return true;\n          }\n        }\n      };\n\n      var autoOpenNodes = function autoOpenNodes() {\n        var maxLevel = _this7.getAutoOpenMaxLevel();\n\n        var loadingCount = 0;\n\n        var loadAndOpenNode = function loadAndOpenNode(node) {\n          loadingCount += 1;\n\n          _this7._openNode(node, false, function () {\n            loadingCount -= 1;\n            openNodes();\n          });\n        };\n\n        var openNodes = function openNodes() {\n          _this7.tree.iterate(function (node, level) {\n            if (node.load_on_demand) {\n              if (!node.is_loading) {\n                loadAndOpenNode(node);\n              }\n\n              return false;\n            } else {\n              _this7._openNode(node, false, null);\n\n              return level !== maxLevel;\n            }\n          });\n\n          if (loadingCount === 0) {\n            cbFinished();\n          }\n        };\n\n        openNodes();\n      };\n\n      if (!restoreState()) {\n        autoOpenNodes();\n      }\n    }\n  }, {\n    key: \"getAutoOpenMaxLevel\",\n    value: function getAutoOpenMaxLevel() {\n      if (this.options.autoOpen === true) {\n        return -1;\n      } else if (typeof this.options.autoOpen === \"number\") {\n        return this.options.autoOpen;\n      } else if (typeof this.options.autoOpen === \"string\") {\n        return parseInt(this.options.autoOpen, 10);\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"getClickTarget\",\n    value: function getClickTarget(element) {\n      var $target = jQuery(element);\n      var $button = $target.closest(\".jqtree-toggler\");\n\n      if ($button.length) {\n        var _node4 = this.getNode($button);\n\n        if (_node4) {\n          return {\n            type: \"button\",\n            node: _node4\n          };\n        }\n      } else {\n        var $el = $target.closest(\".jqtree-element\");\n\n        if ($el.length) {\n          var _node5 = this.getNode($el);\n\n          if (_node5) {\n            return {\n              type: \"label\",\n              node: _node5\n            };\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode($element) {\n      var $li = $element.closest(\"li.jqtree_common\");\n\n      if ($li.length === 0) {\n        return null;\n      } else {\n        return $li.data(\"node\");\n      }\n    }\n  }, {\n    key: \"saveState\",\n    value: function saveState() {\n      if (this.options.saveState) {\n        this.saveStateHandler.saveState();\n      }\n    }\n  }, {\n    key: \"selectCurrentNode\",\n    value: function selectCurrentNode(mustSetFocus) {\n      var node = this.getSelectedNode();\n\n      if (node) {\n        var nodeElement = this._getNodeElementForNode(node);\n\n        if (nodeElement) {\n          nodeElement.select(mustSetFocus);\n        }\n      }\n    }\n  }, {\n    key: \"deselectCurrentNode\",\n    value: function deselectCurrentNode() {\n      var node = this.getSelectedNode();\n\n      if (node) {\n        this.removeFromSelection(node);\n      }\n    }\n  }, {\n    key: \"getDefaultClosedIcon\",\n    value: function getDefaultClosedIcon() {\n      if (this.options.rtl) {\n        // triangle to the left\n        return \"&#x25c0;\";\n      } else {\n        // triangle to the right\n        return \"&#x25ba;\";\n      }\n    }\n  }, {\n    key: \"getRtlOption\",\n    value: function getRtlOption() {\n      if (this.options.rtl != null) {\n        return this.options.rtl;\n      } else {\n        var dataRtl = this.element.data(\"rtl\");\n\n        if (dataRtl !== null && dataRtl !== false && dataRtl !== undefined) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"doSelectNode\",\n    value: function doSelectNode(node, optionsParam) {\n      var _this8 = this;\n\n      var saveState = function saveState() {\n        if (_this8.options.saveState) {\n          _this8.saveStateHandler.saveState();\n        }\n      };\n\n      if (!node) {\n        // Called with empty node -> deselect current node\n        this.deselectCurrentNode();\n        saveState();\n        return;\n      }\n\n      var defaultOptions = {\n        mustSetFocus: true,\n        mustToggle: true\n      };\n\n      var selectOptions = _objectSpread(_objectSpread({}, defaultOptions), optionsParam || {});\n\n      var canSelect = function canSelect() {\n        if (_this8.options.onCanSelectNode) {\n          return _this8.options.selectable === true && _this8.options.onCanSelectNode(node);\n        } else {\n          return _this8.options.selectable === true;\n        }\n      };\n\n      var openParents = function openParents() {\n        var parent = node.parent;\n\n        if (parent && parent.parent && !parent.is_open) {\n          _this8.openNode(parent, false);\n        }\n      };\n\n      if (!canSelect()) {\n        return;\n      }\n\n      if (this.selectNodeHandler.isNodeSelected(node)) {\n        if (selectOptions.mustToggle) {\n          this.deselectCurrentNode();\n\n          this._triggerEvent(\"tree.select\", {\n            node: null,\n            previous_node: node\n          });\n        }\n      } else {\n        var deselectedNode = this.getSelectedNode() || null;\n        this.deselectCurrentNode();\n        this.addToSelection(node, selectOptions.mustSetFocus);\n\n        this._triggerEvent(\"tree.select\", {\n          node: node,\n          deselected_node: deselectedNode\n        });\n\n        openParents();\n      }\n\n      saveState();\n    }\n  }, {\n    key: \"doLoadData\",\n    value: function doLoadData(data, parentNode) {\n      if (!data) {\n        return;\n      } else {\n        this._triggerEvent(\"tree.load_data\", {\n          tree_data: data\n        });\n\n        if (parentNode) {\n          this.deselectNodes(parentNode);\n          this.loadSubtree(data, parentNode);\n        } else {\n          this.initTree(data);\n        }\n\n        if (this.isDragging()) {\n          this.dndHandler.refresh();\n        }\n      }\n    }\n  }, {\n    key: \"deselectNodes\",\n    value: function deselectNodes(parentNode) {\n      var selectedNodesUnderParent = this.selectNodeHandler.getSelectedNodesUnder(parentNode);\n\n      var _iterator = _createForOfIteratorHelper(selectedNodesUnderParent),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var n = _step.value;\n          this.selectNodeHandler.removeFromSelection(n);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"loadSubtree\",\n    value: function loadSubtree(data, parentNode) {\n      parentNode.loadFromData(data);\n      parentNode.load_on_demand = false;\n      parentNode.is_loading = false;\n\n      this._refreshElements(parentNode);\n    }\n  }, {\n    key: \"doLoadDataFromUrl\",\n    value: function doLoadDataFromUrl(urlInfoParam, parentNode, onFinished) {\n      var urlInfo = urlInfoParam || this.getDataUrlInfo(parentNode);\n      this.dataLoader.loadFromUrl(urlInfo, parentNode, onFinished);\n    }\n  }, {\n    key: \"loadFolderOnDemand\",\n    value: function loadFolderOnDemand(node) {\n      var _this9 = this;\n\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n      node.is_loading = true;\n      this.doLoadDataFromUrl(null, node, function () {\n        _this9._openNode(node, slide, onFinished);\n      });\n    }\n  }]);\n\n  return JqTreeWidget;\n}(_mouse[\"default\"]);\n\nexports.JqTreeWidget = JqTreeWidget;\n\n_defineProperty(JqTreeWidget, \"defaults\", {\n  animationSpeed: \"fast\",\n  autoEscape: true,\n  autoOpen: false,\n  // true / false / int (open n levels starting at 0)\n  buttonLeft: true,\n  // The symbol to use for a closed node -  BLACK RIGHT-POINTING POINTER\n  // http://www.fileformat.info/info/unicode/char/25ba/index.htm\n  closedIcon: undefined,\n  data: undefined,\n  dataFilter: undefined,\n  dataUrl: undefined,\n  dragAndDrop: false,\n  keyboardSupport: true,\n  nodeClass: _node6.Node,\n  onCanMove: undefined,\n  // Can this node be moved?\n  onCanMoveTo: undefined,\n  // Can this node be moved to this position? function(moved_node, target_node, position)\n  onCanSelectNode: undefined,\n  onCreateLi: undefined,\n  onDragMove: undefined,\n  onDragStop: undefined,\n  onGetStateFromStorage: undefined,\n  onIsMoveHandle: undefined,\n  onLoadFailed: undefined,\n  onLoading: undefined,\n  onSetStateFromStorage: undefined,\n  openedIcon: \"&#x25bc;\",\n  openFolderDelay: 500,\n  // The delay for opening a folder during drag and drop; the value is in milliseconds\n  // The symbol to use for an open node -  BLACK DOWN-POINTING TRIANGLE\n  // http://www.fileformat.info/info/unicode/char/25bc/index.htm\n  rtl: undefined,\n  // right-to-left support; true / false (default)\n  saveState: false,\n  // true / false / string (cookie name)\n  selectable: true,\n  showEmptyFolder: false,\n  slide: true,\n  // must display slide animation?\n  startDndDelay: 300,\n  // The delay for starting dnd (in milliseconds)\n  tabIndex: 0,\n  useContextMenu: true\n});\n\n_simple[\"default\"].register(JqTreeWidget, \"tree\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isInt = exports.isFunction = exports.getBoolString = void 0;\n\nvar isInt = function isInt(n) {\n  return typeof n === \"number\" && n % 1 === 0;\n};\n\nexports.isInt = isInt;\n\nvar isFunction = function isFunction(v) {\n  return typeof v === \"function\";\n};\n\nexports.isFunction = isFunction;\n\nvar getBoolString = function getBoolString(value) {\n  return value ? \"true\" : \"false\";\n};\n\nexports.getBoolString = getBoolString;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar version = \"1.6.2\";\nvar _default = version;\nexports[\"default\"] = _default;"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperties","target","props","i","length","descriptor","configurable","writable","defineProperty","key","_defineProperty","obj","value","exports","DataLoader","treeWidget","instance","Constructor","TypeError","_classCallCheck","this","protoProps","staticProps","urlInfo","parentNode","onFinished","_this","$el","getDomElement","addLoadingClass","notifyLoading","stopLoading","removeLoadingClass","submitRequest","data","loadData","parseData","jqXHR","options","onLoadFailed","addClass","removeClass","jQuery","element","isLoading","node","onLoading","_triggerEvent","urlInfoInput","handleSuccess","handleError","_ajaxSettings$method","ajaxSettings","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","method","cache","dataType","success","error","url","toUpperCase","ajax","dataFilter","parsedData","JSON","parse","prototype","_typeof","Symbol","iterator","constructor","HitAreasGenerator","DragAndDropHandler","_node","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","minLen","_arrayLikeToArray","n","toString","call","slice","name","from","test","_unsupportedIterableToArray","F","s","done","e","_e","f","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","_createClass","hoveredArea","hitAreas","isDragging","currentItem","positionInfo","$element","mustCaptureElement","onIsMoveHandle","nodeElement","_getNodeElement","onCanMove","_this$treeWidget$opti","undefined","pageX","pageY","refresh","offset","left","top","dragElement","DragElement","autoEscape","move","area","findHoveredArea","canMoveToArea","isFolder","stopOpenFolderTimer","mustOpenFolderTimer","startOpenFolderTimer","updateDropHint","removeDropHint","onDragMove","originalEvent","moveItem","clear","removeHover","removeHitAreas","onDragStop","generateHitAreas","_getNodeElementForNode","hitAreasGenerator","tree","getTreeDimensions","bottom","generate","is","onCanMoveTo","positionName","getPositionName","position","remove","previousGhost","x","y","dimensions","right","low","high","mid","is_open","Position","Inside","addDropHint","folder","openFolderTimer","window","setTimeout","_openNode","slide","openFolderDelay","clearTimeout","_this2","None","movedNode","targetNode","previousParent","parent","doMove","moveNode","empty","_refreshElements","move_info","moved_node","target_node","previous_parent","do_move","original_event","isDefaultPrevented","el","width","height","_getScrollLeft","_VisibleNodeIterator","subClass","superClass","create","_inherits","_super","currentNode","treeBottom","_this4","positions","lastTop","iterate","_step","previousTop","group","_iterator","generateHitAreasForGroup","children","addPosition","getTop","nextNode","After","Before","positionsInGroup","positionCount","Math","min","areaHeight","round","areaTop","VisibleNodeIterator","_this3","isFirstNode","_iterateNode","mustIterateInside","hasChildren","handleFirstNode","handleOpenFolder","handleClosedFolder","handleNode","childrenLength","_","handleAfterOpenFolder","nodeName","offsetX","offsetY","$tree","text","html","css","append","_util","ElementsRenderer","openedIconElement","createButtonElement","openedIcon","closedIconElement","closedIcon","fromNode","renderFromNode","renderFromRoot","createDomElements","$previousLi","li","createLi","getLevel","attachNodeData","after","isRootNode","level","ul","createUl","appendChild","child","classString","role","rtl","dragAndDrop","document","createElement","className","concat","setAttribute","isSelected","selectNodeHandler","isNodeSelected","isEmptyFolder","showEmptyFolder","createFolderLi","createNodeLi","onCreateLi","buttonClasses","getButtonClasses","folderClasses","getFolderClasses","iconElement","div","buttonLink","cloneNode","buttonLeft","createTitleSpan","liClasses","join","isOpen","titleSpan","classes","getBoolString","tabIndex","textContent","innerHTML","is_loading","createTextNode","KeyHandler","canHandleKeyboard","selectedNode","getSelectedNode","which","DOWN","moveDown","UP","moveUp","RIGHT","moveRight","LEFT","moveLeft","keyboardSupport","on","handleKeyDown","off","selectNode","getNextNode","getPreviousNode","openNode","closeNode","getParent","scrollHandler","isScrolledIntoView","find","scrollToNode","isFocusOnTree","_simple","__esModule","getPositionInfoFromMouseEvent","getPositionInfoFromTouch","touch","MouseWidget","_SimpleWidget","_len","args","_key","button","handleMouseDown","cancelable","preventDefault","handleMouseMove","handleMouseUp","touches","changedTouches","get","addEventListener","mouseDown","passive","touchStart","isMouseStarted","mouseDelayTimer","isMouseDelayMet","mouseDownInfo","removeEventListener","removeMouseMoveEventListeners","mouseCapture","handleStartMouse","mouseMove","touchMove","mouseUp","touchEnd","mouseDelay","getMouseDelay","startMouseDelayTimer","mouseDrag","mouseStart","mouseStop","_default","getPosition","Node","positionNames","before","inside","none","hasOwnProperty","isNodeRecordWithChildren","isRoot","nodeClass","load_on_demand","setData","idMapping","Map","removeChildren","createNode","addChild","loadFromData","setParent","index","splice","doRemoveChild","indexOf","callback","_iterate","_step2","_iterator2","isParentOf","addChildAtPosition","getChildIndex","includeParent","getDataFromNodes","nodes","map","tmpNode","k","v","getNodeByCallback","nodeInfo","_node2","childIndex","_node3","newParent","_step3","originalParent","_iterator3","removeChild","nodeId","id","set","_this$tree","removeNodeFromIndex","previousIndex","nextIndex","includeChildren","nextSibling","getNextSibling","previousSibling","getPreviousSibling","getLastChild","lastChild","nodeData","addChildren","childrenData","_step4","_iterator4","_node4","initFromData","_this$tree2","addNodeToIndex","_this$tree3","_this$tree4","getNodeClass","NodeElement","FolderElement","BorderDropHint","init","mustShowBorderDropHint","GhostDropHint","mustSetFocus","$li","getLi","attr","$span","getSpan","trigger","removeAttr","blur","_NodeElement","animationSpeed","$button","getButton","buttonEl","icon","renderer","doOpen","getUl","slideDown","show","doClose","slideUp","hide","scrollLeft","$div","elWidth","max","elHeight","outerHeight","$hint","$ghost","moveAfter","moveBefore","moveInsideOpenFolder","moveInside","childElement","SaveStateHandler","state","stringify","getState","onSetStateFromStorage","supportsLocalStorage","localStorage","setItem","getKeyName","jsonData","loadFromStorage","parseState","selectedNodeIds","openNodes","open_nodes","selected_node","getSelectedNodes","mustLoadOnDemand","openInitialNodes","resetSelection","selectInitialNodes","cbFinished","doSetInitialStateOnDemand","getStateFromStorage","isInt","onGetStateFromStorage","getItem","nodeIds","getNodeById","selectCount","addToSelection","removeFromSelection","nodeIdsParam","selectedNodes","loadingCount","newNodesIds","loadAndOpenNode","saveState","_supportsLocalStorage","sessionStorage","removeItem","testSupport","ScrollHandler","isInitialized","ensureInit","checkVerticalScrolling","checkHorizontalScrolling","$scrollParent","scrollTop","treeTop","elementBottom","viewBottom","elementTop","viewTop","scrollParentTop","_offset","setDocumentAsScrollParent","cssAttributes","hasOverFlow","overflowValue","parents","getParentWithOverflow","tagName","initScrollParent","scrollParent","offsetHeight","refreshHitAreas","dndHandler","handleVerticalScrollingWithScrollParent","handleVerticalScrollingWithDocument","handleHorizontalScrollingWithParent","handleHorizontalScrollingWithDocument","scrollParentOffset","canScrollRight","clientWidth","scrollWidth","canScrollLeft","rightEdge","leftEdge","isNearRightEdge","isNearLeftEdge","$document","windowWidth","SelectNodeHandler","Set","selectedSingleNode","has","add","activeElement","_containsElement","_register","widgetClass","widgetName","getDataKey","getWidgetData","dataKey","widget","SimpleWidget","createWidget","destroyWidget","destroy","removeData","callFunction","functionName","widgetFunction","fn","argument1","defaults","deinit","JqTreeWidget","_version","_interopRequireDefault","_dragAndDropHandler","_elementsRenderer","_dataLoader","_keyHandler","_mouse","_saveStateHandler","_scrollHandler","_selectNodeHandler","_node6","_nodeElement","_slicedToArray","_arrayWithHoles","_i","_s","_arr","_n","_d","_iterableToArrayLimit","_nonIterableRest","_get","property","receiver","base","_superPropBase","desc","NODE_PARAM_IS_EMPTY","PARAM_IS_EMPTY","_MouseWidget","clickTarget","getClickTarget","type","toggle","stopPropagation","click_event","doSelectNode","closest","getNode","slideParam","Error","optionsParam","getData","doLoadData","param1","param2","param3","doLoadDataFromUrl","getNodeByName","getNodeByNameMustExist","getNodesByProperty","_parseParams","_this2$options$slide","isFunction","parseParams","_parseParams2","close","newNodeInfo","existingNode","newNode","addAfter","addBefore","addParent","parentNodeParam","prepend","idIsChanged","subtree","positionIndex","saveStateHandler","select","deselect","nodeOffset","nodeTop","treeOffset","scrollToY","setInitialState","option","keyHandler","eventName","values","event","Event","doOpenNode","_slide","_onFinished","open","loadFolderOnDemand","mustSelect","isSelectedNodeInSubtree","render","selectCurrentNode","getScrollLeft","getRtlOption","getDefaultClosedIcon","dataLoader","initData","handleClick","handleDblclick","useContextMenu","handleContextmenu","checkScrolling","_this$options$startDn","startDndDelay","getDataUrlInfo","dataUrl","setUrlInfoData","selectedNodeId","getNodeIdToBeSelected","_data","_this5","doInit","setInitialStateOnDemand","_this6","_restoreState2","restoreState","isRestored","autoOpen","maxLevel","getAutoOpenMaxLevel","autoOpenNodes","_this7","parseInt","$target","_node5","dataRtl","_this8","deselectCurrentNode","selectOptions","mustToggle","onCanSelectNode","selectable","previous_node","deselectedNode","deselected_node","tree_data","deselectNodes","loadSubtree","initTree","_e3","getSelectedNodesUnder","urlInfoParam","loadFromUrl","_this9","register"],"sourceRoot":""}